<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">9 posts tagged with &quot;javascript&quot; | 蓋索林 Gasolin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.gasolin.idv.tw/tags/javascript/page/2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="9 posts tagged with &quot;javascript&quot; | 蓋索林 Gasolin"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.gasolin.idv.tw/tags/javascript/page/2"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/tags/javascript/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/tags/javascript/page/2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="蓋索林 Gasolin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="蓋索林 Gasolin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2833924-9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-2833924-9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.94df118e.css">
<script src="/assets/js/runtime~main.1cb2238c.js" defer="defer"></script>
<script src="/assets/js/main.577036e3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">蓋索林 Gasolin</b></a><a href="https://gasolin.idv.tw/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tags">Tags</a><a class="navbar__item navbar__link" href="/life/mylifetools">我的工具箱</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/self-agent">用自己的代理（SelfAgent），讀自己的資料</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/2026-how-i-treat-ai">器靈與技能魔石 - 我如何看待 AI (2026)</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/my-investment-2025">這一年的投資 (2025)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/service/p2p-and-dht">不用伺服器也能通訊？P2P 聊天 App 的啟動魔法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tools/ollama">使用 Ollama 與 Holesail 遠端運行本地模型</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>9 posts tagged with &quot;javascript&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card">Setup a skype chatbot on Respberry pi with 4GB SD Card</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-04-08T02:45:45.000Z">April 8, 2016</time> · <!-- -->3 min read</div></header><div class="markdown"><p>It&#x27;s a small challenge and fun to setup a chatbot on a small device with restrained resource.</p>
<p>Here&#x27;s the instruction to setup a chatbot on Respberry pi with 4GB SD Card.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="download-respbian-lite">Download respbian lite<a href="#download-respbian-lite" class="hash-link" aria-label="Direct link to Download respbian lite" title="Direct link to Download respbian lite" translate="no">​</a></h3>
<p>We need respbian lite because normal Respbian took more than 4GB space. If you have 8GB or larger SD Card, normal Respbian works fine for you.</p>
<p>You can download them from <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener noreferrer" class="">https://www.raspberrypi.org/downloads/raspbian/</a></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flash-image-to-sdcard">Flash image to sdcard<a href="#flash-image-to-sdcard" class="hash-link" aria-label="Direct link to Flash image to sdcard" title="Direct link to Flash image to sdcard" translate="no">​</a></h3>
<p>I did it in Mac with diskutil. You can check the install guide from <a href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md" target="_blank" rel="noopener noreferrer" class="">https://www.raspberrypi.org/documentation/installation/installing-images/README.md</a> for other platforms.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ diskutil list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/disk0 (internal, physical):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/disk1 (internal, virtual):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/disk2 (internal, virtual):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... 2: Linux 3.8 GB disk2s2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ diskutil unmountDisk disk2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo dd bs=1m if=2016-03-18-raspbian-jessie-lite.img of=/dev/rdisk2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="login-to-respbian">Login to respbian<a href="#login-to-respbian" class="hash-link" aria-label="Direct link to Login to respbian" title="Direct link to Login to respbian" translate="no">​</a></h3>
<p>Respbian lite does not provide desktop environment, so we&#x27;ll do everything with command line.</p>
<p>Insert SDCard, bootup and login into respbian with</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name: pi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password: raspberry</span><br></span></code></pre></div></div>
<p>Refer from <a href="http://elinux.org/RPi_Distributions#Raspbian" target="_blank" rel="noopener noreferrer" class="">http://elinux.org/RPi_Distributions#Raspbian</a></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="install-node-and-redis">Install node and redis<a href="#install-node-and-redis" class="hash-link" aria-label="Direct link to Install node and redis" title="Direct link to Install node and redis" translate="no">​</a></h3>
<p>Refer from <a href="https://nodejs.org/en/download/package-manager/" target="_blank" rel="noopener noreferrer" class="">https://nodejs.org/en/download/package-manager/</a></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ `curl -sL https://deb.nodesource.com/setup_5.x &gt; script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ chmod 755 script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo -E ./script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo apt-get install -y nodejs build-essential redis-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ node -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v5.10.1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="install-webbybot">Install webbybot<a href="#install-webbybot" class="hash-link" aria-label="Direct link to Install webbybot" title="Direct link to Install webbybot" translate="no">​</a></h3>
<p>Webbybot is the rewrite of hubot from coffeescript to ES6, its will be more maintainable in the future.</p>
<p>In respbian lite, the git is not pre-installed, so we need install <strong>git-core</strong> from <strong>apt-get</strong> as well.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo apt-get install git-core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone https://github.com/gasolin/webby-template pibot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd pibot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./bin/webby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webby&gt; webby test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webby&gt; **pong**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deploy-on-messengers">Deploy on messengers<a href="#deploy-on-messengers" class="hash-link" aria-label="Direct link to Deploy on messengers" title="Direct link to Deploy on messengers" translate="no">​</a></h3>
<p>Check Workable adapters section to install your bot onto telegram, facebook messenger, or skype <a href="https://github.com/gasolin/webby-template#workable-adapters" target="_blank" rel="noopener noreferrer" class="">https://github.com/gasolin/webby-template#workable-adapters</a></p>
<p>Let&#x27;s take skype for example. First you need sign up an skype account, then put the username/password on to <code>.env</code> file.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi .env</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HUBOT_SKYPE_USERNAME=name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HUBOT_SKYPE_PASSWORD=password</span><br></span></code></pre></div></div>
<p>Then install hubot-skyweb adapter and switch the core to webbybot</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install hubot-skyweb</span><br></span></code></pre></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi node_module/hubot-skyweb/src/skyweb.coffee</span><br></span></code></pre></div></div>
<p>replace require &#x27;hubot&#x27; to &#x27;webbybot&#x27;. Then run</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./bin/webby -a skyweb</span><br></span></code></pre></div></div>
<p>You are good to go! You can add new skills on your pibot by following <a href="https://github.com/gasolin/webbybot/#add-plugins" target="_blank" rel="noopener noreferrer" class="">https://github.com/gasolin/webbybot/#add-plugins</a> which is same as hubot, and create your own plugin to control the respberry pi <a href="https://github.com/gasolin/webbybot#write-your-own-plugin" target="_blank" rel="noopener noreferrer" class="">https://github.com/gasolin/webbybot#write-your-own-plugin</a>.</p>
<p>Have fun!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/fun">fun</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/code/How-we-ported-Hubot-from-Coffeescript-to-ES6">How we ported Hubot from Coffeescript to ES6</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-03-14T09:04:42.000Z">March 14, 2016</time> · <!-- -->5 min read</div></header><div class="markdown"><p><a href="https://www.flickr.com/photos/franzbrandtwein/210333714/in/photolist-jA1Tm-7zsdd5-c3S9RY-6nV3Rp-96h4Vx-of3ttt-38gqh7-gmHXQv-dVEbJF-7E2T3H-HtFB3-robohy-druZRm-nrF4vh-HtFAN-7Dk3uW-pkMp7E-qpn51r-67WHcz-dmkogt-AkVdM-951oFH-af6bdQ-igcWis-bw1gLG-6ZkGsP-r3KjtA-aojgSy-qXYEst-ckHzAN-97rv7G-qfi5f6-bu6G96-4mdWDR-62fyWi-qgcVh4-89o3px-8AKiYq-Xb2wh-5K91Q3-rwerig-i19QiK-7jGYc7-2Pc3VK-bNBoUp-9RDmqK-9iEDUt-kb1z7K-dwYP4H-pN2djS" target="_blank" rel="noopener noreferrer" title="Hubo" class=""><img decoding="async" loading="lazy" src="https://farm1.staticflickr.com/91/210333714_cccff3a76f.jpg" alt="Hubo" class="img_ev3q"></a><script async="" charset="utf-8" src="//embedr.flickr.com/assets/client-code.js"></script></p>
<p>We (Fred Lin &amp; Ray Lin) have ported Github&#x27;s popular chat robot framework &#x27;<a href="https://github.com/github/hubot" target="_blank" rel="noopener noreferrer" class="">Hubot&#x27;</a> from Coffeescript to plain Javascript with ES6 features. Currently I name it <a href="https://github.com/gasolin/webbybot" target="_blank" rel="noopener noreferrer" class=""><strong>webbybot</strong></a> to denote ES6 version of hubot, to better test the port result and avoid the naming confusion with the original hubot.</p>
<p>Now webbybot is fully functional and still support all coffeescript written plugins.
If you have an existing bot generated by  hubot-generator, you can install webbybot via <code>npm  install webbybot</code> command, follow <a href="https://github.com/gasolin/webbybot#how-to-replace-hubot-to-webbybot" target="_blank" rel="noopener noreferrer" class="">with simple instruction</a> and see your bot works smoothly with webbybot core.</p>
<p>(For experienced developer, the instruction guide you to replace script in  generated &#x27;/bin&#x27; folder from &#x27;hubot&#x27; to &#x27;webby&#x27;. And change the adapter  library import from &#x27;hubot&#x27; to &#x27;webbybot&#x27;.)</p>
<p>As time goes to 2016, there&#x27;re less reason to use <a href="http://coffeescript.org/" target="_blank" rel="noopener noreferrer" class="">Coffeescript</a> instead of standard ES6 Javascript. During the porting we do learned something that might helpful for your projects.</p>
<p><strong>1. Use npm script directly instead of gulp or grunt</strong></p>
<p>With npm we can define some scripts directly in the &#x27;script&#x27; attribution of &#x27;package.json&#x27; file. Webbybot use &#x27;npm run build&#x27; command to compile ES6 to plain javascript via <a href="http://babeljs.io/" target="_blank" rel="noopener noreferrer" class="">Babel</a>. Do style checking via &#x27;npm run lint&#x27; command.</p>
<p><strong>2. Use babel directly instead of webpack</strong></p>
<p>At the beginning we count on <a href="https://webpack.github.io/" target="_blank" rel="noopener noreferrer" class="">webpack</a>&#x27;s babel-loader to convert ES6 to plain javascript. Alas its a beginning of &#x27;Try and Error&#x27; journey. Webpack is originally designed for front-end packaging and works very well on that purpose. But for backend program like webbybot that feature is not important for us. Webpack also bring &#x27;require&#x27; keyword to the front-end, but its not suit for backend program that depends on dynamic import. As a framework, hubot heavily counts on NODE require to load plugins. Webpack treat all &#x27;require&#x27; as its keyword and try hard in vain to find external modules from packed files.</p>
<p>We tried several ways to detour these side effects, and finally replaced the full webpack stack with <a href="https://github.com/gasolin/webbybot/blob/master/package.json#L10" target="_blank" rel="noopener noreferrer" class="">one line npm build script</a>. Now its easier to debug and no hacks needed in source code.</p>
<p><strong>3. return or not return, its the question</strong></p>
<p>We use the  &quot;Try Coffeescript&quot; utility provide form <a href="http://coffeescript.org/" target="_blank" rel="noopener noreferrer" class="">Coffeescript</a> official site, which you can paste Coffeescript the page will convert the source to Javascript instantly.
The converted code is... not all pretty for human read, and all converted functions will contain a return statement even its unnecessary. It needs check by hand.</p>
<p><strong>4. test cases matter</strong></p>
<p>Hubot itself contains good coverage of unit tests. So we are able to test one ported script file with one ported test file when we start the porting. The unit test files contain great number of redundant return sentences when convert from coffeescript.</p>
<p><strong>5. class and super</strong></p>
<p>Hubot use Class syntax from Coffeescript。Thanksfully ES6 support the Class syntax, which is a bit different from Coffeescript. You can check how to use Class and super on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener noreferrer" class="">MDN.</a></p>
<p><strong>6. Default + rest + spread</strong></p>
<p>Hubot contain several syntax like &#x27;reply(strings...)&#x27;. The syntax &#x27;strings...&#x27; in Coffeescript is correspondent to &quot;...strings&quot; in ES6（The order of &#x27;...&#x27; is reversed）.
&#x27;...strings&#x27; denotes an array and I feel its a bit hard to figure out when to expand it or not.</p>
<p><strong>7. for..of instead of for..in</strong></p>
<p>To use for..in loop in ES6, we need add &#x27;hasOwnProperty&#x27; check to make sure inherited property are not looped. Or we can rewrite for..in loop in Coffeescript to forEach iteration. Though there are some cases that need &#x27;break&#x27; or &#x27;return&#x27; from a loop.</p>
<p>Now we use ES6 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" target="_blank" rel="noopener noreferrer" class="">for..of loop</a> in Webbybot to replace forEach and for..in loop. You need wrap object with Object.keys syntax to iterate with object. ex: <code>for (let item  of Object.keys(TargetObj)) {...}</code>.</p>
<p><strong>8. Object.assign instead of Extend</strong></p>
<p>We can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener noreferrer" class="">Object.assign</a> to extend a object without handmade extend function or lodash!</p>
<p><strong>9. Do you know hubot also <a href="https://github.com/gasolin/webbybot/blob/master/src/robot.js#L404" target="_blank" rel="noopener noreferrer" class="">support write plugin with plain javascript</a>?</strong></p>
<p>Learning how chat bot works is the main reason we start porting hubot to ES6!
A simple plain javascript plugin could be as easy as: (src/simple.js)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; module.exports = function(robot) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; &amp;nbsp; robot.respond(/(hello)/i, function(res) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; &amp;nbsp; &amp;nbsp; res.send(&#x27;hi&#x27;); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; &amp;nbsp; });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; }You can put it in generated plugin folder and it will just work.</span><br></span></code></pre></div></div>
<p>I&#x27;ve created a <a href="https://github.com/github/hubot/issues/1138" target="_blank" rel="noopener noreferrer" class="">ticket on hubot issue list</a> to start a discussion if hubot would like to go with ES6 in its future version.</p>
<p>The webbybot source is at<a href="https://github.com/gasolin/webbybot" target="_blank" rel="noopener noreferrer" class=""> https://github.com/gasolin/webbybot</a></p>
<p>Do you have a project ported from coffeescript to ES6? Welcome to drop by your thoughts.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/devtools/port-hubot-from-Coffescript-to-ES6">將聊天機器人框架 hubot 從 Coffescript 移植到 ES6</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-03-14T08:31:46.000Z">March 14, 2016</time> · <!-- -->5 min read</div></header><div class="markdown"><p></p>
<p>(<a class="" href="/code/How-we-ported-Hubot-from-Coffeescript-to-ES6">English Version available here</a>）</p>
<p>用兩周多的時間，路路續續把原本用 <a href="http://coffeescript.org/" target="_blank" rel="noopener noreferrer" class="">Coffeescript</a> 撰寫的 <a href="https://github.com/github/hubot" target="_blank" rel="noopener noreferrer" class="">Hubot</a> 聊天機器人框架移植成使用到 ES6 特性的純 Javascript 版本。
現在這個移植版本已經可供使用。移植後依然可以使用 Hubot 原來以 Coffeescript 撰寫的各種擴充套件 (Plugins) 。
<a href="https://github.com/gasolin/webbybot" target="_blank" rel="noopener noreferrer" class="">https://github.com/gasolin/webbybot</a>
(目前的版本完全移植 Hubot 的功能，已開 <a href="https://github.com/github/hubot/issues/1138#issue-138031128" target="_blank" rel="noopener noreferrer" class="">Issue</a> 詢問 Hubot 是否有興趣 merge 回去，在此之前先放在自己的 webbybot repo 裡)
移植的動機之一是為了了解整個聊天機器人框架，為後續可能的修改打基礎。
其二則是嘗試平常不常用到的 ES6 新特性。
過去 Coffeescript 和 <a href="http://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="">Typescript</a> 等最終編譯成 Javascript 執行的語言，都走在 Javascript 之前，提供了許多語法上的新特性。但在 2015 年 Javascript 開始的新發佈規劃 (一年一版) 下，ES6 (ES2015) 已將 Coffescript 眾多特性都收編了。且現在透過 <a href="http://babeljs.io/" target="_blank" rel="noopener noreferrer" class="">Babel</a> 可以將 ES6 編譯成現有的 Javascript 直譯器能讀懂的語法。在這樣的趨勢下，過去開發者想為這些新特性多學一套語言的誘因就不再存在了。
移植過程中採用的作法與遇到了一些坑，在此一一列出來。
<strong>1. 不用 grunt gulp, 直接使用 npm script</strong>
在 package.json 裡可以直接在 &quot;script&quot; 屬性中定義一些要執行的腳本，例如 webbybot 透過 &quot;npm run build&quot; 來將 ES6 轉換成 Javascript 直譯器能讀懂的語法。用 “npm run lint&quot; 來做 style check。
<strong>2. 不用 webpack, 直接使用 babel</strong>
移植之初決定使用 webpack 的 babel loader 來轉換 ES6，但這是一連串從「錯誤中學習」的開始。 webpack 支援使用 require 命令載入各種檔案，而且 webpack 在轉換的過程中會將檔案打包成一份。但後端程式其實不太需要打包，而且 Hubot 作為一個框架，執行後從外部讀取 Plugin 是非常重要的功能。 使用 webpack 時，它會將程式中出現的 require 都視為它的 require，而嘗試從打包好的檔案中找到我們需要的外部 plugin，結果是徒勞的。當我們換用 npm script 直接呼叫 babel-cli 來打包，原來使用 webpack 時出現的諸多問題也都一併解決了。
<strong>3. 該不該 return</strong>
在移植的過程中常用到的工具是 <a href="http://coffeescript.org/" target="_blank" rel="noopener noreferrer" class="">Coffeescript</a> 官網的 &quot;Try Coffeescript&quot; 分頁。可以即時將 Coffeescript 結果轉換成 Javascript。 但是真的把程式碼貼上去會發現， Coffeescript 所轉出來的 Javascript 所有的函式都會回傳值。需要手工一個個確認。
<strong>4. test cases</strong>
Hubot 本身有很完整的單元測試。所以每移植一支程式碼時，只要一併移植對應的單元測試，就可以捉對拿來直接測試。單元測試移植時出現最多該不該 return 的問題。
<strong>5. class and super</strong>
Hubot 使用了很多 Coffeescript 的 Class 語法。Class 與 super 的用法在 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener noreferrer" class="">MDN</a> 上可以找到相關教學。
<strong>6. Default + Rest + Spread</strong>
Hubot 程式碼裡常常會出現諸如 reply (strings...) 的語法。Coffeescript 裡的 &quot;strings...&quot; 可以對應到 ES6 的 &quot;...strings&quot;（... 放置位置剛好相反）。
&quot;...strings&quot; 代表的是一個陣列。在程式中有時要展開有時不用，其實頗令人苦惱。<strong>7. 使用 for..of 替換 for.. in 迴圈</strong>
碰到 for..in 迴圈有幾種解法，最不會出錯的是將 Array iteration 改寫成 forEach。但是用 forEach ˇ的話無法在執行中使用 break/return 跳出是其缺點。其二是在 for..in 迴圈裡加入 hasOwnProperty 確認不會跑到無關的 function。
在 Webbybot 的第二版中已使用 ES6 支援的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" target="_blank" rel="noopener noreferrer" class="">for..of 迴圈</a> 來取代 forEach 和 for..in 迴圈。由於 for..of 迴圈只支援 iteratable ，不支援一般 Object，所以碰到要對 Object 跑迴圈時可以在 Object 外包一層 Object.keys，例如 <code>for (let item of Object.keys(TargetObj)) {...}</code>
<strong>8. 使用 Object.assign 替換 Extend</strong></p>
<p>要擴展一個物件的功能不用再用 lodash 或是自己寫 extend 函式，直接用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener noreferrer" class="">Object.assign</a> 吧。</p>
<p>以上是移植過程中碰上的問題。感謝同事 Ray Lin 一起幫忙完成這次的移植。</p>
<p>現在 Webbybot (Hubot ES6 port) 整套都可以用 Javascript 寫了，歡迎試用或上 Patch 喔。</p>
<p></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/devtools/debug-with-firebug">3 分鐘學會用 firebug 除錯</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2012-08-10T10:00:32.000Z">August 10, 2012</time> · <!-- -->2 min read</div></header><div class="markdown"><p>firebug 是 firefox 的一個插件.
可以說是當前用來 debug javascript 程式的最佳選擇.
firebug 還提供了一些好用的函式可以讓您的測試更順暢.</p>
<p><a href="http://www.digitalmediaminute.com/screencast/firebug-js/" target="_blank" rel="noopener noreferrer" class="">這段影片</a> 展示了 firebug 提供的一些好用的函式.</p>
<p>廢話不多說，馬上來看看吧:</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="印出一般訊息--consolelog">印出一般訊息 : console.log<a href="#印出一般訊息--consolelog" class="hash-link" aria-label="Direct link to 印出一般訊息 : console.log" title="Direct link to 印出一般訊息 : console.log" translate="no">​</a></h2>
<p>就像許多程式語言中的 &#x27;print&#x27; 語句，firebug 提供的 console.log 語  句可以直接印出變數值.
例如</p>
<blockquote>
<p>console.log (變數);</p>
</blockquote>
<p>或者印出包含變數的敘述</p>
<blockquote>
<p>console.log (&quot;敘述: % d&quot;% 變數);</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="印出具有提示圖示的訊息-consoleinfoconsolewarnconsoleerror">印出具有提示圖示的訊息 console.info/console.warn/console.error<a href="#印出具有提示圖示的訊息-consoleinfoconsolewarnconsoleerror" class="hash-link" aria-label="Direct link to 印出具有提示圖示的訊息 console.info/console.warn/console.error" title="Direct link to 印出具有提示圖示的訊息 console.info/console.warn/console.error" translate="no">​</a></h2>
<p>與印出一般訊息 (console.log) 使用的方式完全相同，console.info/console.warn/console.error 只是會在訊息前加上相應圖示</p>
<blockquote>
<p>console.info (a) 提示圖示
console.warn (b) 警示圖示
console.error (c) 錯誤圖示</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="使用除錯介面-debugger">使用除錯介面 debugger<a href="#使用除錯介面-debugger" class="hash-link" aria-label="Direct link to 使用除錯介面 debugger" title="Direct link to 使用除錯介面 debugger" translate="no">​</a></h2>
<p>只要在想要除錯的地方前加上一行加上 debugger 語句</p>
<blockquote>
<p>debugger;
.....</p>
</blockquote>
<p>執行時就會彈出一個互動式的除錯介面.
除錯介面提供了單步執行等功能，並即時取得當前各相關變數的狀態.
也可以看到迴圈每次執行後改變的值</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="計算花費時間-consoletimeconsoletimeend">計算花費時間 console.time/console.timeEnd<a href="#計算花費時間-consoletimeconsoletimeend" class="hash-link" aria-label="Direct link to 計算花費時間 console.time/console.timeEnd" title="Direct link to 計算花費時間 console.time/console.timeEnd" translate="no">​</a></h2>
<p>對於 AJAX 程式來說有些動作會花費較多的時間，使用</p>
<blockquote>
<p>console.time (&quot;跑&quot;)
.....
console.timeEnd (&quot;跑&quot;)</p>
</blockquote>
<p>將要測試的程式段包起來，執行時就會印出該段程式所花費的執行時間</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/firebug">firebug</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/javascript"><div class="pagination-nav__label">Newer entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Personal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://blog.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://www.mytravelmap.tk/u/gg112695256249584453237" target="_blank" rel="noopener noreferrer" class="footer__link-item">Traveled<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Career</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/gasolin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 gasolin. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>