---
title: æ²’æ™‚é–“äº†ï¼Œå¿«ä¸Šè»Šï¼åœ¨å®¶è·‘ Ethereum 2.0 é©—è­‰ç¯€é»
tags:
  - ethereum
date: 2020-07-04 17:06:46
---

[ä»¥å¤ªåŠ (Ethereum)](https://zh.wikipedia.org/zh-tw/%E4%BB%A5%E5%A4%AA%E5%9D%8A)ä½œç‚º 2014 å¹´æ‰é–‹å§‹å€å¡Šéˆçš„å°ˆæ¡ˆï¼Œè¿‘å¹´ç™¼å±•è¿…é€Ÿï¼Œçœ¾å¤šåœ¨ä»¥å¤ªåŠä¸Šçš„æ´»å‹•è®“ç›®å‰çš„æ¯ç§’äº¤æ˜“é€Ÿåº¦(~13 TPS)å·²ä¸ç¬¦æ‰€éœ€ã€‚ç¶“éå¤šå¹´çš„å¯¦é©—èˆ‡è¨è«–ï¼Œä»¥å¤ªåŠ (Ethereum) çš„ä¸‹ä¸€ä»£ [Ethereum 2.0 è·¯ç·šåœ–](https://www.blocktempo.com/the-state-of-eth2-june-2020/)ä¹Ÿå·²ç¶“è¶Šä¾†è¶Šæ¸…æ™°ã€‚

ç›®å‰ä»¥å¤ªåŠ (Ethereum) 2.0 å³å°‡é€²å±•è‡³ Phase 0 éšæ®µã€‚åœ¨æ­¤éšæ®µä»¥å¤ªåŠ 1.0 å’Œ 2.0 çš„ç¶²è·¯å°‡ä¸¦å­˜ã€‚ç›´åˆ°ç™¼å±•åˆ° Phase 1.5 éšæ®µï¼Œ1.0 ç¶²è·¯å°‡æœƒèåˆé€² 2.0ç¶²è·¯ã€‚éš¨è‘—æ™‚é–“æ¥è¿‘ï¼Œ2.0 æ¸¬è©¦ç¶²è·¯èˆ‡å¤šç¨®é©—è­‰ç¯€é»çš„æ¸¬è©¦ç‰ˆä¹Ÿé™¸çºŒé‡‹å‡ºï¼Œç¶²è·¯ä¸Šå·²æœ‰è¨±å¤šç¶“é©—å¯åƒè€ƒï¼Œæ­£æ˜¯å˜—è©¦çš„å¥½æ™‚æ©Ÿã€‚

é€™é‚Šç•¥éå„ç¨®åŸºç¤ä»‹ç´¹ï¼Œç›´æ¥å¾å¦‚ä½•é‹è¡Œä»¥å¤ªåŠ (Ethereum) 2.0 çš„é©—è­‰ç¯€é»é–‹å§‹ã€‚

å¦‚æœè¦ºå¾—é€™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Œæ­¡è¿å‚³é€å°è²»åˆ° 0xfDa995Eb398750319a2D5E8A4766c02e54db24b8 (æˆ– gasolin.eth)

## å¿«é€Ÿå…¥é–€ (ç¡¬é«”éœ€æ±‚)

- é©—è­‰ç¯€é»éœ€è¦ 24 å°æ™‚é‹ä½œï¼ˆå¯çŸ­æ™‚é–“é›¢ç·šï¼‰
- Passmark CPU Mark (x86, ARM) åˆ†æ•¸è‡³å°‘ 4000 åˆ†
- è‡³å°‘ 512G çš„ SSD
- é‹ä½œæœŸé–“æœƒé•·æœŸä½”ç”¨ 300k bps å·¦å³çš„ç¶²è·¯é »å¯¬

åœ¨[åƒè€ƒç›¸é—œæ–‡ç« ï¼Œä¸¦è€ƒæ…®æ•´é«”æˆæœ¬](https://www.facebook.com/groups/taipei.ethereum.meetup/permalink/1435541646639005/)å¾Œï¼Œæˆ‘é¸æ“‡æ¨¹è“æ´¾4ä»£ (Raspberry Pi 4) 4GBç‰ˆç•¶ä½œä¸»æ©Ÿï¼Œæ­é… 512G çš„ USB ä»‹é¢å¤–æ¥ SSD ä¾†è·‘é©—è­‰ç¯€é»(ç¸½èƒ½è€— = æ©Ÿå™¨æœ¬èº«æœ€é«˜è€—èƒ½ 5V * 3A = 15Wï¼Œå†åŠ ä¸Šå®¶ç”¨è·¯ç”±å™¨è¦ä¸€ç›´é–‹è‘—è‘—çš„èƒ½è€—ã€‚æ¨¹è“æ´¾4ä¸€èˆ¬èƒ½è€—æ‡‰è©²åœ¨5~9Wä¹‹é–“)ã€‚

ç¥å¥‡çš„æ˜¯ï¼Œéœ€è¦çš„ç¡¬é«”ç«Ÿç„¶åœ¨ PCHome å°±å¯ä»¥ä¸€æ¬¡è²·é½Š ğŸ˜
![Imgur](https://i.imgur.com/XvSUG8i.png)

(æˆ‘å·²æœ‰ 16G+ SDå¡ï¼ŒSDå¡è®€å¡æ©Ÿï¼ŒHDMIå¤–æ¥è¢å¹•ï¼ŒUSBå¤–æ¥éµç›¤)ï¼Œæ—æ—ç¸½ç¸½å¿…è¦æˆæœ¬å¤§æ¦‚åœ¨ 7000 å…ƒå…§ã€‚

## å¿«é€Ÿå…¥é–€ (è»Ÿé«”éœ€æ±‚)

é©—è­‰ç¯€é»éœ€è¦
1. åƒè€ƒ Ethereum 1.0 çš„å€å¡Šéˆç¯€é»
2. åŒæ­¥ Ethereum 2.0 Beaconéˆ
3. é‹è¡Œ Ethereum 2.0 çš„ Validatorï¼ˆé©—è­‰è€…ç¯€é»ï¼‰

å› æ­¤è»Ÿé«”ä¸­éœ€è¦åŒ…å«

```mermaid
graph LR
  U[Ubuntu 20.04] --> C(Ethereum 1 Chain, ä¸æŒ–ç¤¦, Geth)
  U --> B(Ethereum 2 Beacon Chain, Prysm)
  U --> V(Ethereum 2 Validator, Prysm)
```

ç¡¬é«”æº–å‚™å¥½å¾Œï¼Œè‹¥æƒ³è¦å¿«é€Ÿé–‹å§‹é«”é©—ï¼Œå¯ä»¥åƒè€ƒ [EthereumOnARM](https://github.com/diglos/pi-gen/tree/ethraspbian2.0/) å°ˆæ¡ˆæä¾›çš„ [ROM ç‰ˆæœ¬](https://www.reddit.com/r/ethereum/comments/hhvi2r/ethereum_on_arm_new_eth20_raspberry_pi_4_image/)
æˆ–æ˜¯åƒè€ƒä»–çš„[è…³æœ¬](https://github.com/diglos/pi-gen/tree/ethraspbian2.0/stage2)ä¾†è¨­å®šï¼ˆè«‹ç•™æ„ä½¿ç”¨ä»–äººåŒ…å¥½çš„ ROM çš„é¢¨éšªï¼‰ã€‚

## å¿«é€Ÿå…¥é–€ (è»Ÿé«”è¨­å®š)

> æŠŠ SD å¡ç‡’å¥½ï¼Œè·¯ç”±å™¨ä¸Šé–‹ 13000/30303 port forwardingï¼Œæ¥ä¸Šç¶²è·¯ï¼Œå°±è‡ªå‹•è£å¥½è‡ªå‹•è·‘

### 1. ç‡’ ROM

ä¸‹è¼‰å¥½ EthereumOnARM ROM ä¹‹å¾Œï¼Œåœ¨é›»è…¦ä¸Šä½¿ç”¨ balena Etcher ç­‰ç‡’éŒ„è»Ÿé«”ï¼Œå°‡ROMç‡’éŒ„åˆ°SDå¡ä¸­ã€‚

### 2. è¨­å®šæ©Ÿå™¨

å°‡ç¶²è·¯ç·šæ¥åˆ°æ¨¹è“æ´¾4ä¸Šï¼Œæ’å…¥ç‡’å¥½ROMçš„SDå¡ï¼Œä¸¦å°‡å¤–æ¥SSDæ’åˆ°è—è‰²çš„USBæ¥å£ä¸Šã€‚
é€šä¸Šé›»æºå¾Œï¼Œå³æœƒè‡ªå‹•é–‹æ©Ÿä¸¦åŸ·è¡Œæ‰€æœ‰çš„è¨­å®šï¼ˆç³»çµ±èª¿æ•´ï¼Œæ ¼å¼åŒ– SSDï¼Œå®‰è£æ‰€éœ€ç¨‹å¼ï¼‰ã€‚

å‡ºç¾ç™»å…¥æç¤ºå¾Œä»¥ ethereum/ethereum ç™»å…¥ã€‚
ç™»å…¥å¾Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ `hostname -I` æŸ¥çœ‹æ©Ÿå™¨ç›®å‰åˆ†é…åˆ°çš„ IPã€‚

```sh
$ hostname -I
192.168.1.123
```

### 3. æŸ¥çœ‹é‹ä½œç‹€æ…‹

é€™æ™‚å°±å¯ä»¥é€éå…¶ä»–è¨­å‚™æŸ¥çœ‹æ¨¹è“æ´¾4çš„ç‹€æ…‹ã€‚

é–‹å•Ÿç€è¦½å™¨ï¼Œè¼¸å…¥ http://[ip]:3000 ï¼Œä½¿ç”¨ admin/ethereum ç™»å…¥ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹çš„ç›£è¦–åœ–è¡¨

è¨­å‚™ç‹€æ…‹

![Imgur](https://i.imgur.com/r7lRWTW.png)

Ethereum 1.0
![Imgur](https://i.imgur.com/cllCJXK.png)

Ethereum 2.0 çš„ç›£è¦–åœ–è¡¨åœ¨ Ethereum 1.0 å€å¡ŠéˆåŒæ­¥å®Œæˆå‰ï¼Œéƒ½é‚„ä¸æœƒæ­£å¸¸é¡¯ç¤º

### 4. è¨­å®šç¶²è·¯

æ‰“é–‹å®¶ç”¨è·¯ç”±å™¨çš„è¨­å®šé é¢ï¼Œå°‡æ¨¹è“æ´¾4åˆ†é…åˆ°ä»¥ä¸ŠæŸ¥åˆ°çš„å›ºå®šå…§ç¶²IP (å¦‚ä¸Šä¾‹å°±æ˜¯ `192.168.1.123`)ã€‚

åœ¨ WANï¼ˆå¤–éƒ¨ç¶²è·¯ï¼‰ç«¯è¨­å®šé é¢çš„`Port Forwarding`ï¼Œæˆ–`è™›æ“¬ä¼ºæœå™¨`è¨­å®šä¸­ï¼Œå°‡ä»¥ä¸‹ port ç¶å®šåˆ°æ¨¹è“æ´¾4çš„å…§ç¶²IP

- 13000 (TCP)
- 12000 (UDP)
- 30303 (TCP, UDP)

é€™æ¨£å¾å¤–é¢å‚³å…¥é€™äº› port çš„å°åŒ…ï¼Œå°±æœƒè‡ªå‹•è½‰å‚³åˆ°æ¨¹è“æ´¾4ã€‚

### è¨­å®šé©—è­‰è€… (Validator)è³‡è¨Š

åœ¨Ethereum 1.0 å€å¡ŠéˆåŒæ­¥å®Œå¾Œï¼Œå¯ä»¥é€éé ç«¯é€£ç·šçš„æ–¹å¼ä¾†é€£ç·šåˆ°æ¨¹è“æ´¾4

```
ssh ethereum@192.168.1.123
```

ä¸¦åœ¨ç€è¦½å™¨ä¸Šé–‹å•Ÿ https://prylabs.net/participate åƒç…§èªªæ˜ç”³è«‹ï¼ˆéœ€ç”¨ä»¥å¤ªåŠéŒ¢åŒ…ï¼‰ã€‚

![Imgur](https://i.imgur.com/N7q32gk.png)

ç”³è«‹å¾Œå¦‚æœ validator process ä¹Ÿé †åˆ©å•Ÿå‹•ï¼Œå¯ä»¥åœ¨ Ethereum 2.0 ç›£è¦–åœ–è¡¨ä¸­çœ‹åˆ° `Validator process started` è¨Šæ¯ã€‚

`Validator Main Info`çš„`Status`(ç‹€æ…‹)æ¬„ä½ä¹Ÿæœƒè®Šæˆ`DEPOSITED`(å·²å­˜å…¥)ç‹€æ…‹ã€‚

![Imgur](https://i.imgur.com/IwHa9w7.png)

## é‹ä½œä¹‹å¾Œ

æ­å–œä½ å·²ç¶“ä¸Šè»Šäº†ï¼ğŸ¤‘

ä½ æ‡‰è©²è¦çŸ¥é“ï¼Œä½ æ”¾äº† 32ETH ï¼ˆç¾åƒ¹7000+ç¾é‡‘ï¼‰åœ¨ä»¥å¤ªåŠ 2.0 çš„ç¶²è·¯ä¸Šï¼Œä¸€å…©å¹´çš„æ™‚é–“å…§ç„¡æ³•å–å›åˆ°ä»¥å¤ªåŠ 1.0 ç¶²è·¯ä¸Šä½¿ç”¨ã€‚

......ğŸ˜²ğŸ˜±ğŸ˜¡ğŸ¤¬

é‚„å¥½ï¼Œç¾åœ¨è·‘çš„é‚„åªæ˜¯æ¸¬è©¦ç¶²è·¯ï¼Œä¸ç”¨æ”¾çœŸçš„ ETH ğŸ˜œã€‚

é€™æ™‚å€™ï¼Œæ˜¯ä¸æ˜¯æ›´æ‡‰è©²ä»”ç´°æŸ¥çœ‹ä¸€ä¸‹ç•¶å‰ Ethereum 2.0 çš„ä¹˜è»Šè¦å‰‡ (Spec) æ˜¯ä¸æ˜¯åˆç†ï¼Ÿ åœ¨éç¨‹ä¸­é‡åˆ°å„ç¨®å•é¡Œæ™‚ï¼ŒEthereum 2.0 ç¶²è·¯æœƒæ€éº¼è™•ç†ï¼Ÿ
https://github.com/ethereum/eth2.0-specs/tree/dev/specs/phase0

### å…¶ä»–è»Ÿé«”è¨­å®šé¸æ“‡

å¯ä»¥åƒè€ƒå·²æœ‰ä¸€äº›æ‰‹å‹•å®‰è£æ•™å­¸å¦‚

- https://medium.com/@SomerEsat/guide-to-staking-on-ethereum-2-0-ubuntu-prysm-witti-2b972e697918
- https://hive.blog/ethereum/@tarekadam/altona-test-net-validator-using-raspberry-pi4b-8-gb

æ•™ä½ å¾ Ubuntu 20.04 é–‹å§‹å¾é ­è£ã€‚

## å…¶ä»–çš„ç¡¬é«”é¸æ“‡

å¯ä»¥åƒè€ƒ https://kb.beaconcha.in/community/staking-and-hardware


## åƒè€ƒè³‡æ–™
- EthereumOnARM çš„ Github Repo https://github.com/diglos/pi-gen/tree/ethraspbian2.0/
- æˆ‘ç¬¬ä¸€æ¬¡å®‰è£çš„ ROM ç‰ˆæœ¬
https://www.reddit.com/r/ethereum/comments/gf3nhg/ethereum_on_arm_raspberry_pi_4_images_release/
- ETH 2 stacking çš„å³æ™‚å›å ±ç‡å¯åƒè€ƒ https://beaconcha.in/calculator
- ç”¨ Windows 10 æˆ– Mac OS æ¶ https://kb.beaconcha.in/tutorial-eth2-multiclient
- Prysm çš„ Issue Tracker https://github.com/prysmaticlabs/prysm/issues
