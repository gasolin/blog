<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Blog | è“‹ç´¢æ— Gasolin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.gasolin.idv.tw/page/15"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | è“‹ç´¢æ— Gasolin"><meta data-rh="true" name="description" content="äººå€‘ç¸½æ˜¯é«˜ä¼°ä¸€å¹´å¯ä»¥å®Œæˆçš„äº‹ï¼Œå»ä½ä¼°åå¹´èƒ½å®Œæˆçš„äº‹"><meta data-rh="true" property="og:description" content="äººå€‘ç¸½æ˜¯é«˜ä¼°ä¸€å¹´å¯ä»¥å®Œæˆçš„äº‹ï¼Œå»ä½ä¼°åå¹´èƒ½å®Œæˆçš„äº‹"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.gasolin.idv.tw/page/15"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/page/15" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/page/15" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://blog.gasolin.idv.tw/page/15","mainEntityOfPage":"https://blog.gasolin.idv.tw/page/15","headline":"Blog","description":"äººå€‘ç¸½æ˜¯é«˜ä¼°ä¸€å¹´å¯ä»¥å®Œæˆçš„äº‹ï¼Œå»ä½ä¼°åå¹´èƒ½å®Œæˆçš„äº‹","blogPost":[{"@type":"BlogPosting","@id":"https://blog.gasolin.idv.tw/tools/xps13-elementary-os","mainEntityOfPage":"https://blog.gasolin.idv.tw/tools/xps13-elementary-os","url":"https://blog.gasolin.idv.tw/tools/xps13-elementary-os","headline":"Dual boot Elementary OS & Windows 10 on XPS 13 (9360)","name":"Dual boot Elementary OS & Windows 10 on XPS 13 (9360)","description":"I just successfully installed Elementary OS Luna (0.4.1) along side with Windows 10 on my new Dell XPS 9360 machine.","datePublished":"2017-10-25T14:40:48.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://blog.gasolin.idv.tw/crypto/howto-write-an-erc20-compatible-token","mainEntityOfPage":"https://blog.gasolin.idv.tw/crypto/howto-write-an-erc20-compatible-token","url":"https://blog.gasolin.idv.tw/crypto/howto-write-an-erc20-compatible-token","headline":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(III)å»ºç«‹æ¨™æº–ä»£å¹£","name":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(III)å»ºç«‹æ¨™æº–ä»£å¹£","description":"ä¸Šä¸€ç¯‡ä¸­æˆ‘å€‘å·²å¯«å¥½ä¸¦éƒ¨ç½²å®Œæˆäº†ç°¡å–®çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„ã€‚åœ¨é–±è®€å®Œæœ¬æ–‡å¾Œï¼Œä½ å°‡å­¸æœƒå»ºç«‹ä¸€å€‹å¯ä»¥æ”¾åˆ°ä¹™å¤ªå¹£éŒ¢åŒ…çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µã€‚","datePublished":"2017-09-16T17:35:31.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://blog.gasolin.idv.tw/crypto/howto-write-a-simple-token","mainEntityOfPage":"https://blog.gasolin.idv.tw/crypto/howto-write-a-simple-token","url":"https://blog.gasolin.idv.tw/crypto/howto-write-a-simple-token","headline":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(II)å»ºç«‹åŠ å¯†ä»£å¹£","name":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(II)å»ºç«‹åŠ å¯†ä»£å¹£","description":"Update: 12/28/2017 æ›´æ–°æ•™ç¨‹ï¼Œä½¿ç”¨requireå–ä»£throwã€‚","datePublished":"2017-09-12T00:47:31.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://blog.gasolin.idv.tw/crypto/howto-write-a-smart-contract","mainEntityOfPage":"https://blog.gasolin.idv.tw/crypto/howto-write-a-smart-contract","url":"https://blog.gasolin.idv.tw/crypto/howto-write-a-smart-contract","headline":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(I)","name":"å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(I)","description":"Update: 11/30/2017 æ›´æ–°æ•™ç¨‹ï¼Œä½¿ç”¨Truffle 4.0.1ã€‚","datePublished":"2017-09-06T18:30:31.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://blog.gasolin.idv.tw/crypto/what-is-smart-contract","mainEntityOfPage":"https://blog.gasolin.idv.tw/crypto/what-is-smart-contract","url":"https://blog.gasolin.idv.tw/crypto/what-is-smart-contract","headline":"ä»€éº¼æ˜¯æ™ºèƒ½åˆç´„(Smart Contract)?","name":"ä»€éº¼æ˜¯æ™ºèƒ½åˆç´„(Smart Contract)?","description":"æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼?","datePublished":"2017-09-02T22:14:48.000Z","author":[],"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="è“‹ç´¢æ— Gasolin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="è“‹ç´¢æ— Gasolin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2833924-9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-2833924-9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.94df118e.css">
<script src="/assets/js/runtime~main.1cb2238c.js" defer="defer"></script>
<script src="/assets/js/main.577036e3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">è“‹ç´¢æ— Gasolin</b></a><a href="https://gasolin.idv.tw/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a class="navbar__item navbar__link" href="/tags">Tags</a><a class="navbar__item navbar__link" href="/life/mylifetools">æˆ‘çš„å·¥å…·ç®±</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/self-agent">ç”¨è‡ªå·±çš„ä»£ç†ï¼ˆSelfAgentï¼‰ï¼Œè®€è‡ªå·±çš„è³‡æ–™</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/2026-how-i-treat-ai">å™¨éˆèˆ‡æŠ€èƒ½é­”çŸ³ - æˆ‘å¦‚ä½•çœ‹å¾… AI (2026)</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/my-investment-2025">é€™ä¸€å¹´çš„æŠ•è³‡ (2025)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/service/p2p-and-dht">ä¸ç”¨ä¼ºæœå™¨ä¹Ÿèƒ½é€šè¨Šï¼ŸP2P èŠå¤© App çš„å•Ÿå‹•é­”æ³•</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tools/ollama">ä½¿ç”¨ Ollama èˆ‡ Holesail é ç«¯é‹è¡Œæœ¬åœ°æ¨¡å‹</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/tools/xps13-elementary-os">Dual boot Elementary OS &amp; Windows 10 on XPS 13 (9360)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-10-25T14:40:48.000Z">October 25, 2017</time> Â· <!-- -->3 min read</div></header><div class="markdown"><p>I just successfully installed Elementary OS Luna (0.4.1) along side with Windows 10 on my new Dell XPS 9360 machine.</p>
<p>Comparing this XPS 13 <code>9360 (8th Gen i7)</code> with my previous model <code>9343 (5th Gen i7)</code>, the CPU is way faster(feels like 3 times faster), the wireless works well and the signal is stronger (which I was encountered some issues in XPS 13 9343), the keyboard feedback is pleasent, and the battery life did last longer in 9360.</p>
<p>Several settings are trickier than early days when I try to install *nux on Notebook. Here&#x27;s the self reference guide and hope it could help others.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="settings-on-windows">Settings on Windows<a href="#settings-on-windows" class="hash-link" aria-label="Direct link to Settings on Windows" title="Direct link to Settings on Windows" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="login-to-microsoft-account">Login to Microsoft account<a href="#login-to-microsoft-account" class="hash-link" aria-label="Direct link to Login to Microsoft account" title="Direct link to Login to Microsoft account" translate="no">â€‹</a></h3>
<p>It&#x27;s necessary to bind your account with the device, so you can get recovery key later.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flash-elementary-os-to-the-usb-disk">Flash Elementary OS to the USB disk<a href="#flash-elementary-os-to-the-usb-disk" class="hash-link" aria-label="Direct link to Flash Elementary OS to the USB disk" title="Direct link to Flash Elementary OS to the USB disk" translate="no">â€‹</a></h3>
<p>I download the OS image from <a href="http://elementary.io/" target="_blank" rel="noopener noreferrer" class="">Elementary OS web site</a> and use <a href="https://unetbootin.github.io/" target="_blank" rel="noopener noreferrer" class="">Unetbootin</a> to flash the image into the disk.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="shrink-the-disk-space">Shrink the disk space<a href="#shrink-the-disk-space" class="hash-link" aria-label="Direct link to Shrink the disk space" title="Direct link to Shrink the disk space" translate="no">â€‹</a></h3>
<p>I have the 256GB SSD, I use <a href="https://www.partitionwizard.com/" target="_blank" rel="noopener noreferrer" class="">Partition Wizard</a> to slice ~100GB for Elementary OS.</p>
<p>I have 8GB RAM so I <a href="https://askubuntu.com/questions/49109/i-have-16gb-ram-do-i-need-32gb-swap" target="_blank" rel="noopener noreferrer" class="">reference</a> the recommend swap size and left ~8GB for swap.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="disable-fast-startup">Disable fast startup<a href="#disable-fast-startup" class="hash-link" aria-label="Direct link to Disable fast startup" title="Direct link to Disable fast startup" translate="no">â€‹</a></h3>
<p>I also need to follow the instructions to <a href="https://www.tenforums.com/tutorials/4189-turn-off-fast-startup-windows-10-a.html" target="_blank" rel="noopener noreferrer" class="">disable the fast startup</a> on Windows.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="switch-sata-operation-mode-from-raid-to-ahci">Switch SATA operation mode from RAID to AHCI<a href="#switch-sata-operation-mode-from-raid-to-ahci" class="hash-link" aria-label="Direct link to Switch SATA operation mode from RAID to AHCI" title="Direct link to Switch SATA operation mode from RAID to AHCI" translate="no">â€‹</a></h3>
<p>Here&#x27;s the most tricky part. It takes me a while to figure out how to switch the SATA storage from RAID to AHCI. The trick is doing this procedure with <a href="http://triplescomputers.com/blog/uncategorized/solution-switch-windows-10-from-raidide-to-ahci-operation/" target="_blank" rel="noopener noreferrer" class="">Windows safe mode</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="settings-on-bios">Settings on BIOS<a href="#settings-on-bios" class="hash-link" aria-label="Direct link to Settings on BIOS" title="Direct link to Settings on BIOS" translate="no">â€‹</a></h2>
<p>Press <code>F12</code> during booting.</p>
<ul>
<li class="">Don&#x27;t need to turn off the security boot.</li>
<li class="">Follow above link&#x27;s instructions to config SATA storage.</li>
<li class="">Save the configureation before exit.</li>
</ul>
<p>Reboot to windows and make sure windows runs nicely in safemode. Then follow above link&#x27;s instructions to jump out of safemode.</p>
<p>Now I&#x27;m prepared and able to install Elementary OS.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="install-elementary-os-through-usb-disk">Install Elementary OS through USB disk<a href="#install-elementary-os-through-usb-disk" class="hash-link" aria-label="Direct link to Install Elementary OS through USB disk" title="Direct link to Install Elementary OS through USB disk" translate="no">â€‹</a></h2>
<p>Install Elementary OS as usual Ubuntu distribution.</p>
<p>First connect to wifi and allow install 3rd party softwares.</p>
<p>Add the left space as <code>/</code>(root) with <code>Ext4</code> format. And set the left ~8GB as <code>SWAP</code> format.</p>
<p>Then continue the auto install process.</p>
<p>Now I have a clean Elementary OS.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="recover-windows-with-bitlocker-recovery-keys">Recover Windows with BitLocker recovery keys<a href="#recover-windows-with-bitlocker-recovery-keys" class="hash-link" aria-label="Direct link to Recover Windows with BitLocker recovery keys" title="Direct link to Recover Windows with BitLocker recovery keys" translate="no">â€‹</a></h2>
<p>After restart I can see an option menu with Elementary OS and Windows Boot Manager.</p>
<p>I can boot to Elementary OS without major issue.</p>
<p>Well, I met the problem that AppCenter can&#x27;t start correctly, so I do <code>sudo apt update &amp;&amp; sudo apt upgrade</code> then <code>sudo apt purge appcenter &amp;&amp; sudo apt purge packagekit</code> then restart and run <code>sudo apt install appcenter &amp;&amp; sudo apt install packagekit</code> to make it work normally.</p>
<p>The input method and bluetooth pairing seems not work out of box, but I can live with that.</p>
<p>Then when I boot to Windows, I need to enter the BitLocker recovery keys. That could be solved by <a href="https://support.microsoft.com/en-us/help/17133/windows-8-bitlocker-recovery-keys-frequently-asked-questions" target="_blank" rel="noopener noreferrer" class="">following the FAQ from microsoft</a>. I need to login to Microsoft Account and find the recovery key.</p>
<p>Enter the recovery key then everything works.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/linux">linux</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/crypto/howto-write-an-erc20-compatible-token">å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(III)å»ºç«‹æ¨™æº–ä»£å¹£</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-16T17:35:31.000Z">September 16, 2017</time> Â· <!-- -->7 min read</div></header><div class="markdown"><p><a class="" href="/crypto/howto-write-a-simple-token">ä¸Šä¸€ç¯‡</a>ä¸­æˆ‘å€‘å·²å¯«å¥½ä¸¦éƒ¨ç½²å®Œæˆäº†ç°¡å–®çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„ã€‚åœ¨é–±è®€å®Œæœ¬æ–‡å¾Œï¼Œä½ å°‡å­¸æœƒå»ºç«‹ä¸€å€‹å¯ä»¥æ”¾åˆ°ä¹™å¤ªå¹£éŒ¢åŒ…ğŸ‘›çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é–‹ç™¼å‰çš„æº–å‚™">é–‹ç™¼å‰çš„æº–å‚™<a href="#é–‹ç™¼å‰çš„æº–å‚™" class="hash-link" aria-label="Direct link to é–‹ç™¼å‰çš„æº–å‚™" title="Direct link to é–‹ç™¼å‰çš„æº–å‚™" translate="no">â€‹</a></h2>
<p>å»¶çºŒä¸Šä¸€ç¯‡çš„å…§å®¹ï¼Œåœ¨é–‹ç™¼çš„éç¨‹ä¸­ï¼Œæˆ‘å€‘å°‡ç¹¼çºŒä½¿ç”¨<code>testrpc</code>[^1] å·¥å…·åœ¨é›»è…¦ä¸Šæ¨¡æ“¬æ™ºèƒ½åˆç´„æ‰€éœ€çš„ä¹™å¤ªåŠå€å¡Šéˆæ¸¬è©¦ç’°å¢ƒã€‚</p>
<p>é¦–å…ˆç¢ºä¿å·²å•Ÿå‹• testrpcã€‚è‹¥å°šæœªå•Ÿå‹•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å•Ÿå‹•ï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ testrpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>é€™é‚Šæœ‰å€‹å€¼å¾—ä¸€å­¸çš„å°æŠ€å·§ï¼šåœ¨å•Ÿå‹• testrpc æ™‚åŠ ä¸Š<code>--seed</code>åƒæ•¸ï¼Œä¾‹å¦‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">testrpc --seed apple banana cherry</span><br></span></code></pre></div></div>
<p>é€™æ¨£ä¹‹å¾Œé‡æ–°å•Ÿå‹• testrpc æ™‚å¯ä»¥ç”¢ç”Ÿä¸€æ¨£çš„å¸³è™Ÿ (accounts) å’Œç§é‘° (private key)ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="erc20æ¨™æº–">ERC20 æ¨™æº–<a href="#erc20æ¨™æº–" class="hash-link" aria-label="Direct link to ERC20 æ¨™æº–" title="Direct link to ERC20 æ¨™æº–" translate="no">â€‹</a></h2>
<p>å»ºç«‹çš„ä»£å¹£è‹¥è¦èƒ½é€éä¹™å¤ªå¹£éŒ¢åŒ…ğŸ‘›ä¾†æ”¶é€ï¼Œå¿…é ˆç›¸å®¹æ–¼ä»¥å¤ªåŠçš„ ERC20 æ¨™æº– [^2]ã€‚ERC20 æ¨™æº–å®šç¾©äº†æ”¯æ´éŒ¢åŒ…æ‰€å¿…é ˆçš„åˆç´„ä»‹é¢ã€‚</p>
<p>æœ¬ç¯‡å°‡ä½¿ç”¨<code>OpenZeppelin</code>[^2] å‡½å¼åº«ä¾†ç°¡åŒ–å»ºç«‹åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µçš„éç¨‹ã€‚<code>OpenZeppelin</code>æ˜¯ä¸€å¥—å”åŠ©æ’°å¯«å®‰å…¨çš„åŠ å¯†åˆç´„çš„å‡½å¼åº«ï¼Œè£¡é¢ä¹Ÿæä¾›äº†ç›¸å®¹ ERC20 æ¨™æº–çš„æ™ºèƒ½åˆç´„ã€‚å¯ä»¥é€é npm å·¥å…·å®‰è£åˆ°å°ˆæ¡ˆç›®éŒ„<code>node_modules/zeppelin-solodity/</code>ä¸­ï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install zeppelin-solidity</span><br></span></code></pre></div></div>
<p>æº–å‚™å®Œæˆï¼Œæˆ‘å€‘å¯ä»¥é–‹å§‹å»ºç«‹æ–°çš„åŠ å¯†ä»£å¹£æ™ºèƒ½åˆç´„äº†ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å»ºç«‹ä¸€å€‹æ¨™æº–ä»£å¹£åˆç´„">å»ºç«‹ä¸€å€‹æ¨™æº–ä»£å¹£åˆç´„<a href="#å»ºç«‹ä¸€å€‹æ¨™æº–ä»£å¹£åˆç´„" class="hash-link" aria-label="Direct link to å»ºç«‹ä¸€å€‹æ¨™æº–ä»£å¹£åˆç´„" title="Direct link to å»ºç«‹ä¸€å€‹æ¨™æº–ä»£å¹£åˆç´„" translate="no">â€‹</a></h2>
<p>åœ¨<code>contracts/</code>ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹<code>HelloToken.sol</code>æª”æ¡ˆã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¾†ç”¢ç”Ÿæª”æ¡ˆï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle create contract HelloToken</span><br></span></code></pre></div></div>
<p><code>HelloToken.sol</code>æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;zeppelin-solidity/contracts/token/StandardToken.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloToken is StandardToken {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string public name = &quot;HelloCoin&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string public symbol = &quot;H@&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint8 public decimals = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint256 public INITIAL_SUPPLY = 88888;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function HelloToken() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    totalSupply = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    balances[msg.sender] = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£">è¬›è§£<a href="#è¬›è§£" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span></code></pre></div></div>
<p>ç¬¬ä¸€è¡ŒæŒ‡åç›®å‰ä½¿ç”¨çš„ solidity ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬çš„ solidity å¯èƒ½æœƒç·¨è­¯å‡ºä¸åŒçš„ bytecodeã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;zeppelin-solidity/contracts/token/StandardToken.sol&quot;;</span><br></span></code></pre></div></div>
<p>æ¥è‘—æˆ‘å€‘ä½¿ç”¨<code>import</code>èªå¥ï¼Œä¾†è®€å…¥<code>zeppelin-solidity</code>æä¾›çš„<code>StandardToken</code>åˆç´„ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloToken is StandardToken {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>å»ºç«‹<code>HelloToken</code>åˆç´„  æ™‚ï¼Œä½¿ç”¨<code>is</code>èªå¥ç¹¼æ‰¿äº†<a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/token/StandardToken.sol" target="_blank" rel="noopener noreferrer" class="">StandardToken</a>åˆç´„ã€‚å› æ­¤<code>HelloToken</code>åˆç´„ç¹¼æ‰¿äº†<code>StandardToken</code>åˆç´„æ‰€åŒ…å«çš„è³‡æ–™èˆ‡å‘¼å«æ–¹æ³•ã€‚</p>
<p>ç•¶æˆ‘å€‘ç¹¼æ‰¿äº†<code>StandardToken</code>åˆç´„ï¼Œä¹Ÿå°±æ”¯æ´äº†ä»¥ä¸‹ ERC-20 æ¨™æº–ä¸­ [^2] è¦å®šçš„å‡½å¼</p>

































<table><thead><tr><th>å‡½å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>totalSupply()</td><td>ä»£å¹£ç™¼è¡Œçš„ç¸½é‡</td></tr><tr><td>balanceOf(A)</td><td>æŸ¥è©¢ A å¸³æˆ¶ä¸‹çš„ä»£å¹£æ•¸ç›®</td></tr><tr><td>transfer(A,x)</td><td>å‚³é€ x å€‹ä»£å¹£åˆ° A å¸³æˆ¶</td></tr><tr><td>transferFrom(A,x)</td><td>å¾ A å¸³æˆ¶æå– x å€‹ä»£å¹£</td></tr><tr><td>approve(A,x)</td><td>åŒæ„ A å¸³æˆ¶å¾æˆ‘çš„å¸³æˆ¶ä¸­æå–ä»£å¹£</td></tr><tr><td>allowance(A,B)</td><td>æŸ¥è©¢ B å¸³æˆ¶å¯ä»¥å¾ A å¸³æˆ¶æå–å¤šå°‘ä»£å¹£</td></tr></tbody></table>
<p>å’Œå‰ä¸€ç¯‡ä¸€æ¨£ï¼Œå¾Œé¢é©—è­‰æ™‚æœƒç”¨åˆ°<code>balanceOf</code>å’Œ<code>transfer</code>å…©å€‹å‡½å¼ã€‚å› ç‚º<code>StandardToken</code>åˆç´„ä¸­å·²ç¶“å¹«æˆ‘å€‘å¯¦åšäº†é€™äº›å‡½å¼ï¼Œå› æ­¤æˆ‘å€‘ä¸éœ€è¦è‡ªå·±å¾é ­å†å¯«ä¸€æ¬¡ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">string public name = &quot;HelloCoin&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string public symbol = &quot;H@&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint8 public decimals = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint256 public INITIAL_SUPPLY = 100000;</span><br></span></code></pre></div></div>
<p>é€™é‚Šè¨­å®šåƒæ•¸çš„ç›®çš„æ˜¯æŒ‡å®šé€™å€‹ä»£å¹£çš„ä¸€äº›ç‰¹æ€§ã€‚ä»¥ç¾å…ƒç‚ºä¾‹ï¼Œç¾å…ƒçš„åç¨± (<code>name</code>) æ˜¯<code>dollar</code>ï¼Œç¾å…ƒçš„ä»£è™Ÿç‚º<code>$</code>ï¼Œæ‹¿ä¸€ç¾å…ƒå»æ‰¾é›¶æœ€å°å¯ä»¥æ‹¿åˆ°é›¶éŒ¢æ˜¯ä¸€ç¾åˆ† (cent)ï¼Œä¹Ÿå°±æ˜¯ 0.01 å…ƒã€‚å› ç‚ºä¸€ç¾å…ƒæœ€å°å¯åˆ†å‰²åˆ°å°æ•¸é»å¾Œ 2 ä½ (0.01)ï¼Œå› æ­¤æœ€å°äº¤æ˜“å–®ä½ (decimals) ç‚º 2ã€‚</p>
<p>é€™é‚Šå°‡é€™å€‹åŠ å¯†ä»£å¹£å–å (name) ç‚º<code>HelloCoin</code>(å“ˆå›‰å¹£)ï¼Œä»£å¹£çš„ä»£è™Ÿ (symbol) ç‚º<code>H@</code>ï¼Œæœ€å°åˆ†å‰²å–®ä½æ˜¯ 2 (æœ€å°å¯ä»¥æ‰¾ 0.01 å€‹å“ˆå›‰å¹£)ã€‚</p>
<p>ä»¥ä¸‹ç‚ºç¾é‡‘ï¼Œæ¯”ç‰¹å¹£ï¼Œä»¥å¤ªå¹£ï¼Œå“ˆå›‰å¹£çš„å°ç…§è¡¨ä¾›åƒè€ƒï¼š</p>






























<table><thead><tr><th>Name</th><th>Symbol</th><th>decimals</th></tr></thead><tbody><tr><td>Dollar</td><td>$</td><td>2</td></tr><tr><td>Bitcoin</td><td>BTC</td><td>8</td></tr><tr><td>Ethereum</td><td>ETH</td><td>18</td></tr><tr><td>HelloCoin</td><td>H@</td><td>2</td></tr></tbody></table>
<p>æœ€å¾Œä¹Ÿå®šç¾©äº†åˆå§‹ä»£å¹£æ•¸ç›®<code>INITIAL_SUPPLY</code>ç‚º<code>100000</code>ã€‚ç•¶æˆ‘å€‘æŠŠå…¨åŸŸè®Šæ•¸è¨­ç‚º<code>public</code>(å…¬é–‹)ï¼Œç·¨è­¯æ™‚å°±æœƒè‡ªå‹•æ–°å¢ä¸€å€‹è®€å–å…¬é–‹è®Šæ•¸çš„ ABI æ¥å£ï¼Œæˆ‘å€‘åœ¨<code>truffle console</code>ä¸­ä¹Ÿå¯ä»¥è®€å–é€™äº›è®Šæ•¸ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function HelloToken() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  totalSupply = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  balances[msg.sender] = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>å’Œåˆç´„åŒåçš„<code>HelloToken</code>æ–¹æ³•ï¼Œå°±æ˜¯<code>HelloToken</code>åˆç´„çš„å»ºæ§‹å‡½å¼ (constructor)ã€‚
åœ¨å»ºæ§‹å¼è£¡æŒ‡å®šäº†<code>totalSupply</code>æ•¸ç›®ï¼Œä¸¦å°‡æ‰€æœ‰çš„åˆå§‹ä»£å¹£<code>INITIAL_SUPPLY</code>éƒ½æŒ‡å®šçµ¦<code>msg.sender</code>å¸³è™Ÿï¼Œä¹Ÿå°±æ˜¯ç”¨ä¾†éƒ¨ç½²é€™å€‹åˆç´„çš„å¸³è™Ÿã€‚â€µ<code>totalSupply</code>å®šç¾©æ–¼<a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/token/ERC20Basic.sol#L10" target="_blank" rel="noopener noreferrer" class="">ERC20Basic.sol</a>ä¸­ï¼Œ<code>balances</code>å®šç¾©æ–¼<a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/token/BasicToken.sol#L15" target="_blank" rel="noopener noreferrer" class="">BasicToken.sol</a>ä¸­ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;../math/SafeMath.sol&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using SafeMath for uint256;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">balances[msg.sender] = balances[msg.sender].sub(_value);</span><br></span></code></pre></div></div>
<p>é€²ä¸€æ­¥è¿½å»çœ‹<a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/token/BasicToken.sol" target="_blank" rel="noopener noreferrer" class="">BasicToken.sol</a>åˆç´„çš„å…§ å®¹ï¼Œå¯ä»¥ç™¼ç¾<code>BasicToken.sol</code>åˆç´„ä¸­åŒ¯å…¥äº†<code>SafeMath.sol</code>åˆç´„ [^7]ã€‚<code>SafeMath</code>å°å„ç¨®æ•¸å€¼é‹ç®—åŠ å…¥äº†å¿…è¦çš„é©—è­‰ï¼Œè®“åˆç´„ä¸­çš„æ•¸å­—è¨ˆç®—æ›´å®‰å…¨ã€‚</p>
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å·²å¯«å¥½ä¸€å€‹å¯é€éä»¥å¤ªå¹£éŒ¢åŒ…äº¤æ˜“çš„æ–°åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„ã€‚å¦‚æœå°‡é€™å€‹åˆç´„éƒ¨ç½²åˆ°ä¹™å¤ªåŠå…¬é–‹å€å¡ŠéŠä¸Šï¼Œé€™å€‹ä»£å¹£åˆç´„å°±æœƒä¸€ç›´å­˜åœ¨ï¼Œä¸–ç•Œä¸Šå¾æ­¤ä¹Ÿå°±å¤šäº†ä¸€ç¨®æ–°çš„åŠ å¯†ä»£å¹£ã€‚åªè¦ä½ èƒ½æ‰¾åˆ°äººæƒ³æ“æœ‰é€™ç¨®ä»£å¹£ï¼Œé€™ç¨®ä»£å¹£å°±æœ‰äº¤æ˜“çš„åƒ¹å€¼ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç·¨è­¯èˆ‡éƒ¨ç½²">ç·¨è­¯èˆ‡éƒ¨ç½²<a href="#ç·¨è­¯èˆ‡éƒ¨ç½²" class="hash-link" aria-label="Direct link to ç·¨è­¯èˆ‡éƒ¨ç½²" title="Direct link to ç·¨è­¯èˆ‡éƒ¨ç½²" translate="no">â€‹</a></h3>
<p>åœ¨<code>migrations/</code>ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹<code>4_deploy_hellotoken.js</code>æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">HelloToken</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HelloToken&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">deployer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  deployer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deploy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">HelloToken</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>ç¾åœ¨åŸ·è¡Œ compile èˆ‡ migrate å‘½ä»¤</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate --reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 4_deploy_hellotoken.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying HelloToken...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ... 0x2c4659528c68b4e43d1edff6c989fba05e8e7e56cc4085d408426d339b4e9ba4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HelloToken: 0x352fa9aa18106f269d944935503afe57a00a9a0d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ... 0x1434c1b61e9719f410fc6090ce37c0ec141a1738aba278dd320738e4a5d229fa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span></code></pre></div></div>
<p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å·²å°‡ HelloCoin ä»£å¹£åˆç´„éƒ¨ç½²åˆ° testrpc ä¸Šã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é©—è­‰">é©—è­‰<a href="#é©—è­‰" class="hash-link" aria-label="Direct link to é©—è­‰" title="Direct link to é©—è­‰" translate="no">â€‹</a></h2>
<p>æˆ‘å€‘ä¸€æ¨£å¯ä»¥é€é<code>truffle console</code>ä¾†é©—è­‰<code>HelloToken</code>  æ˜¯å¦éƒ¨ç½²æˆåŠŸã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HelloToken.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;0x352fa9aa18106f269d944935503afe57a00a9a0d&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 5, c: [ 100000 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 0, c: [ 0 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.transfer(web3.eth.accounts[1], 123)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[0])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 4, c: [ 99877 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 2, c: [ 123 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£-1">è¬›è§£<a href="#è¬›è§£-1" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h3>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SimpleToken.deployed().then(instance =&gt; contract = instance)</span><br></span></code></pre></div></div>
<p>é€™é‚Šä½¿ç”¨<code>HelloToken.deployed().then</code>èªå¥ä¾†å–å¾— HelloToken åˆç´„çš„ Instance (å¯¦ä¾‹)ï¼Œä¸¦å­˜åˆ°<code>contract</code>è®Šæ•¸ä¸­ï¼Œä»¥æ–¹ä¾¿å¾ŒçºŒçš„å‘¼å«ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 5, c: [ 100000 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 0, c: [ 0 ] }</span><br></span></code></pre></div></div>
<p><code>web3.eth.coinbase</code> ä»£è¡¨æ“ä½œè€…é è¨­çš„å¸³è™Ÿï¼Œå³ testrpc æ‰€æä¾›çš„ 10 å€‹å¸³è™Ÿä¸­çš„ç¬¬ä¸€å€‹å¸³è™Ÿï¼Œä¹Ÿå¯ä»¥é€é<code>web3.eth.accounts[0]</code>å–å¾—ã€‚
é€™å…©å¥çš„ç›®çš„æ˜¯åœ¨é€²è¡Œè½‰å¸³æ“ä½œå‰ï¼Œå…ˆæŸ¥è©¢å‰å…©å€‹å¸³è™Ÿæ‰€æ“æœ‰çš„ä»£å¹£é¤˜é¡ã€‚é€éå‘¼å«<code>balanceOf</code>å‡½å¼ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€å€‹å¸³è™Ÿ (éƒ¨ç½²åˆç´„çš„å¸³è™Ÿ) è£¡å­˜è‘—æ‰€æœ‰çš„ä»£å¹£ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.transfer(web3.eth.accounts[1], 123)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>æ¥è‘—ä½¿ç”¨<code>transfer</code>å‡½å¼ä¾†å‚³é€<code>123</code>å€‹ä»£å¹£åˆ°ç¬¬äºŒå€‹å¸³è™Ÿ<code>web3.eth.accounts[1]</code>ã€‚å¦‚æœè½‰å¸³æˆåŠŸï¼Œå‚³é€è€…é è¨­å¸³è™Ÿä¸­æœƒæ¸›å°‘<code>123</code>å€‹ä»£å¹£ï¼Œæ¥æ”¶è€…å¸³è™Ÿä¸­æœƒå¢åŠ <code>123</code>å€‹ä»£å¹£ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[0])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 4, c: [ 99877 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 2, c: [ 123 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<p>æˆ‘å€‘å†æ¬¡é€éå‘¼å«<code>balanceOf</code>å‡½å¼ï¼ŒæŸ¥è©¢å‚³é€è€…å¸³è™Ÿå’Œæ¥æ”¶è€…å¸³è™Ÿå„è‡ªå‰©ä¸‹çš„ HelloToken æ•¸ç›®ã€‚ç™¼ç¾è½‰å¸³çœŸçš„æˆåŠŸäº†ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="çµèª">çµèª<a href="#çµèª" class="hash-link" aria-label="Direct link to çµèª" title="Direct link to çµèª" translate="no">â€‹</a></h2>
<p>æˆ‘å€‘ç”¨åˆ° <code>OpenZeppelin</code>æä¾›çš„å‡½å¼åº«ä¾†ç°¡åŒ–æ’°å¯«åŠ å¯†ä»£å¹£åˆç´„çš„å·¥ä½œã€‚è¦å¯¦éš›æŠ•å…¥ä½¿ç”¨å‰ï¼Œé‚„æ˜¯å»ºè­°å°‡å‘¼å«åˆ°çš„ç¨‹å¼ç¢¼éƒ½å†å¯©æŸ¥å¹¾éã€‚å¯ä»¥å¾ OpenZeppelin è‡ªå·±æä¾›çš„ Audit é–‹å§‹çœ‹ [^4]ï¼Œå¯ä»¥å­¸åˆ°ä¸€äº›è§€å¿µã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™<a href="#åƒè€ƒè³‡æ–™" class="hash-link" aria-label="Direct link to åƒè€ƒè³‡æ–™" title="Direct link to åƒè€ƒè³‡æ–™" translate="no">â€‹</a></h2>
<ul>
<li class="">[1] <a href="https://github.com/ethereumjs/testrpc" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereumjs/testrpc</a></li>
<li class="">[2] ERC20 <a href="https://theethereum.wiki/w/index.php/ERC20_Token_Standard" target="_blank" rel="noopener noreferrer" class="">https://theethereum.wiki/w/index.php/ERC20_Token_Standard</a> æˆ– <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20-token-standard.md" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20-token-standard.md</a></li>
<li class="">[3] OpenZeppelin <a href="https://github.com/OpenZeppelin/zeppelin-solidity" target="_blank" rel="noopener noreferrer" class="">https://github.com/OpenZeppelin/zeppelin-solidity</a></li>
<li class="">[4] OpenZeppelin Audit <a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/audit/ZeppelinAudit.md" target="_blank" rel="noopener noreferrer" class="">https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/audit/ZeppelinAudit.md</a></li>
<li class="">[5] An Ethereum Hello World Smart Contract for Beginners part 1 <a href="http://www.talkcrypto.org/blog/2017/04/17/an-ethereum-hello-world-smart-contract-for-beginners-part-1/" target="_blank" rel="noopener noreferrer" class="">http://www.talkcrypto.org/blog/2017/04/17/an-ethereum-hello-world-smart-contract-for-beginners-part-1/</a></li>
<li class="">[6] <a href="http://www.talkcrypto.org/blog/2017/04/22/an-ethereum-hello-world-smart-contract-for-beginners-part-2/" target="_blank" rel="noopener noreferrer" class="">http://www.talkcrypto.org/blog/2017/04/22/an-ethereum-hello-world-smart-contract-for-beginners-part-2/</a></li>
<li class="">[7] OpenZeppelin <a href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/math/SafeMath.sol" target="_blank" rel="noopener noreferrer" class="">SafeMath åˆç´„</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/solidity">solidity</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/crypto/howto-write-a-simple-token">å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(II)å»ºç«‹åŠ å¯†ä»£å¹£</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-12T00:47:31.000Z">September 12, 2017</time> Â· <!-- -->8 min read</div></header><div class="markdown"><p>Update: 12/28/2017 æ›´æ–°æ•™ç¨‹ï¼Œä½¿ç”¨ require å–ä»£ throwã€‚</p>
<p><a class="" href="/crypto/howto-write-a-smart-contract">ä¸Šä¸€ç¯‡</a>ä¸­æˆ‘å€‘å·²å¯«å¥½ä¸¦éƒ¨ç½²å®Œæˆäº†ç¬¬ä¸€å€‹æ™ºèƒ½åˆç´„ï¼Œä¹Ÿé©—è­‰äº†åˆç´„ç¢ºå¯¦å¯ä»¥é‹ä½œã€‚åœ¨é–±è®€å®Œæœ¬ç¯‡å¾Œï¼Œä½ å°‡å­¸æœƒå»ºç«‹ä¸€å€‹ç°¡æ˜“çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µã€‚æœ¬ç¯‡ç›®çš„ä¸¦éç‚ºäº†å¯«å‡ºä¸€å€‹å®‰å…¨å¯ç”¨çš„åŠ å¯†ä»£å¹£ï¼Œè€Œæ˜¯ä»¥ä»‹ç´¹ä»£å¹£åˆç´„çš„ç›¸é—œæ¦‚å¿µç‚ºä¸»ï¼Œ æ˜¯ä»¥å°åˆç´„åšäº†é©ç•¶åœ°ç°¡åŒ–ï¼Œå¥½æ›´æ˜“æ–¼ç†è§£ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é–‹ç™¼å‰çš„æº–å‚™">é–‹ç™¼å‰çš„æº–å‚™<a href="#é–‹ç™¼å‰çš„æº–å‚™" class="hash-link" aria-label="Direct link to é–‹ç™¼å‰çš„æº–å‚™" title="Direct link to é–‹ç™¼å‰çš„æº–å‚™" translate="no">â€‹</a></h2>
<p>å»¶çºŒä¸Šä¸€ç¯‡çš„å…§å®¹ï¼Œåœ¨é–‹ç™¼çš„éç¨‹ä¸­ï¼Œæˆ‘å€‘å°‡ç¹¼çºŒä½¿ç”¨<code>testrpc</code>[^1] å·¥å…·åœ¨é›»è…¦ä¸Šæ¨¡æ“¬æ™ºèƒ½åˆç´„æ‰€éœ€çš„ä¹™å¤ªåŠå€å¡Šéˆæ¸¬è©¦ç’°å¢ƒã€‚</p>
<p>é¦–å…ˆç¢ºä¿å·²å•Ÿå‹• testrpcï¼Œè‹¥å°šæœªå•Ÿå‹•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å•Ÿå‹•</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ testrpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>é€™æ¨£æˆ‘å€‘å°±å¯ä»¥é–‹å§‹å»ºç«‹åŠ å¯†ä»£å¹£æ™ºèƒ½åˆç´„å°ˆæ¡ˆäº†ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä»£å¹£åˆç´„çš„åŸºç¤æ¦‚å¿µ">ä»£å¹£åˆç´„çš„åŸºç¤æ¦‚å¿µ<a href="#ä»£å¹£åˆç´„çš„åŸºç¤æ¦‚å¿µ" class="hash-link" aria-label="Direct link to ä»£å¹£åˆç´„çš„åŸºç¤æ¦‚å¿µ" title="Direct link to ä»£å¹£åˆç´„çš„åŸºç¤æ¦‚å¿µ" translate="no">â€‹</a></h2>
<p>ä»£å¹£åˆç´„æ‰®æ¼”åƒæ˜¯éŠ€è¡ŒğŸ¦çš„è§’è‰²ã€‚ä½¿ç”¨è€…åœ¨ä»£å¹£åˆç´„ä¸­ï¼Œç”¨è‡ªå·±çš„ä¹™å¤ªå¹£å¸³æˆ¶åœ°å€ç•¶ä½œéŠ€è¡Œå¸³æˆ¶ï¼Œå¯ä»¥é€éä»£å¹£åˆç´„  åŸ·è¡Œè½‰å¸³ (transferï¼Œå°‡ä»£å¹£ç”±ä¸€å€‹å¸³æˆ¶å‚³é€åˆ°å¦ä¸€å€‹å¸³æˆ¶)ï¼ŒæŸ¥è©¢é¤˜é¡ (balanceOfï¼ŒæŸ¥è©¢æŒ‡å®šå¸³æˆ¶ä¸­æ“æœ‰çš„ä»£å¹£) ç­‰åŸæœ¬ç”±éŠ€è¡Œè² è²¬çš„å·¥ä½œã€‚å› ç‚ºåˆç´„éƒ¨ç½²åœ¨å…¬é–‹å€å¡Šéˆä¸Šï¼Œæ‰€æœ‰çš„äº¤æ˜“éƒ½æ˜¯å…¬é–‹é€æ˜ï¼Œå¯ä¾›æª¢é©—çš„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å»ºç«‹ä¸€å€‹ä»£å¹£åˆç´„">å»ºç«‹ä¸€å€‹ä»£å¹£åˆç´„<a href="#å»ºç«‹ä¸€å€‹ä»£å¹£åˆç´„" class="hash-link" aria-label="Direct link to å»ºç«‹ä¸€å€‹ä»£å¹£åˆç´„" title="Direct link to å»ºç«‹ä¸€å€‹ä»£å¹£åˆç´„" translate="no">â€‹</a></h2>
<p>åœ¨<code>contracts/</code>ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹<code>SimpleToken.sol</code>æª”æ¡ˆã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¾†ç”¢ç”Ÿæª”æ¡ˆï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle create contract SimpleToken</span><br></span></code></pre></div></div>
<p><code>SimpleToken.sol</code>æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract SimpleToken {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint256 INITIAL_SUPPLY = 10000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mapping(address =&gt; uint256) balances;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function SimpleToken() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    balances[msg.sender] = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // transfer token for a specified address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function transfer(address _to, uint256 _amount) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(balances[msg.sender] &gt; _amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    balances[msg.sender] -= _amount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    balances[_to] += _amount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Gets the balance of the specified address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function balanceOf(address _owner) public constant returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return balances[_owner];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£">è¬›è§£<a href="#è¬›è§£" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span></code></pre></div></div>
<p>ç¬¬ä¸€è¡ŒæŒ‡åç›®å‰ä½¿ç”¨çš„ solidity ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬çš„ solidity å¯èƒ½æœƒç·¨è­¯å‡ºä¸åŒçš„ bytecodeã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">uint256 INITIAL_SUPPLY = 10000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapping(address =&gt; unit256) balances;</span><br></span></code></pre></div></div>
<p>æˆ‘å€‘å®šç¾©äº†åˆå§‹ä»£å¹£æ•¸ç›®<code>INITIAL_SUPPLY</code>ã€‚é€™é‚Šéš¨æ„é¸æ“‡äº†ä¸€å€‹æ•¸å­—<code>10000</code>ã€‚</p>
<p>æˆ‘å€‘ç”¨<code>mapping</code>ä¾†å®šç¾©ä¸€å€‹å¯ä»¥å„²å­˜éµå€¼å° (key-value pair) çš„è³‡æ–™çµæ§‹ (é¡ä¼¼ Javascript ä¸­çš„<code>{&quot;0xaabbccddeeff&quot;: 888}</code>)ï¼ŒåŒæ™‚ä¹Ÿéœ€è¦åˆ†åˆ¥æŒ‡å®š<code>address</code>ä½œç‚ºéµçš„å‹åˆ¥ï¼ŒæŒ‡å®š<code>uint256</code>ä½œç‚ºå€¼çš„å‹åˆ¥ã€‚å’Œ Javascript ä¸åŒï¼Œå‹åˆ¥å®šç¾©å¥½å¾Œä¸èƒ½éš¨æ™‚æ›´æ”¹è¦å„²å­˜çš„å‹åˆ¥ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract SimpleToken {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function SimpleToken() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    balances[msg.sender] = INITIAL_SUPPLY;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>å’Œåˆç´„åŒåçš„<code>SimpleToken</code>å‡½å¼ï¼Œå°±æ˜¯<code>SimpleToken</code>é€™å€‹åˆç´„çš„å»ºæ§‹å‡½å¼ (constructor)ã€‚å‡½å¼ä¸­æˆ‘å€‘æ‹¿<code>msg.sender</code>ç•¶ä½œ keyï¼Œ<code>INITIAL_SUPPLY</code>ç•¶ä½œå€¼ï¼Œå°‡æ‰€æœ‰çš„åˆå§‹ä»£å¹£<code>INITIAL_SUPPLY</code>éƒ½æŒ‡å®šçµ¦<code>msg.sender</code>å¸³è™Ÿã€‚
<code>msg</code>æ˜¯ä¸€å€‹å…¨åŸŸ (Global) ç‰©ä»¶ [^2]ï¼Œ<code>msg.sender</code>è¡¨ç¤ºç”¨ä½œå‘¼å«ç•¶å‰å‡½å¼çš„å¸³è™Ÿã€‚ç”±æ–¼å»ºæ§‹å‡½å¼åªæœ‰åœ¨åˆç´„éƒ¨ç½²æ™‚æœƒè¢«åŸ·è¡Œï¼Œå› æ­¤é€™é‚Šç”¨åˆ°çš„<code>msg.sender</code>ï¼Œä¹Ÿå°±ä»£è¡¨è‘—ç”¨ä¾†éƒ¨ç½²é€™å€‹åˆç´„çš„å¸³è™Ÿã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function transfer(address _to, uint256 _amount) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require(balances[msg.sender] &gt; _amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  balances[msg.sender] -= _amount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  balances[_to] += _amount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><code>transfer</code>å‡½å¼å®šç¾©äº†å¦‚ä½•<code>è½‰å¸³</code>ï¼Œåªè¦æŒ‡å®šè¦å‚³é€çš„å¸³è™Ÿèˆ‡æ•¸ç›®ï¼Œå°±æœƒå¾å‘¼å«è€…æ‰‹ä¸ŠæŠŠå°æ‡‰æ•¸ç›®çš„ä»£å¹£ç§»è½‰åˆ°æŒ‡å®šçš„å¸³è™Ÿä¸Šã€‚</p>
<!-- -->
<p><code>require(balances[msg.sender] &gt; _amount);</code>èªå¥åˆ¤æ–·å¸³æˆ¶ä¸­æ˜¯å¦é‚„æœ‰è¶³å¤ è½‰å‡ºçš„é¤˜é¡ï¼Œè‹¥å­˜æ¬¾å°æ–¼æƒ³è½‰å‡ºçš„æ•¸ç›®ï¼Œå°±ä¸Ÿå‡ºéŒ¯èª¤ã€‚</p>
<p>é€™å€‹å‡½å¼é€™éº¼å¯«ç•¶ç„¶é‚„æ˜¯éåº¦ç°¡åŒ–äº†ï¼Œè‹¥è¦èƒ½å¯¦éš›ä½¿ç”¨ï¼Œéœ€è¦æª¢æŸ¥æ›´å¤šå¯èƒ½çš„ç‹€æ³ã€‚ä½†å°±å…ˆé€™æ¨£å§ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function balanceOf(address _owner) public constant returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return balances[_owner];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><code>balanceOf</code>å‡½å¼çš„ä½œç”¨ï¼Œæ˜¯è®“ä½¿ç”¨è€…å¯ä»¥æŸ¥è©¢ä»»ä¸€å¸³è™Ÿçš„é¤˜é¡ã€‚é€éå‚³å…¥<code>_owner</code>å¸³è™Ÿï¼Œå¯ä»¥æŸ¥è©¢<code>_owner</code>å¸³è™Ÿå„²å­˜åœ¨<code>balances</code>å°ç…§è¡¨ä¸­çš„å€¼ã€‚</p>
<!-- -->
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å°±å¯«å¥½ä¸€å€‹æ–°åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„å›‰ï¼æ¥ä¸‹ä¾†å°‡è¦ç·¨è­¯åˆç´„ä¸¦éƒ¨ç½²åˆ°å€å¡Šéˆä¸Šã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç·¨è­¯èˆ‡éƒ¨ç½²">ç·¨è­¯èˆ‡éƒ¨ç½²<a href="#ç·¨è­¯èˆ‡éƒ¨ç½²" class="hash-link" aria-label="Direct link to ç·¨è­¯èˆ‡éƒ¨ç½²" title="Direct link to ç·¨è­¯èˆ‡éƒ¨ç½²" translate="no">â€‹</a></h3>
<p>åœ¨<code>migrations/</code>ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹<code>3_deploy_token.js</code>æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">SimpleToken</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SimpleToken&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">deployer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  deployer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deploy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">SimpleToken</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>ç¾åœ¨å¯åŸ·è¡Œ compile èˆ‡ migrate å‘½ä»¤</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 3_deploy_token.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying HelloToken...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ... 0x2c4659528c68b4e43d1edff6c989fba05e8e7e56cc4085d408426d339b4e9ba4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SimpleToken: 0x352fa9aa18106f269d944935503afe57a00a9a0d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ... 0x1434c1b61e9719f410fc6090ce37c0ec141a1738aba278dd320738e4a5d229fa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span></code></pre></div></div>
<p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å·²å°‡<code>SimpleToken</code>ä»£å¹£åˆç´„éƒ¨ç½²åˆ° testrpc ä¸Šã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é©—è­‰">é©—è­‰<a href="#é©—è­‰" class="hash-link" aria-label="Direct link to é©—è­‰" title="Direct link to é©—è­‰" translate="no">â€‹</a></h2>
<p>åˆç´„éƒ¨ç½²å®Œæˆå¾Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨<code>truffle console</code>å‘½ä»¤é–‹å•Ÿ consoleï¼Œè¼¸å…¥ä»¥ä¸‹å‘½ä»¤ä¾†é©—è­‰åˆç´„æ˜¯å¦èƒ½ç…§æˆ‘å€‘è¨­è¨ˆçš„æ–¹å¼é‹ä½œã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SimpleToken.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 4, c: [ 10000 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 0, c: [ 0 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.transfer(web3.eth.accounts[1], 123)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 3, c: [ 9877 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf.call(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 2, c: [ 123 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£-1">è¬›è§£<a href="#è¬›è§£-1" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h3>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; SimpleToken.deployed().then(instance =&gt; contract = instance)</span><br></span></code></pre></div></div>
<p>é€™é‚Šä½¿ç”¨<code>SimpleToken.deployed().then</code>èªå¥ä¾†å–å¾— SimpleToken åˆç´„çš„ Instance (å¯¦ä¾‹)ï¼Œä¸¦å­˜åˆ°<code>contract</code>è®Šæ•¸ä¸­ï¼Œä»¥æ–¹ä¾¿å¾ŒçºŒçš„å‘¼å«ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 4, c: [ 10000 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 0, c: [ 0 ] }</span><br></span></code></pre></div></div>
<p>é‚„è¨˜å¾—å•Ÿå‹• testrpc å¾Œé è¨­æœƒç”¢ç”Ÿ 10 å€‹å¸³è™Ÿ (Accounts) å—ï¼Ÿã€‚<code>web3.eth.coinbase</code> ä»£è¡¨æ“ä½œè€…é è¨­çš„å¸³è™Ÿï¼Œå³ 10 å€‹å¸³è™Ÿä¸­çš„ç¬¬ä¸€å€‹å¸³è™Ÿ<code>web3.eth.accounts[0]</code>ï¼Œæ‰€ä»¥é€™é‚Šå‘¼å«<code>web3.eth.coinbase</code>æˆ–<code>web3.eth.accounts[0]</code>çµæœæ˜¯ä¸€æ¨£çš„ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.accounts[0])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 4, c: [ 10000 ] }</span><br></span></code></pre></div></div>
<p>é€™å…©å¥çš„ç›®çš„æ˜¯åœ¨é€²è¡Œè½‰å¸³æ“ä½œå‰ï¼Œå…ˆæŸ¥è©¢å‰å…©å€‹å¸³è™Ÿæ‰€æ“æœ‰çš„ä»£å¹£é¤˜é¡ã€‚é€éå‘¼å«<code>balanceOf</code>å‡½å¼ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€å€‹å¸³è™Ÿ (éƒ¨ç½²åˆç´„çš„å¸³è™Ÿ) è£¡å­˜è‘—æ‰€æœ‰çš„ä»£å¹£ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.transfer(web3.eth.accounts[1], 123)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>æ¥è‘—ä½¿ç”¨<code>transfer</code>å‡½å¼ä¾†å‚³é€<code>123</code>å€‹ä»£å¹£åˆ°ç¬¬äºŒå€‹å¸³è™Ÿ<code>web3.eth.accounts[1]</code>ã€‚å¦‚æœè½‰å¸³æˆåŠŸï¼Œå‚³é€è€…é è¨­å¸³è™Ÿä¸­æœƒæ¸›å°‘ 123 å€‹ä»£å¹£ï¼Œæ¥æ”¶è€…å¸³è™Ÿä¸­æœƒå¢åŠ  123 å€‹ä»£å¹£ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf(web3.eth.coinbase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 3, c: [ 9877 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.balanceOf.call(web3.eth.accounts[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BigNumber { s: 1, e: 2, c: [ 123 ] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<p>æˆ‘å€‘å†æ¬¡é€éå‘¼å«<code>balanceOf</code>å‡½å¼ï¼ŒæŸ¥è©¢å‚³é€è€…å¸³è™Ÿå’Œæ¥æ”¶è€…å¸³è™Ÿå„è‡ªå‰©ä¸‹çš„ SimpleToken æ•¸ç›®ã€‚ç™¼ç¾è½‰å¸³çœŸçš„æˆåŠŸäº†ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä½ çŸ¥é“å‰›å‰›çš„ç¨‹å¼ç¢¼è£¡æœ‰ä¸€å †å®‰å…¨æ¼æ´bombå—">ä½ çŸ¥é“å‰›å‰›çš„ç¨‹å¼ç¢¼è£¡æœ‰ä¸€å †å®‰å…¨æ¼æ´ğŸ’£å—ï¼Ÿ<a href="#ä½ çŸ¥é“å‰›å‰›çš„ç¨‹å¼ç¢¼è£¡æœ‰ä¸€å †å®‰å…¨æ¼æ´bombå—" class="hash-link" aria-label="Direct link to ä½ çŸ¥é“å‰›å‰›çš„ç¨‹å¼ç¢¼è£¡æœ‰ä¸€å †å®‰å…¨æ¼æ´ğŸ’£å—ï¼Ÿ" title="Direct link to ä½ çŸ¥é“å‰›å‰›çš„ç¨‹å¼ç¢¼è£¡æœ‰ä¸€å †å®‰å…¨æ¼æ´ğŸ’£å—ï¼Ÿ" translate="no">â€‹</a></h2>
<p>å¯«æ™ºèƒ½åˆç´„çœ‹èµ·ä¾†ä¸¦ä¸å›°é›£å§ï¼Ÿä½†å› ç‚ºæ™ºèƒ½åˆç´„çš„é‹ä½œæ˜¯é€æ˜å…¬é–‹çš„ï¼Œè€Œä¸”å…¶ä¸­ç‰½æ¶‰äº†ä»£å¹£æˆ–é‡‘éŒ¢çš„æµå‹•ï¼Œé€™æä¾›äº†é§­å®¢å¾ˆå¼·çš„æŒ‘æˆ°å‹•æ©Ÿã€‚</p>
<p>å› æ­¤å¦‚æœè¦å¦¥å–„è™•ç†æ™ºèƒ½åˆç´„ï¼Œæœƒé‡åˆ°çš„è«¸å¤šå®‰å…¨å•é¡Œã€‚å³ä½¿å–®ç´”å¦‚æœ¬ç¯‡ä¸­çš„<code>SimpleToken</code>ï¼Œä¹Ÿè‡³å°‘æœƒé‡åˆ°å¹¾å€‹å•é¡Œï¼šä¾‹å¦‚<code>transfer</code>å‡½å¼ä¸­æ²’æœ‰ç¦æ­¢å‚³å…¥è² æ•¸é‡‘é¡ï¼Œå› æ­¤å‚³é€è€…åéä¾†å¯ä»¥å¾æ¥æ”¶è€…é‚£é‚Šå–å¾—ä»£å¹£ã€‚åŒæ™‚ä¹Ÿæ²’æœ‰æª¢æŸ¥æ¥æ”¶è€…å¸³è™Ÿæ˜¯å¦åˆæ³•ï¼Œå› æ­¤å‚³é€è€…å¯èƒ½æœƒå‚³é€å¤±æ•—æˆ–å› ç‚ºé€åˆ°é»‘æ´ä¸­ï¼Œç™½ç™½æå¤±äº†ä»£å¹£ã€‚</p>
<p>æœ‰è‘—ä¸€å †å®‰å…¨æ¼æ´çš„åˆç´„ï¼Œè¼•å‰‡åŸ·è¡Œå¤±æ•—ç™½èŠ±äº¤æ˜“è²»ç”¨ï¼Œåš´é‡å‰‡å½±éŸ¿åˆ°åˆç´„ä¸­çš„ä»£å¹£æˆ–ä»¥å¤ªå¹£ã€‚å·²æœ‰å¤šèµ·å› ç‚ºåˆç´„çš„æ¼æ´ï¼Œé€ æˆå„²å­˜åœ¨åˆç´„ä¸­çš„ä»£å¹£æˆ–ä»¥å¤ªå¹£è¢«é§­å®¢è½‰èµ°ï¼Œä½¿å¾— ICO å¤±æ•—çš„æ¡ˆä¾‹ã€‚</p>
<p>æœ‰èˆˆè¶£çš„äººå¯ä»¥é€²ä¸€æ­¥æŸ¥çœ‹åƒè€ƒè³‡æ–™ [^4] å’Œ [^5] äº†è§£æ™ºèƒ½åˆç´„ç•¶å‰çš„ä¸€äº›æœ€ä½³å¯¦ç¾ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="çµèª">çµèª<a href="#çµèª" class="hash-link" aria-label="Direct link to çµèª" title="Direct link to çµèª" translate="no">â€‹</a></h2>
<p>çœ‹å®Œé€™ç¯‡é™¤äº†å­¸åˆ°æœ¬ç¯‡è¬›è§£çš„<code>SimpleToken</code>å¤–ï¼Œæ‡‰è©²ä¹Ÿå¯ä»¥å¤§è‡´çœ‹å¾—æ‡‚ truffle é è¨­çš„<code>MetaCoin.sol</code>åˆç´„äº†ã€‚ä¸åŒçš„ç´°ç¯€å¯ä»¥æŸ¥çœ‹ solidity ç›¸é—œèªæ³• [^2]ã€‚
ä¸‹ä¸€ç¯‡æœƒæ¥è‘—ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ç¶“éé©—è­‰çš„å‡½å¼åº«ï¼Œä¾†å»ºç«‹ä¸€ä»½å¯ä»¥æ”¾åˆ°ä¹™å¤ªå¹£éŒ¢åŒ…ğŸ‘›çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™<a href="#åƒè€ƒè³‡æ–™" class="hash-link" aria-label="Direct link to åƒè€ƒè³‡æ–™" title="Direct link to åƒè€ƒè³‡æ–™" translate="no">â€‹</a></h2>
<ul>
<li class="">[1] <a href="https://github.com/ethereumjs/testrpc" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereumjs/testrpc</a></li>
<li class="">[2] Units and Globally Available Variables <a href="http://solidity.readthedocs.io/en/develop/units-and-global-variables.html" target="_blank" rel="noopener noreferrer" class="">http://solidity.readthedocs.io/en/develop/units-and-global-variables.html</a></li>
<li class="">[3] An Ethereum Hello World Smart Contract for Beginners <a href="http://www.talkcrypto.org/blog/2017/04/17/an-ethereum-hello-world-smart-contract-for-beginners-part-1/" target="_blank" rel="noopener noreferrer" class="">part 1</a>, <a href="http://www.talkcrypto.org/blog/2017/04/22/an-ethereum-hello-world-smart-contract-for-beginners-part-2/" target="_blank" rel="noopener noreferrer" class="">part 2</a></li>
<li class="">[4] Onward with Ethereum Smart Contract Security <a href="https://blog.zeppelin.solutions/onward-with-ethereum-smart-contract-security-97a827e47702" target="_blank" rel="noopener noreferrer" class="">https://blog.zeppelin.solutions/onward-with-ethereum-smart-contract-security-97a827e47702</a></li>
<li class="">[5] Ethereum Contract Security Techniques and Tips <a href="https://github.com/ConsenSys/smart-contract-best-practices" target="_blank" rel="noopener noreferrer" class="">https://github.com/ConsenSys/smart-contract-best-practices</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/solidity">solidity</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/crypto/howto-write-a-smart-contract">å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„(Smart Contract)?(I)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-06T18:30:31.000Z">September 6, 2017</time> Â· <!-- -->11 min read</div></header><div class="markdown"><p>Update: 11/30/2017 æ›´æ–°æ•™ç¨‹ï¼Œä½¿ç”¨<a href="https://github.com/trufflesuite/truffle/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer" class="">Truffle 4.0.1</a>ã€‚</p>
<p><a class="" href="/crypto/what-is-smart-contract">ä¸Šä¸€ç¯‡</a>ä¸­ä»‹ç´¹äº†æ™ºèƒ½åˆç´„ğŸ“’æ˜¯ä»€éº¼ï¼Œä¹Ÿæ¦‚ç•¥æè¿°äº†å¾ç·¨è­¯åˆ°éƒ¨ç½²æ™ºèƒ½åˆç´„çš„æµç¨‹ï¼Œæ¥ä¸‹ä¾†å°‡ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ solidity èªè¨€ä¾†å¯«æ™ºèƒ½åˆç´„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä½¿ç”¨solidityèªè¨€æ’°å¯«æ™ºèƒ½åˆç´„">ä½¿ç”¨ solidity èªè¨€æ’°å¯«æ™ºèƒ½åˆç´„<a href="#ä½¿ç”¨solidityèªè¨€æ’°å¯«æ™ºèƒ½åˆç´„" class="hash-link" aria-label="Direct link to ä½¿ç”¨ solidity èªè¨€æ’°å¯«æ™ºèƒ½åˆç´„" title="Direct link to ä½¿ç”¨ solidity èªè¨€æ’°å¯«æ™ºèƒ½åˆç´„" translate="no">â€‹</a></h2>
<p>Ethereum ä¸Šçš„æ™ºèƒ½åˆç´„éœ€è¦ä½¿ç”¨<code>solidity</code>[^1] èªè¨€ä¾†æ’°å¯«ã€‚é›–ç„¶é‚„æœ‰å…¶ä»–èƒ½ç”¨ä¾†æ’°å¯«æ™ºèƒ½åˆç´„çš„èªè¨€å¦‚<code>Serpent</code>(é¡ Python)ã€<code>lll</code>(é¡ Fortran)ï¼Œä½†ç›®å‰çœ‹åˆ°æ‰€æœ‰å…¬é–‹çš„æ™ºèƒ½åˆç´„éƒ½æ˜¯ä½¿ç”¨ solidity æ’°å¯«ã€‚</p>
<p>å®£å‚³ä¸Šèªªï¼Œsolidity æ˜¯ä¸€ç¨®é¡ä¼¼ Javascript çš„èªè¨€ï¼Œè€Œä¸”åœç¹è‘— solidity çš„å„ç¨®é–‹ç™¼å·¥å…·éˆï¼Œéƒ½æ˜¯ä½¿ç”¨å±¬æ–¼ Javascript ç”Ÿæ…‹ç³»çš„ npm ä¾†æä¾›çš„ã€‚ä½†æˆ‘è¦ºå¾— solidity é‚„æ˜¯æ¯”è¼ƒåƒ Java æˆ– C#ã€‚
å› ç‚ºå’Œ Javascript ä¸åŒï¼Œsolidity èˆ‡ Java æˆ– C# åŒå±¬æ–¼å¼·å‹åˆ¥ (Strong Typeï¼Œåœ¨å®šç¾©è®Šæ•¸æ™‚éœ€è¦æŒ‡å®šå‹åˆ¥) èªè¨€ã€åœ¨å®šç¾©å‡½å¼ (function) æ™‚åŒæ¨£éœ€æŒ‡å®šå›å‚³çš„å‹åˆ¥ (type)ã€åŒæ¨£ä¹Ÿéœ€è¦å…ˆç·¨è­¯æ‰èƒ½åŸ·è¡Œã€‚é€™äº›ç‰¹æ€§éƒ½æ˜¯ Javascript æ‰€ä¸å…·å‚™çš„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é–‹ç™¼å‰çš„æº–å‚™">é–‹ç™¼å‰çš„æº–å‚™<a href="#é–‹ç™¼å‰çš„æº–å‚™" class="hash-link" aria-label="Direct link to é–‹ç™¼å‰çš„æº–å‚™" title="Direct link to é–‹ç™¼å‰çš„æº–å‚™" translate="no">â€‹</a></h2>
<p>æœ¬æ–‡å°‡ä½¿ç”¨ç•¶å‰æœ€æ´»èºçš„æ™ºèƒ½åˆç´„é–‹ç™¼æ¡†æ¶<code>truffle</code>[^3] ç‚ºåŸºç¤ä¾†é–‹ç™¼ã€‚ä¹‹å‰æåˆ°éçš„ ENS (Ethereum Name Service)[^5] ä¹Ÿæ˜¯æ¡ç”¨ truffle æ¡†æ¶ã€‚å…¶ä»–é¸æ“‡é‚„æœ‰<code>embark</code>[^4] ç­‰ã€‚</p>
<p>å°±åƒä¸€èˆ¬ç¶²ç«™æˆ– App é–‹ç™¼ä¸€æ¨£ï¼Œåœ¨æä¾›å…¬é–‹æœå‹™ä¹‹å‰ï¼Œé–‹ç™¼è€…æœƒåœ¨è‡ªå·±ç”¨æ–¼å¯«ç¨‹å¼çš„é›»è…¦ (åˆç¨±ä½œæœ¬æ©Ÿ)ğŸ’»æˆ–é€éæ¸¬è©¦ç¶²è·¯ğŸ•¸ä¾†æ¸¬è©¦ç¨‹å¼åŸ·è¡Œçš„æ•ˆæœï¼Œæ¸¬è©¦å®Œæˆå¾Œï¼Œæ‰æœƒéƒ¨ç½²åˆ°å…¬é–‹çš„ç¶²è·¯ä¸Šæä¾›æœå‹™ã€‚
é–‹ç™¼å€å¡Šéˆæ™ºèƒ½åˆç´„ (ç¨‹å¼) çš„éç¨‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç‰¹åˆ¥æ˜¯å…¬é–‹éˆä¸Šæ‰€æœ‰å¯«å…¥æˆ–è®€å–è¨ˆç®—çµæœçš„æ“ä½œéƒ½éœ€è¦çœŸé‡‘ç™½éŠ€ (è™›æ“¬ä»£å¹£)ğŸ’¸ï¼Œè€Œä¸”æ ¹æ“šç¶²è·¯ç‹€æ³ï¼Œæ¯å€‹å…¬é–‹éˆä¸Šçš„æ“ä½œéƒ½éœ€è¦è¦ä¸€å°æ®µåæ‡‰æ™‚é–“ (15 ç§’ï½æ•¸åˆ†é˜)ï¼Œé€™äº›ç­‰å¾…é —æµªè²»å¯¶è²´çš„é–‹ç™¼æ™‚é–“â³ã€‚
å› æ­¤åœ¨é–‹ç™¼çš„éç¨‹ä¸­ï¼Œæˆ‘å€‘å°‡ä½¿ç”¨<code>testrpc</code>[^6] å·¥å…·åœ¨é›»è…¦ä¸Šæ¨¡æ“¬æ™ºèƒ½åˆç´„æ‰€éœ€çš„ä¹™å¤ªåŠå€å¡Šéˆæ¸¬è©¦ç’°å¢ƒã€‚</p>
<p>testrpc ä¸­ä¹ŸåŒ…å«äº† Javascript ç‰ˆæœ¬çš„ Ethereum è™›æ“¬æ©Ÿ (Ethereum Virtual Machine)[^7]ï¼Œå› æ­¤å¯ä»¥å®Œæ•´åœ°åŸ·è¡Œæ™ºèƒ½åˆç´„ğŸ˜‡ã€‚</p>
<p>æ­¤å¤–ï¼Œé–‹ç™¼å‰é‚„éœ€æº–å‚™ä¸€å€‹åˆæ‰‹çš„ç·¨è¼¯å™¨ã€‚æˆ‘ç›®å‰æ˜¯ä½¿ç”¨<a href="https://code.visualstudio.com" target="_blank" rel="noopener noreferrer" class="">Visual Studio Code</a>æ­é…<a href="https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity" target="_blank" rel="noopener noreferrer" class="">solidity</a>æ’ä»¶ä¾†é–‹ç™¼ã€‚solidity æ’ä»¶é™¤äº†æ”¯æ´èªæ³•é«˜äº®ä¹‹å¤–ï¼Œä¹Ÿæœƒé€é Solium [^11] æª¢æŸ¥ä¸¦æç¤ºåŸºæœ¬çš„èªæ³•éŒ¯èª¤ï¼Œç›¸ç•¶æ–¹ä¾¿ã€‚å…¶ä»–ç·¨è¼¯å™¨æ‡‰è©²ä¹Ÿæœ‰é¡ä¼¼çš„æ’ä»¶å¯é¸æ“‡ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å®‰è£æ‰€éœ€å·¥å…·">å®‰è£æ‰€éœ€å·¥å…·<a href="#å®‰è£æ‰€éœ€å·¥å…·" class="hash-link" aria-label="Direct link to å®‰è£æ‰€éœ€å·¥å…·" title="Direct link to å®‰è£æ‰€éœ€å·¥å…·" translate="no">â€‹</a></h3>
<p>é¦–å…ˆé–‹ç™¼æ©Ÿä¸Šå¿…é ˆè£å¥½ Node.jsï¼Œå†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£æ‰€éœ€çš„å·¥å…·ï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install -g ethereumjs-testrpc truffle</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å•Ÿå‹•-testrpc">å•Ÿå‹• Testrpc<a href="#å•Ÿå‹•-testrpc" class="hash-link" aria-label="Direct link to å•Ÿå‹• Testrpc" title="Direct link to å•Ÿå‹• Testrpc" translate="no">â€‹</a></h3>
<p>å®‰è£å¥½å¾Œéš¨æ™‚å¯ä»¥ä½¿ç”¨<code>testrpc</code>å‘½ä»¤ä¾†å•Ÿå‹•ä¹™å¤ªåŠæ¸¬è©¦ç’°å¢ƒã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ testrpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Available Accounts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 0xa4d7ce9137e6f8de4fb1311595b33230be15be50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 0x26c231bdd7c8a7304983b04694c3437b30331019</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 0xe238ccca936dcdbd48f0cf3a1e6f147d04b55527</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 0x769ed341bf83cc86e5037cb78388012d6e2d9cc9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) 0x72a084c80195de79e5cd8dca59488e67982f65d7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) 0xcfda0765b0a82721d2f59581f53846a12e392999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 0x4b0349aea768b4e1ed4cec683f8f7dd112729fea</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) 0x643c305f0b3844984d7f1f7b9f3ab93a73dfdfcf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 0x2ee0a7974326604442dca127d02fac4957ab3e8a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) 0xe00e57db1772f6e81bcccc982e565a10ae26ab92</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private Keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 7de56fb677edc8d0c7a1f3a6d5bcb8f73ce257d44996e9b5fc8ad414af38a22a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 4401de20cf287d15d1c062005d866a35cd82e2a73f8cb43ec0cb90b117d1ec38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 8f51f9100a81218343d44a047ae3b0be5d80d262a13fbef24dc569b3e335e820</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 241a0ff98dfb6f290dbee909c9a7a4eea2de3a2174e7cddf834868ea03f80fa9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) ce1108cc6763bc74658068a55b080c6ccbfb1bd26e609588b81c07d13affc70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) f9614c1fd34224787e6c95bbe881fb28fd0fdc00808ef85d0430505f4a348690</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 4c1baad08f720f5c5754bb185e66490b45e3480aa3ec419e4b76f7a81118b296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) af9af2c6b519d49605cc58b719240299e5e8b9a89a7e94a85625734fc30c46bd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 55ab79ae6de4fad5b98bc1dfd795b945ba8e7d92dcc88073f9e3fdfef471f69f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) e9299fb391c8830370991659780933e6b62269e32a8cbc55a29aa5f73df995a2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HD Wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mnemonic:      addict cherry medal cupboard bless reduce oven beauty egg gift pledge exact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Base HD Path:  m/44&#x27;/60&#x27;/0&#x27;/0/{account_index}</span><br></span></code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ° testrpc å•Ÿå‹•å¾Œè‡ªå‹•å»ºç«‹äº† 10 å€‹å¸³è™Ÿ (Accounts)ï¼Œèˆ‡æ¯å€‹å¸³è™Ÿå°æ‡‰çš„ç§é‘° (Private Key)ğŸ”‘ã€‚æ¯å€‹å¸³è™Ÿä¸­éƒ½æœ‰ 100 å€‹æ¸¬è©¦ç”¨çš„ä»¥å¤ªå¹£ (Ether)ğŸ’µã€‚è¦æ³¨æ„ testrpc åƒ…é‹è¡Œåœ¨è¨˜æ†¶é«”ä¸­ï¼Œå› æ­¤æ¯æ¬¡é‡é–‹æ™‚éƒ½æœƒå›åˆ°å…¨æ–°çš„ç‹€æ…‹ã€‚</p>
<p>ä¸€åˆ‡æº–å‚™å°±ç·’ï¼Œæˆ‘å€‘å¯ä»¥é–‹å§‹å»ºç«‹ç¬¬ä¸€ä»½æ™ºèƒ½åˆç´„å°ˆæ¡ˆäº†ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å»ºç«‹å°ˆæ¡ˆ">å»ºç«‹å°ˆæ¡ˆ<a href="#å»ºç«‹å°ˆæ¡ˆ" class="hash-link" aria-label="Direct link to å»ºç«‹å°ˆæ¡ˆ" title="Direct link to å»ºç«‹å°ˆæ¡ˆ" translate="no">â€‹</a></h2>
<p>é–‹å•Ÿå¦ä¸€å€‹å‘½ä»¤åˆ—è¦–çª—ï¼Œè¼¸å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å»ºç«‹å°ˆæ¡ˆï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle init</span><br></span></code></pre></div></div>
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å·²å»ºç«‹å¥½ç¬¬ä¸€ä»½æ™ºèƒ½åˆç´„å°ˆæ¡ˆäº†ã€‚</p>
<p>åœ¨<code>demo/</code>è³‡æ–™å¤¾ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°<code>contracts/</code>è³‡æ–™å¤¾ï¼Œè£¡é¢æ”¾çš„æ˜¯é€™å€‹å°ˆæ¡ˆæ‰€åŒ…å«çš„æ‰€æœ‰ solidity ç¨‹å¼ã€‚æˆ‘å€‘åœ¨<code>contracts/</code>è³‡æ–™å¤¾ä¸­é¡å¤–å»ºç«‹ä¸€å€‹<code>HelloWorld.sol</code>æª”æ¡ˆã€‚ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥ç”¨<code>truffle create contract HelloWorld</code>å‘½ä»¤ä¾†å»ºç«‹ï¼‰</p>
<p><code>HelloWorld.sol</code>æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sayHello() public returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (&quot;Hello World&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£">è¬›è§£<a href="#è¬›è§£" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span></code></pre></div></div>
<p>ç¬¬ä¸€è¡ŒæŒ‡åç›®å‰ä½¿ç”¨çš„ solidity ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬çš„ solidity å¯èƒ½æœƒç·¨è­¯å‡ºä¸åŒçš„ bytecodeã€‚</p>
<p>æƒ³è¦çŸ¥é“ç•¶å‰çš„ solidity ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>truffle version</code> å‘½ä»¤ä¾†æŸ¥çœ‹ç•¶å‰ä½¿ç”¨çš„ truffle èˆ‡ solidity ç‰ˆæœ¬ï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Truffle v4.0.1 (core: 4.0.1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solidity v0.4.18 (solc-js)</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><code>contract</code>é—œéµå­—é¡ä¼¼æ–¼å…¶ä»–èªè¨€ä¸­è¼ƒå¸¸è¦‹çš„<code>class</code>ã€‚å› ç‚º solidity æ˜¯å°ˆç‚ºæ™ºèƒ½åˆç´„ (Contact) è¨­è¨ˆçš„èªè¨€ï¼Œå®£å‘Š<code>contract</code>å¾Œå³å…§å»ºäº†é–‹ç™¼æ™ºèƒ½åˆç´„æ‰€éœ€çš„åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥æŠŠé€™å¥ç†è§£ç‚º<code>class HelloWorld extends Contract</code>ã€‚</p>
<p>é›–ç„¶ä¸€å€‹.sol æª”æ¡ˆä¸­å¯ä»¥å®šç¾©å¤šå€‹ Contractï¼Œä½†å»ºè­°ä¸€å€‹.sol æª”æ¡ˆä¸­åªå®šç¾©ä¸€å€‹ Contract ä»¥ä¾¿æ–¼å¾ŒçºŒçš„ç¶­è­·ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function sayHello() public returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (&quot;Hello World&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>å‡½å¼çš„çµæ§‹èˆ‡å…¶ä»–ç¨‹å¼é¡ä¼¼ï¼Œä½†å¦‚æœæœ‰å‚³å…¥çš„åƒæ•¸æˆ–å›å‚³å€¼ï¼Œéœ€è¦æŒ‡å®šåƒæ•¸æˆ–å›å‚³å€¼çš„å‹åˆ¥ (type)ã€‚æ‰€æœ‰æ”¯æ´çš„å‹åˆ¥å¯ä»¥æŸ¥çœ‹åƒè€ƒè³‡æ–™ [^10]ã€‚</p>
<p>solidity å®˜æ–¹æ¨è–¦çš„ç¸®æ’é¢¨æ ¼ç‚º 4 å€‹ç©ºæ ¼ [^13]ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç·¨è­¯">ç·¨è­¯<a href="#ç·¨è­¯" class="hash-link" aria-label="Direct link to ç·¨è­¯" title="Direct link to ç·¨è­¯" translate="no">â€‹</a></h2>
<p>ç¾åœ¨åŸ·è¡Œ<code>truffle compile</code>å‘½ä»¤ï¼Œæˆ‘å€‘å¯ä»¥å°‡<code>HelloWorld.sol</code>åŸå§‹ç¢¼ç·¨è­¯æˆ Ethereum bytecodeã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span></code></pre></div></div>
<p>ç·¨è­¯æˆåŠŸçš„è©±ï¼Œåœ¨<code>build/contracts/</code>ç›®éŒ„ä¸‹æœƒå¤šå‡º<code>HelloWorld.json</code>é€™å€‹æª”æ¡ˆã€‚ï¼ˆåœ¨ Windows å¹³å°ä¸ŠåŸ·è¡Œ truffle compile è‹¥é‡åˆ°å•é¡Œï¼Œå¯ä»¥æŸ¥çœ‹åƒè€ƒè³‡æ–™ [^9] ä¾†è§£æ±ºã€‚ï¼‰</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="éƒ¨ç½²">éƒ¨ç½²<a href="#éƒ¨ç½²" class="hash-link" aria-label="Direct link to éƒ¨ç½²" title="Direct link to éƒ¨ç½²" translate="no">â€‹</a></h2>
<p>ç‚ºäº†å°‡å¯«å¥½çš„ solidity ç¨‹å¼ç¢¼éƒ¨ç½²åˆ°å€å¡ŠéŠä¸Šï¼Œæˆ‘å€‘éœ€è¦åšä¸€äº›ç›¸æ‡‰çš„è¨­å®šã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="é·ç§»">é·ç§»<a href="#é·ç§»" class="hash-link" aria-label="Direct link to é·ç§»" title="Direct link to é·ç§»" translate="no">â€‹</a></h3>
<p>truffle æ¡†æ¶ä¸­æä¾›äº†æ–¹ä¾¿éƒ¨ç½²åˆç´„çš„è…³æœ¬ã€‚æˆ‘å€‘å¯ä»¥åœ¨<code>migrations/</code>ç›®éŒ„ä¸‹ç¶­è­·é€™äº›è…³æœ¬ã€‚é€™äº›è…³æœ¬é™¤äº†èƒ½éƒ¨ç½²åˆç´„ï¼Œä¹Ÿå¯ä»¥ç”¨ä¾†é·ç§»åˆç´„ä¸­çš„è³‡æ–™ã€‚å»ºç«‹<code>migrations/2_deploy_contracts.js</code>æª”æ¡ˆ (é€™äº›è…³æœ¬ä½¿ç”¨ Javascript æ’°å¯«)ï¼Œå°‡å…§å®¹ä¿®æ”¹å¦‚ä¸‹</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">HelloWorld</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HelloWorld&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">deployer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  deployer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deploy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>é€™äº› migration æª”æ¡ˆæœƒä¾ç…§æª”æ¡ˆçš„<code>ç·¨è™Ÿ</code>ä¾†åŸ·è¡Œã€‚ä¾‹å¦‚<code>2_</code>å°±æœƒåœ¨<code>1_</code>ä¹‹å¾ŒåŸ·è¡Œã€‚æª”æ¡ˆå¾Œé¢çš„æ–‡å­—åªç‚ºå”åŠ©é–‹ç™¼è€…ç†è§£ä¹‹ç”¨ã€‚</p>
<p>åœ¨æª”æ¡ˆä¸­å¯ä½¿ç”¨<code>artifacts.require</code>èªå¥ä¾†å–å¾—æº–å‚™éƒ¨ç½²çš„åˆç´„ã€‚ä½¿ç”¨<code>deployer.deploy</code>èªå¥å°‡åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆä¸Šã€‚é€™é‚Š<code>HelloWorld</code>æ˜¯<code>contract</code>çš„åç¨±è€Œä¸æ˜¯æª”åã€‚å› æ­¤å¯ä»¥ç”¨æ­¤èªæ³•è®€å…¥ä»»ä¸€<code>.sol</code>æª”æ¡ˆä¸­çš„ä»»ä¸€åˆç´„ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å€å¡Šç¶²è·¯è¨­å®š">å€å¡Šç¶²è·¯è¨­å®š<a href="#å€å¡Šç¶²è·¯è¨­å®š" class="hash-link" aria-label="Direct link to å€å¡Šç¶²è·¯è¨­å®š" title="Direct link to å€å¡Šç¶²è·¯è¨­å®š" translate="no">â€‹</a></h3>
<p>ç‚ºäº†èˆ‡<code>testrpc</code>é€£ç·šï¼Œéœ€è¦æ‰“é–‹<code>truffle.js</code>ä¸¦åŠ å…¥ä»¥ä¸‹è¨­å®šï¼š</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// See &lt;http://truffleframework.com/docs/advanced/configuration&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// to customize your Truffle configuration!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">networks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">development</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">port</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8545</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">network_id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Match any network id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>truffle ä½¿ç”¨ Javascript çš„ Object æ ¼å¼ä¾†å®šç¾©è¨­å®šã€‚é€™é‚Šå®šç¾©äº†<code>development</code>ç¶²è·¯ç‚º<code>localhost:8545</code>ï¼Œå³ testrpc æ‰€æä¾›çš„ç¶²è·¯ä½å€ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="éƒ¨ç½²-1">éƒ¨ç½²<a href="#éƒ¨ç½²-1" class="hash-link" aria-label="Direct link to éƒ¨ç½²" title="Direct link to éƒ¨ç½²" translate="no">â€‹</a></h3>
<p>ç¾åœ¨åŸ·è¡Œ<code>truffle migrate</code>å‘½ä»¤</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 1_initial_migration.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 2_deploy_contracts.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>å¦‚æ­¤ä¸€ä¾†åˆç´„å·²ç¶“éƒ¨ç½²åˆ° testrpc ä¸­ã€‚åˆ‡æ›åˆ° testrpc è¦–çª—ï¼Œå¯ä»¥çœ‹åˆ° testrpc æœ‰åæ‡‰äº†ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="èˆ‡åˆç´„äº’å‹•">èˆ‡åˆç´„äº’å‹•<a href="#èˆ‡åˆç´„äº’å‹•" class="hash-link" aria-label="Direct link to èˆ‡åˆç´„äº’å‹•" title="Direct link to èˆ‡åˆç´„äº’å‹•" translate="no">â€‹</a></h3>
<p>truffle æä¾›å‘½ä»¤è¡Œå·¥å…·ï¼ŒåŸ·è¡Œ<code>truffle console</code>å‘½ä»¤å¾Œï¼Œå¯ç”¨ Javascript ä¾†å’Œå‰›å‰›éƒ¨ç½²çš„åˆç´„äº’å‹•ã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HelloWorld.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¬›è§£-1">è¬›è§£<a href="#è¬›è§£-1" class="hash-link" aria-label="Direct link to è¬›è§£" title="Direct link to è¬›è§£" translate="no">â€‹</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deployed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">instance</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> contract </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><code>truffle console</code>ä¸­é è¼‰äº†<code>truffle-contract</code>[^12] å‡½å¼åº«ï¼Œä»¥æ–¹ä¾¿æ“ä½œéƒ¨ç½²åˆ°å€å¡Šéˆä¸Šçš„åˆç´„ã€‚</p>
<p>é€™é‚Šä½¿ç”¨<code>HelloWorld.deployed().then</code>èªå¥ä¾†å–å¾— HelloWorld åˆç´„çš„ Instance (å¯¦ä¾‹)ï¼Œä¸¦å­˜åˆ°<code>contract</code>è®Šæ•¸ä¸­ï¼Œä»¥æ–¹ä¾¿å¾ŒçºŒçš„å‘¼å«ã€‚</p>
<p>ä¸Šé¢ç”¨çš„æ˜¯ Javascript ES6 + çš„èªæ³•ï¼Œé€™å¥ä¹Ÿå¯ä»¥å¯«æˆ</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deployed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">instance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hello </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span></code></pre></div></div>
<p>é€™é‚Šç›´æ¥å‘¼å«<code>contract.sayHello()</code>ä¹Ÿæœƒå¾—åˆ°ä¸€æ¨£çš„çµæœã€‚<code>truffle-contract</code>æä¾›ä½¿ç”¨<code>call()</code>ä¾†è®€å–å”¯è®€ (read only) çš„è³‡æ–™ï¼Œé€™æ¨£å°±ä¸éœ€æä¾› gasã€‚å› æ­¤å¦‚æœé‡åˆ°çš„æ“ä½œéœ€è¦å‘å€å¡Šéˆå¯«å…¥è³‡æ–™ï¼Œæˆ‘å€‘å°±ä¸èƒ½ç”¨<code>call</code>èªå¥äº†ã€‚</p>
<p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å·²å¯«å¥½ä¸¦éƒ¨ç½²å®Œæˆäº†ç¬¬ä¸€å€‹æ™ºèƒ½åˆç´„ï¼Œä¹Ÿé©—è­‰äº†åˆç´„ç¢ºå¯¦å¯ä»¥é‹ä½œã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="åŠ å…¥æ–°æ–¹æ³•">åŠ å…¥æ–°æ–¹æ³•<a href="#åŠ å…¥æ–°æ–¹æ³•" class="hash-link" aria-label="Direct link to åŠ å…¥æ–°æ–¹æ³•" title="Direct link to åŠ å…¥æ–°æ–¹æ³•" translate="no">â€‹</a></h3>
<p>æˆ‘å€‘åœ¨<code>HelloWorld.sol</code>ä¸­å†åŠ å…¥ä¸€å€‹<code>echo</code>æ–¹æ³•ï¼Œ<code>echo</code>æ–¹æ³•æ¥å—è¼¸å…¥ä¸€å€‹åƒæ•¸ï¼Œä¸¦å›å‚³å‚³é€çš„åƒæ•¸ã€‚</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function echo(string name) constant returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>æ–°çš„<code>echo</code>æ–¹æ³•ä¸­å‚³å…¥äº†ä¸€å€‹<code>name</code>åƒæ•¸ã€‚æˆ‘å€‘ä¹Ÿç‚º<code>echo</code>æ–¹æ³•åŠ å…¥ä¸€å€‹<code>constant</code>å®£å‘Šï¼Œè¡¨ç¤ºå‘¼å«é€™å€‹æ–¹æ³•ä¸¦ä¸æœƒæ”¹è®Šå€å¡Šéˆçš„ç‹€æ…‹ã€‚å¦‚æ­¤ä¸€ä¾†ï¼Œé€é<code>truffle-contract</code>ä¾†å‘¼å«æ­¤æ–¹æ³•æ™‚ï¼Œæœƒè‡ªå‹•é¸ç”¨<code>call</code>ä¾†å‘¼å«ï¼Œä¹Ÿä¸éœ€è¦é¡å¤–æä¾› gasã€‚</p>
<p>ç”±æ–¼æ›´æ–°äº†åˆç´„å…§å®¹ï¼Œæˆ‘å€‘éœ€è¦å…ˆé‡æ–°æ–°ç·¨è­¯ä¸€æ¬¡ï¼Œå°‡ç·¨è­¯çµæœéƒ¨ç½²åˆ° testrpc ä¸Šï¼Œå†é€é<code>truffle console</code>åŸ·è¡Œçœ‹çœ‹çµæœã€‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate --reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HelloWorld.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.echo(&quot;yo man&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;yo man&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre></div></div>
<p><code>echo</code>æ–¹æ³•ç¢ºå¯¦å°‡æˆ‘å€‘è¼¸å…¥çš„å…§å®¹å›å‚³äº†ã€‚åŒæ™‚å› ç‚ºå®£å‘Šäº†<code>constant</code>ï¼Œæˆ‘å€‘ä¸éœ€è¦ç›´æ¥å‘¼å«<code>call()</code>æ–¹æ³•ï¼Œ<code>truffle</code>æœƒè‡ªå‹•é¸ç”¨ call ä¾†å‘¼å«ã€‚</p>
<p>å¦ä¸€é»éœ€è¦æ³¨æ„çš„ï¼Œæ˜¯é€™æ¬¡å¦‚æœé‚„æ˜¯ç”¨<code>truffle migrate</code>å‘½ä»¤ï¼Œæˆ‘å€‘æœƒå¾—åˆ°å¦‚ä¸‹è¨Šæ¯ï¼š</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Network up to date.</span><br></span></code></pre></div></div>
<p>Truffle æœƒå‘Šè¨´ä½ ç¾åœ¨ç¶²è·¯ä¸Šçš„åˆç´„éƒ½å·²æ˜¯æœ€æ–°çš„ï¼Œä½†äº‹å¯¦ä¸Šå‰›å‰›ç¨‹å¼ä¸­æ–°å¢çš„æ–¹æ³•ä¸¦æ²’æœ‰æ›´æ–°åˆ°å€å¡Šéˆä¸Šã€‚è¦æ›´æ–°å€å¡Šéˆä¸Šå·²éƒ¨ç½²çš„ç¨‹å¼ï¼Œéœ€è¦æ”¹å¯«<code>migrations</code>ä¸­çš„è…³æœ¬ï¼Œä½†ç¾åœ¨é‚„ä¸åˆ°ä»‹ç´¹ migration çš„æ™‚å€™ã€‚é‚„å¥½æˆ‘å€‘é–‹ç™¼ç”¨çš„å€å¡Šéˆæ˜¯æ€éº¼ä¿®æ”¹éƒ½æ²’é—œä¿‚çš„ testrpcï¼Œå¯ä»¥ä½¿ç”¨<code>truffle migrate --reset</code>å‘½ä»¤ç›´æ¥é‡æ–°åœ¨ testrpc ä¸Šéƒ¨ç½²ä¸€æ¬¡ğŸ‰ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä½¿ç”¨truffle-developå‘½ä»¤">ä½¿ç”¨ truffle develop å‘½ä»¤<a href="#ä½¿ç”¨truffle-developå‘½ä»¤" class="hash-link" aria-label="Direct link to ä½¿ç”¨ truffle develop å‘½ä»¤" title="Direct link to ä½¿ç”¨ truffle develop å‘½ä»¤" translate="no">â€‹</a></h2>
<p>truffle 4.0.0 ç‰ˆæœ¬ä¹‹å¾ŒåŠ å…¥äº†<code>truffle develop</code>å‘½ä»¤ã€‚é€™å€‹å‘½ä»¤è®“æˆ‘å€‘ä¸éœ€è¦å¦å¤–å®‰è£ testrpc ç­‰ç’°å¢ƒï¼Œå°±èƒ½ç›´æ¥ä¸Šæ‰‹é–‹ç™¼ã€‚</p>
<p>ä¾‹å¦‚</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">truffle develop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Truffle Develop started at http://localhost:9545/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 0x627306090abab3a6e1400e9345bc60c78a8bef57</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 0xf17f52151ebef6c7334fad080c5704d77216b732</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 0x821aea9a577a9b44299b9c15c88cf3087f3b5544</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) 0x0d1d4e623d10f9fba5db95830f7d3839406c6af2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) 0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 0x2191ef87e392377ec08e7c08eb105ef5448eced5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) 0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 0x6330a553fc93768f612722bb8c2ec78ac90b3bbc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) 0x5aeda56215b167893e80b4fe645ba6d5bab767de</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mnemonic: candy maple cake sugar pudding cream honey rich smooth crumble sweet treat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;develop&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 1_initial_migration.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying Migrations...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 2_deploy_contracts.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying HelloWorld...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; HelloWorld.deployed().then(instance =&gt;contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span></code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ° ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¼¸å…¥<code>truffle develop</code>å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥åœ¨è£¡é¢åŸ·è¡Œ<code>compile</code>ï¼Œ<code>migrate</code>æŒ‡ä»¤ï¼Œé‚„å¯ä»¥ç›´æ¥ä½¿ç”¨<code>console</code>å‘½ä»¤æ‰€æä¾›çš„èˆ‡å€å¡ŠéŠäº’å‹•ç­‰åŠŸèƒ½ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="çµèª">çµèª<a href="#çµèª" class="hash-link" aria-label="Direct link to çµèª" title="Direct link to çµèª" translate="no">â€‹</a></h2>
<p>æœ¬ç¯‡è¨­è¨ˆçš„ç¯„ä¾‹ [^8] ç›¸ç•¶ç°¡å–®ï¼Œä½†å·²é”åˆ°å®Œæ•´åœ°å¸¶å¤§å®¶å¿«é€Ÿâš¡èµ°ä¸€éæ™ºèƒ½åˆç´„é–‹ç™¼æµç¨‹çš„ç›®çš„ã€‚è¦é€éæ™ºèƒ½åˆç´„å¯¦ç¾å„ç¨®åŠŸèƒ½ï¼Œå¯ä»¥åƒè€ƒ<a href="http://solidity.readthedocs.io/en/latest/solidity-by-example.html" target="_blank" rel="noopener noreferrer" class="">Solidity by example</a> å’Œ <a href="http://truffleframework.com/docs/getting_started/" target="_blank" rel="noopener noreferrer" class="">Truffle getting started</a> ç¶²ç«™å­¸ç¿’æ›´å¤šçš„å…§å®¹ã€‚ä¹Ÿæ­¡è¿è®€è€…ç•™è¨€ï¼Œåˆ†äº«å­¸ç¿’è³‡æºæˆ–æä¾›å»ºè­°ã€‚</p>
<p>ä¸‹ä¸€ç¯‡æœƒæ¥è‘—ä»‹ç´¹å¦‚ä½•å»ºç«‹ä¸€ä»½ç°¡å–®çš„åŠ å¯†ä»£å¹£ğŸ”’ğŸ’µåˆç´„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™<a href="#åƒè€ƒè³‡æ–™" class="hash-link" aria-label="Direct link to åƒè€ƒè³‡æ–™" title="Direct link to åƒè€ƒè³‡æ–™" translate="no">â€‹</a></h2>
<ul>
<li class="">[1] Solidity <a href="http://solidity.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer" class="">http://solidity.readthedocs.io/en/latest/index.html</a></li>
<li class="">[2] Solidity ç·šä¸Šç·¨è¼¯å™¨ã€€<a href="https://ethereum.github.io/browser-solidity/" target="_blank" rel="noopener noreferrer" class="">https://ethereum.github.io/browser-solidity/</a></li>
<li class="">[3] Truffle Framework <a href="http://truffleframework.com/" target="_blank" rel="noopener noreferrer" class="">http://truffleframework.com/</a></li>
<li class="">[4] Embark Framework <a href="https://github.com/iurimatias/embark-framework" target="_blank" rel="noopener noreferrer" class="">https://github.com/iurimatias/embark-framework</a></li>
<li class="">[5] ENS ä¹Ÿä½¿ç”¨ Truffle æ¡†æ¶ <a href="https://github.com/ethereum/ens" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereum/ens</a></li>
<li class="">[6] <a href="https://github.com/ethereumjs/testrpc" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereumjs/testrpc</a></li>
<li class="">[7] <a href="https://github.com/ethereumjs/ethereumjs-vm" target="_blank" rel="noopener noreferrer" class="">https://github.com/ethereumjs/ethereumjs-vm</a></li>
<li class="">[8] HelloWorld ç¯„ä¾‹ä¿®æ”¹è‡ª <a href="https://app.pluralsight.com/library/courses/blockchain-fundamentals/" target="_blank" rel="noopener noreferrer" class="">https://app.pluralsight.com/library/courses/blockchain-fundamentals/</a></li>
<li class="">[9]  Truffle issue on windows <a href="http://truffleframework.com/docs/advanced/configuration#resolving-naming-conflicts-on-windows" target="_blank" rel="noopener noreferrer" class="">http://truffleframework.com/docs/advanced/configuration#resolving-naming-conflicts-on-windows</a></li>
<li class="">[10] Solidity æ”¯æ´çš„å‹åˆ¥ (Type) <a href="https://solidity.readthedocs.io/en/develop/types.html" target="_blank" rel="noopener noreferrer" class="">https://solidity.readthedocs.io/en/develop/types.html</a></li>
<li class="">[11] Solium syntax check <a href="https://github.com/duaraghav8/Solium" target="_blank" rel="noopener noreferrer" class="">https://github.com/duaraghav8/Solium</a></li>
<li class="">[12] <a href="http://truffleframework.com/docs/getting_started/contracts" target="_blank" rel="noopener noreferrer" class="">http://truffleframework.com/docs/getting_started/contracts</a></li>
<li class="">[13] Coding Style <a href="http://solidity.readthedocs.io/en/develop/style-guide.html" target="_blank" rel="noopener noreferrer" class="">http://solidity.readthedocs.io/en/develop/style-guide.html</a></li>
<li class="">[14] æœ¬ç¯‡ä¹Ÿå·²åˆ†äº«åˆ° medium ä¸Šçš„ Taipei Ethereum Meetup å°ç£ä»¥å¤ªåŠç¤¾ç¾¤å°ˆæ¬„ã€€<a href="https://medium.com/taipei-ethereum-meetup/%E5%A6%82%E4%BD%95%E6%92%B0%E5%AF%AB%E6%99%BA%E8%83%BD%E5%90%88%E7%B4%84-smart-contract-i-363d06b1965b" target="_blank" rel="noopener noreferrer" class="">https://medium.com/taipei-ethereum-meetup/%E5%A6%82%E4%BD%95%E6%92%B0%E5%AF%AB%E6%99%BA%E8%83%BD%E5%90%88%E7%B4%84-smart-contract-i-363d06b1965b</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/solidity">solidity</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/crypto/what-is-smart-contract">ä»€éº¼æ˜¯æ™ºèƒ½åˆç´„(Smart Contract)?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-02T22:14:48.000Z">September 2, 2017</time> Â· <!-- -->6 min read</div></header><div class="markdown"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">è²æ˜ï¼šgasolin.eth æ­¤ Domain å·²éæœŸï¼Œæˆ‘ä¸¦æœªç¹¼çºŒè¨»å†Š</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼">æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼ï¼Ÿ<a href="#æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼" class="hash-link" aria-label="Direct link to æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼ï¼Ÿ" title="Direct link to æ™ºèƒ½åˆç´„æ˜¯ä»€éº¼ï¼Ÿ" translate="no">â€‹</a></h2>
<p>åœ¨å€å¡Šéˆä¸Šé‹è¡Œçš„ç¨‹å¼ï¼Œé€šå¸¸ç¨±ç‚ºæ™ºèƒ½åˆç´„ (Smart Contract)ğŸ“’ã€‚æ‰€ä»¥é€šå¸¸æœƒæŠŠ &quot;å¯«å€å¡Šéˆç¨‹å¼&quot; æ”¹ç¨±ä½œ &quot;å¯«æ™ºèƒ½åˆç´„&quot;ã€‚é›–ç„¶æ¯”ç‰¹å¹£ (Bitcoin) ä¸Šä¹Ÿèƒ½å¯«æ™ºèƒ½åˆç´„ï¼Œä½†æ˜¯æ¯”ç‰¹å¹£æ‰€æ”¯æ´çš„èªæ³•åƒ…èˆ‡äº¤æ˜“æœ‰é—œï¼Œèƒ½åšçš„äº‹æƒ…æ¯”è¼ƒæœ‰é™ã€‚å› æ­¤ç›®å‰æåˆ°å¯«æ™ºèƒ½åˆç´„ï¼Œé€šå¸¸æŒ‡çš„æ˜¯æ”¯æ´åŸ·è¡Œåœ–éˆå®Œå‚™ç¨‹å¼çš„ä»¥å¤ªåŠ (Ethereum) å€å¡Šéˆâ›“ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ™ºèƒ½åˆç´„å¯ä»¥åšä»€éº¼">æ™ºèƒ½åˆç´„å¯ä»¥åšä»€éº¼<a href="#æ™ºèƒ½åˆç´„å¯ä»¥åšä»€éº¼" class="hash-link" aria-label="Direct link to æ™ºèƒ½åˆç´„å¯ä»¥åšä»€éº¼" title="Direct link to æ™ºèƒ½åˆç´„å¯ä»¥åšä»€éº¼" translate="no">â€‹</a></h2>
<p>ç›®å‰æœ€å¸¸è¦‹çš„æ™ºèƒ½åˆç´„æ˜¯å„ç¨®åŠ å¯†è²¨å¹£åˆç´„ğŸ’·ï¼Œé–‹ç™¼è€…å¯ä»¥å¾ˆå®¹æ˜“åœ°é€ééƒ¨ç½²ä¸€å€‹æ™ºèƒ½åˆç´„ï¼Œä¾†æä¾›é‹è¡Œæ–¼ä»¥å¤ªåŠä¸Šçš„æ–°åŠ å¯†ä»£å¹£ã€‚å¦‚æœé€™ä»½æ™ºèƒ½åˆç´„ç›¸å®¹æ–¼ ERC20 æ¨™æº– [^1]ï¼Œé–‹ç™¼è€…ä¸éœ€è¦é‡æ–°é–‹ç™¼å¾æŒ–ç¤¦åˆ°äº¤æ˜“çš„æ•´å€‹ä»£å¹£ç”Ÿæ…‹ç³»ï¼Œä½ çš„æ–°åŠ å¯†ä»£å¹£å°±å¯ä»¥ç›´æ¥ä½¿ç”¨æ”¯æ´ä»¥å¤ªåŠçš„é›»å­éŒ¢åŒ…ğŸ’°ä¾†æ”¶é€ï¼Œå¤§å¤§é™ä½äº†å»ºç«‹æ–°åŠ å¯†ä»£å¹£çš„é–€æª»ã€‚</p>
<p>æ™ºèƒ½åˆç´„ä¹Ÿè®“å‹Ÿè³‡ğŸ’¸è®Šå¾—æ›´é€æ˜ã€‚åƒèˆ‡è€…æŠ•è³‡è³‡é‡‘æˆ–æä¾›æœå‹™ï¼Œä¹Ÿå¯ç²å¾—ç›¸æ‡‰çš„æ¬Šç›Šã€‚é€™ä»½æ¬Šç›Šå¯ä»¥ç”¨ä»£å¹£çš„å½¢å¼è¿”é‚„çµ¦åƒèˆ‡è€…ã€‚åŒæ¨£åœ°å¦‚æœé€™ä»£å¹£ç›¸å®¹æ–¼ ERC20 æ¨™æº– [^2]ï¼ŒæŠ•è³‡è€…æˆ–è´ŠåŠ©è€…é‚„å¯ä»¥éš¨æ™‚äº¤æ˜“é€™äº›ä»£å¹£ã€‚è®“è³‡é‡‘çš„é‹ç”¨è®Šå¾—æ›´åŠ å½ˆæ€§ï¼Œä¹Ÿé™ä½äº†æŠ•è³‡çš„é–€æª»ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæ™ºèƒ½åˆç´„ä¹Ÿå¯ä»¥ç”¨ä¾†é‹ä½œå„å¼å…¬é–‹å…¬æ­£çš„è‡ªå‹•æœå‹™æ©Ÿæ§‹ (DAOï¼ŒDecentralized Autonomous Organization)ğŸ¦ã€‚é€éåˆ†æ•£åœ¨å…¨çƒå„ç¯€é»ä¸Šé‹ä½œçš„æ™ºèƒ½åˆç´„ï¼Œæ‰€æœ‰é‹ä½œèˆ‡æ±ºç­–éƒ½æ˜¯å…¬é–‹é€æ˜çš„ï¼Œé™ä½äº†äº¤æ˜“çš„ä¸ç¢ºå®šæ€§ (Uncertainty)ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ™ºèƒ½åˆç´„å’Œä¸€èˆ¬ç¨‹å¼çš„å·®ç•°">æ™ºèƒ½åˆç´„å’Œä¸€èˆ¬ç¨‹å¼çš„å·®ç•°<a href="#æ™ºèƒ½åˆç´„å’Œä¸€èˆ¬ç¨‹å¼çš„å·®ç•°" class="hash-link" aria-label="Direct link to æ™ºèƒ½åˆç´„å’Œä¸€èˆ¬ç¨‹å¼çš„å·®ç•°" title="Direct link to æ™ºèƒ½åˆç´„å’Œ ä¸€èˆ¬ç¨‹å¼çš„å·®ç•°" translate="no">â€‹</a></h2>
<p>ä»¥å¤ªåŠæ™ºèƒ½åˆç´„ç¢ºå¯¦æœ‰äº›å’Œä¸€èˆ¬ç¨‹å¼ä¸åŒçš„ç‰¹æ€§ï¼Œä»¥ä¸‹æ•´ç†äº†å››å€‹ä¸åŒé»ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸€æ•´åˆé‡‘æµå®¹æ˜“">ä¸€ï¼Œæ•´åˆé‡‘æµå®¹æ˜“<a href="#ä¸€æ•´åˆé‡‘æµå®¹æ˜“" class="hash-link" aria-label="Direct link to ä¸€ï¼Œæ•´åˆé‡‘æµå®¹æ˜“" title="Direct link to ä¸€ï¼Œæ•´åˆé‡‘æµå®¹æ˜“" translate="no">â€‹</a></h3>
<p>ä¸€èˆ¬çš„æ‡‰ç”¨ç¨‹å¼è¦æ•´åˆé‡‘æµæ˜¯ä»¶éå¸¸ä¸å®¹æ˜“çš„äº‹æƒ…ã€‚è€Œæ™ºèƒ½åˆç´„æ¥µå®¹æ˜“æ•´åˆé‡‘æµç³»çµ± (ä½¿ç”¨ä»¥å¤ªå¹£æˆ–è‡ªè¡Œå»ºç«‹çš„æ–°ä»£å¹£åˆç´„)ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="äºŒéƒ¨ç½²æ™‚èˆ‡å¾ŒçºŒå¯«å…¥æ™‚éœ€è²»ç”¨">äºŒï¼Œéƒ¨ç½²æ™‚èˆ‡å¾ŒçºŒå¯«å…¥æ™‚éœ€è²»ç”¨<a href="#äºŒéƒ¨ç½²æ™‚èˆ‡å¾ŒçºŒå¯«å…¥æ™‚éœ€è²»ç”¨" class="hash-link" aria-label="Direct link to äºŒï¼Œéƒ¨ç½²æ™‚èˆ‡å¾ŒçºŒå¯«å…¥æ™‚éœ€è²»ç”¨" title="Direct link to äºŒï¼Œéƒ¨ç½²æ™‚èˆ‡å¾ŒçºŒå¯«å…¥æ™‚éœ€è²»ç”¨" translate="no">â€‹</a></h3>
<p>ä¸€èˆ¬çš„æ‡‰ç”¨ç¨‹å¼éœ€è¦æä¾›ç¶²å€è®“ä½¿ç”¨è€…ä¸‹è¼‰ï¼Œä¸€èˆ¬çš„ç¶²é æ‡‰ç”¨ç¨‹å¼ä¹Ÿéœ€è¦é‹è¡Œåœ¨ä¼ºæœå™¨ä¸Šï¼Œé–‹ç™¼è€…éœ€è¦ç¶­æŒä¼ºæœå™¨çš„é‹ä½œä»¥æä¾›æœå‹™ï¼Œé€™éœ€è¦æŒçºŒåœ°èŠ±è²»ï¼ˆå°±ç®—æ˜¯å…è²»çš„ä¼ºæœå™¨æˆ–ç¶²é ç©ºé–“ï¼Œä¹Ÿæ˜¯å» å•†è‡ªè¡Œå¸æ”¶äº†è²»ç”¨ï¼‰ï¼Œç¨‹å¼é–‹å§‹é‹ä½œå¾Œï¼Œé™¤äº†ç¶­æŒè²»ç”¨å¤–ä¸éœ€é¡å¤–çš„èŠ±è²»ã€‚</p>
<p>æ™ºèƒ½åˆç´„åœ¨éƒ¨ç½²æ™‚éœ€è¦ä¸€ç­†è²»ç”¨ï¼Œé€™ç­†è²»ç”¨å°‡åˆ†çµ¦åƒèˆ‡äº¤æ˜“é©—è­‰ï¼ˆæŒ–ç¤¦ï¼‰çš„äººã€‚è€Œåœ¨åˆç´„éƒ¨ç½²æˆåŠŸå¾Œï¼Œåˆç´„æœƒä½œç‚ºä¸å¯æ›´æ”¹çš„å€å¡Šéˆçš„ä¸€éƒ¨åˆ†ï¼Œåˆ†æ•£åœ°å„²å­˜åœ¨å…¨çƒå„åœ°ä»¥å¤ªåŠçš„ç¯€é»ä¸Šã€‚ä¹Ÿå› æ­¤ï¼Œæ™ºèƒ½åˆç´„åœ¨éƒ¨ç½²å¾Œï¼Œä¸¦ä¸éœ€å®šæœŸæä¾›ç¶­æŒè²»ç”¨ï¼ŒåŒæ™‚æŸ¥è©¢å·²å¯«å…¥å€å¡Šéˆçš„éœæ…‹è³‡æ–™æ™‚ä¹Ÿä¸éœ€è²»ç”¨ã€‚åªæœ‰åœ¨æ¯æ¬¡é€éæ™ºèƒ½åˆç´„å¯«å…¥æˆ–è®€å–è¨ˆç®—çµæœæ™‚ï¼Œéœ€è¦æä¾›ä¸€å°ç­†äº¤æ˜“è²»ç”¨ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ä¸‰å„²å­˜è³‡æ–™çš„æˆæœ¬æ›´é«˜">ä¸‰ï¼Œå„²å­˜è³‡æ–™çš„æˆæœ¬æ›´é«˜<a href="#ä¸‰å„²å­˜è³‡æ–™çš„æˆæœ¬æ›´é«˜" class="hash-link" aria-label="Direct link to ä¸‰ï¼Œå„²å­˜è³‡æ–™çš„æˆæœ¬æ›´é«˜" title="Direct link to ä¸‰ï¼Œå„²å­˜è³‡æ–™çš„æˆæœ¬æ›´é«˜" translate="no">â€‹</a></h3>
<p>ä¸€èˆ¬çš„æ‡‰ç”¨ç¨‹å¼å°‡è³‡æ–™å„²å­˜åœ¨æœ¬æ©Ÿæˆ–ä¼ºæœå™¨ä¸Šï¼Œéœ€è¦è³‡æ–™æ™‚å†å¾æœ¬æ©Ÿæˆ–ä¼ºæœå™¨ä¸Šè®€å–ï¼Œè€Œæ™ºèƒ½åˆç´„å°‡è³‡æ–™å„²å­˜åœ¨å€å¡Šéˆä¸Šï¼Œå„²å­˜è³‡æ–™æ‰€éœ€çš„æ™‚é–“èˆ‡æˆæœ¬ç›¸å°æ˜‚è²´ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å››éƒ¨ç½²å¾Œç„¡æ³•æ›´æ”¹">å››ï¼Œéƒ¨ç½²å¾Œç„¡æ³•æ›´æ”¹<a href="#å››éƒ¨ç½²å¾Œç„¡æ³•æ›´æ”¹" class="hash-link" aria-label="Direct link to å››ï¼Œéƒ¨ç½²å¾Œç„¡æ³•æ›´æ”¹" title="Direct link to å››ï¼Œéƒ¨ç½²å¾Œç„¡æ³•æ›´æ”¹" translate="no">â€‹</a></h3>
<p>ä¸€èˆ¬çš„æ‡‰ç”¨ç¨‹å¼æ”¹ç‰ˆæ™‚å¯é€éå®‰è£æ–°ç‰ˆç¨‹å¼ï¼Œç¶²é æ‡‰ç”¨ç¨‹å¼ä¹Ÿå¯é€ééƒ¨ç½²æ–°ç‰ˆç¨‹å¼é”æˆï¼Œè€Œæ™ºèƒ½åˆç´„ä¸€æ—¦éƒ¨ç½²åˆ°å€å¡Šéˆä¸Šå¾Œï¼Œå°±ç„¡æ³•æ›´æ”¹é€™å€‹æ™ºèƒ½åˆç´„ã€‚ç•¶ç„¶è°æ˜çš„é–‹ç™¼è€…é€éåŠ å…¥é¡å¤–çš„æ™ºèƒ½åˆç´„ï¼Œä¹Ÿå·²æœ‰è¾¦æ³•ç¹éæ™ºèƒ½åˆç´„éƒ¨ç½²å¾Œç„¡æ³•å†æ›´æ”¹çš„é™åˆ¶ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„">å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„ï¼Ÿ<a href="#å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„" class="hash-link" aria-label="Direct link to å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„ï¼Ÿ" title="Direct link to å¦‚ä½•æ’°å¯«æ™ºèƒ½åˆç´„ï¼Ÿ" translate="no">â€‹</a></h2>
<p>Ethereum ä¸Šçš„æ™ºèƒ½åˆç´„éœ€è¦ä½¿ç”¨ solidity [^2] èªè¨€ä¾†æ’°å¯«ã€‚ä¹‹å‰é‚„æœ‰å…¶ä»–èƒ½ç”¨ä¾†æ’°å¯«æ™ºèƒ½åˆç´„çš„èªè¨€å¦‚ Serpent (é¡ Python)ã€lll (é¡ Fortran)ï¼Œä½†ç›®å‰çœ‹åˆ°æ‰€æœ‰å…¬é–‹çš„æ™ºèƒ½åˆç´„éƒ½æ˜¯ä½¿ç”¨ solidity æ’°å¯«ã€‚å®˜æ–¹å®£å‚³ä¸Šèªª solidity æ˜¯ä¸€ç¨®é¡ä¼¼ Javascript çš„èªè¨€ï¼Œè€Œä¸”åœç¹è‘— solidity çš„å„ç¨®é–‹ç™¼å·¥å…·éˆéƒ½æ˜¯ä½¿ç”¨å±¬æ–¼ Javascript ç”Ÿæ…‹ç³»çš„ npm ä¾†æä¾›çš„ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å°‡æ™ºèƒ½åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆçš„æµç¨‹">å°‡æ™ºèƒ½åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆçš„æµç¨‹<a href="#å°‡æ™ºèƒ½åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆçš„æµç¨‹" class="hash-link" aria-label="Direct link to å°‡æ™ºèƒ½åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆçš„æµç¨‹" title="Direct link to å°‡æ™ºèƒ½åˆç´„éƒ¨ç½²åˆ°å€å¡Šéˆçš„æµç¨‹" translate="no">â€‹</a></h2>
<p>å¯«å¥½ solidity ç¨‹å¼ç¢¼ (.sol) å¾Œï¼Œéœ€è¦å…ˆå°‡ç¨‹å¼ç¢¼ç·¨è­¯ (compile) æˆ EVM (Ethereum Virtual Machine) èƒ½è®€æ‡‚çš„äºŒé€²ä½ Contract ByteCodeï¼Œæ‰èƒ½éƒ¨ç½²åˆ° Ethereum çš„å€å¡Šéˆä¸ŠåŸ·è¡Œã€‚éƒ¨ç½²åˆ°å€å¡Šéˆä¸Šçš„åˆç´„æœƒæœ‰ä¸€å€‹å’ŒéŒ¢åŒ…åœ°å€ï¼ˆAddressï¼‰ä¸€æ¨£æ ¼å¼çš„åˆç´„åœ°å€ï¼ˆContract Addressï¼‰ã€‚</p>
<!-- -->
<p>éƒ¨ç½²å¾Œæ™ºèƒ½åˆç´„å¯è‡ªå‹•åŸ·è¡Œã€‚å¾ŒçºŒå‘¼å«æ™ºèƒ½åˆç´„çš„æ™‚å€™ï¼Œä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨éƒ¨ç½²åˆç´„çš„éŒ¢åŒ…åœ°å€ (Owner Account)ï¼Œæˆ–ä¾æ“šæ’°å¯«çš„æ™ºèƒ½åˆç´„æ¢ä»¶ï¼Œè®“å…¶ä»–éŒ¢åŒ…åœ°å€ä¹Ÿèƒ½å‘¼å«é€™å€‹æ™ºèƒ½åˆç´„ã€‚
æ‰€è¬‚çš„ &quot;å‘¼å«æ™ºèƒ½åˆç´„&quot;ï¼Œå…¶å¯¦å°±æ˜¯å‘é€™å€‹åˆç´„åœ°å€ç™¼èµ·äº¤æ˜“ï¼Œåªæ˜¯äº¤æ˜“çš„ä¸åªæ˜¯ä»£å¹£ï¼Œè€Œå¯ä»¥æ˜¯æ™ºèƒ½åˆç´„æä¾›çš„å‘¼å«æ–¹æ³•ã€‚</p>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æœ‰é»æŠ½è±¡ä¾†å€‹ä¾‹å­-chestnut">æœ‰é»æŠ½è±¡ï¼Œä¾†å€‹ä¾‹å­ï¼Ÿ ğŸŒ°<a href="#æœ‰é»æŠ½è±¡ä¾†å€‹ä¾‹å­-chestnut" class="hash-link" aria-label="Direct link to æœ‰é»æŠ½è±¡ï¼Œä¾†å€‹ä¾‹å­ï¼Ÿ ğŸŒ°" title="Direct link to æœ‰é»æŠ½è±¡ï¼Œä¾†å€‹ä¾‹å­ï¼Ÿ ğŸŒ°" translate="no">â€‹</a></h2>
<p>åœ¨<a class="" href="/crypto/got-my-ens-domain">æ”¶åˆ°æˆ‘çš„ ENS ç¶²åŸŸå•¦ gasolin.eth</a>é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»‹ç´¹äº†ç”³è«‹ Ethereum Name Service çš„å¿ƒå¾—ã€‚å…¶å¯¦ ENS æœ¬èº«å°±æ˜¯ä¸€å †æ™ºèƒ½åˆç´„çš„é›†åˆï¼Œé€éé€™äº›æ™ºèƒ½åˆç´„ï¼Œä¸€èµ·æä¾›äº† Ethereum Name Service å¾ç”³è«‹ï¼Œç«¶åƒ¹ï¼Œåˆ°è¨­å®šåœ°å€å°æ‡‰çš„æœå‹™ã€‚</p>
<p>è¦å’Œæ™ºèƒ½åˆç´„äº’å‹•ï¼Œé™¤äº†éœ€è¦æœ‰åˆç´„åœ°å€å¤–ï¼Œé‚„éœ€è¦çŸ¥é“åˆç´„æ‰€æä¾›çš„æ“ä½œä»‹é¢ (Application Binary Interfaceï¼ŒABI)ï¼Œå³çŸ¥é“å¦‚ä½•å‘¼å«ç¨‹å¼æä¾›çš„åŠŸèƒ½ï¼Œå’Œå¦‚ä½•è§£é‡‹ç¨‹å¼å›å‚³çš„è³‡æ–™ã€‚
ABIï¼ˆJSON æ ¼å¼ï¼‰æª”æ¡ˆåœ¨å¾åŸå§‹ç¢¼ç·¨è­¯æˆ ByteCode æ™‚æœƒä¸€ä½µç”¢ç”Ÿã€‚</p>
<p>ä¸‹åœ–å³æ˜¯ ENS Public Resolver é€™å€‹åˆç´„çš„åœ°å€å’Œ ABIã€‚
<img decoding="async" loading="lazy" src="https://i.imgur.com/y6jvpAUl.png" alt="" class="img_ev3q"></p>
<p>æº–å‚™å¥½åˆç´„åœ°å€å’Œ ABI å¾Œï¼Œæˆ‘å€‘æ‰èƒ½å‘¼å«å°æ‡‰åŠŸèƒ½ä¾†å­˜å–åˆç´„ ã€‚
<img decoding="async" loading="lazy" src="https://i.imgur.com/5550HgNl.png" alt="Imgur" class="img_ev3q"></p>
<p>åœ¨<a class="" href="/crypto/howto-write-a-smart-contract">ä¸‹ä¸€ç¯‡</a>ä¸­ï¼Œæˆ‘å°‡ç°¡å–®ä»‹ç´¹å¦‚ä½•æ’°å¯« Solidity ç¨‹å¼ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™<a href="#åƒè€ƒè³‡æ–™" class="hash-link" aria-label="Direct link to åƒè€ƒè³‡æ–™" title="Direct link to åƒè€ƒè³‡æ–™" translate="no">â€‹</a></h2>
<ul>
<li class="">[1] ERC20 <a href="https://theethereum.wiki/w/index.php/ERC20_Token_Standard" target="_blank" rel="noopener noreferrer" class="">https://theethereum.wiki/w/index.php/ERC20_Token_Standard</a></li>
<li class="">[2] Solidity <a href="http://solidity.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer" class="">http://solidity.readthedocs.io/en/latest/index.html</a></li>
<li class="">[3] migration contracts <a href="http://truffleframework.com/docs/getting_started/migrations" target="_blank" rel="noopener noreferrer" class="">http://truffleframework.com/docs/getting_started/migrations</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/page/14"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/page/16"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Personal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://blog.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://www.mytravelmap.tk/u/gg112695256249584453237" target="_blank" rel="noopener noreferrer" class="footer__link-item">Traveled<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Career</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/gasolin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 gasolin. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>