<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Blog | 蓋索林 Gasolin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.gasolin.idv.tw/page/15"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | 蓋索林 Gasolin"><meta data-rh="true" name="description" content="人們總是高估一年可以完成的事，卻低估十年能完成的事"><meta data-rh="true" property="og:description" content="人們總是高估一年可以完成的事，卻低估十年能完成的事"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.gasolin.idv.tw/page/15"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/page/15" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.gasolin.idv.tw/page/15" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="蓋索林 Gasolin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="蓋索林 Gasolin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-2833924-9","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.f86b0c0f.css">
<link rel="preload" href="/assets/js/runtime~main.9f88827d.js" as="script">
<link rel="preload" href="/assets/js/main.89406be5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avatar.jpg" alt="gasolin blog" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">蓋索林 Gasolin</b></a><a href="https://gasolin.idv.tw/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/tags">Tags</a><a class="navbar__item navbar__link" href="/life/mylifetools">我的工具箱</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/service/p2p-and-dht">不用伺服器也能通訊？P2P 聊天 App 的啟動魔法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tools/ollama">使用 Ollama 與 Holesail 遠端運行本地模型</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tools/my-app-2025">目前使用的電腦應用程式 (2025)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/tools/tooling-in-2025-Apr">個人工具箱（2025四月）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life/my-investment-2024">這一年的投資 (2024)</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/crypto/howto-write-a-smart-contract">如何撰寫智能合約(Smart Contract)?(I)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-06T18:30:31.000Z" itemprop="datePublished">September 6, 2017</time> · <!-- -->15 min read</div></header><div class="markdown" itemprop="articleBody"><p>Update: 11/30/2017 更新教程，使用<a href="https://github.com/trufflesuite/truffle/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">Truffle 4.0.1</a>。</p><p><a href="/crypto/what-is-smart-contract">上一篇</a>中介紹了智能合約📒 是什麼，也概略描述了從編譯到部署智能合約的流程，接下來將介紹如何使用 solidity 語言來寫智能合約。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用solidity語言撰寫智能合約">使用 solidity 語言撰寫智能合約<a href="#使用solidity語言撰寫智能合約" class="hash-link" aria-label="Direct link to 使用 solidity 語言撰寫智能合約" title="Direct link to 使用 solidity 語言撰寫智能合約">​</a></h2><p>Ethereum 上的智能合約需要使用<code>solidity</code><sup id="fnref-1-fe74e8"><a href="#fn-1-fe74e8" class="footnote-ref">1</a></sup>語言來撰寫。雖然還有其他能用來撰寫智能合約的語言如<code>Serpent</code>(類 Python)、<code>lll</code>(類 Fortran)，但目前看到所有公開的智能合約都是使用 solidity 撰寫。</p><p>宣傳上說，solidity 是一種類似 Javascript 的語言，而且圍繞著 solidity 的各種開發工具鏈，都是使用屬於 Javascript 生態系的 npm 來提供的。但我覺得 solidity 還是比較像 Java 或 C#。
因為和 Javascript 不同，solidity 與 Java 或 C# 同屬於強型別 (Strong Type，在定義變數時需要指定型別) 語言、在定義函式 (function) 時同樣需指定回傳的型別 (type)、同樣也需要先編譯才能執行。這些特性都是 Javascript 所不具備的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="開發前的準備">開發前的準備<a href="#開發前的準備" class="hash-link" aria-label="Direct link to 開發前的準備" title="Direct link to 開發前的準備">​</a></h2><p>本文將使用當前最活躍的智能合約開發框架<code>truffle</code><sup id="fnref-3-fe74e8"><a href="#fn-3-fe74e8" class="footnote-ref">3</a></sup>為基礎來開發。之前提到過的 ENS (Ethereum Name Service)<sup id="fnref-5-fe74e8"><a href="#fn-5-fe74e8" class="footnote-ref">5</a></sup>也是採用 truffle 框架。其他選擇還有<code>embark</code><sup id="fnref-4-fe74e8"><a href="#fn-4-fe74e8" class="footnote-ref">4</a></sup>等。</p><p>就像一般網站或 App 開發一樣，在提供公開服務之前，開發者會在自己用於寫程式的電腦 (又稱作本機)💻 或透過測試網路🕸️ 來測試程式執行的效果，測試完成後，才會部署到公開的網路上提供服務。
開發區塊鏈智能合約 (程式) 的過程也是如此。特別是公開鏈上所有寫入或讀取計算結果的操作都需要真金白銀 (虛擬代幣)💸 ，而且根據網路狀況，每個公開鏈上的操作都需要要一小段反應時間 (15 秒～數分鐘)，這些等待頗浪費寶貴的開發時間⏳ 。
因此在開發的過程中，我們將使用<code>testrpc</code><sup id="fnref-6-fe74e8"><a href="#fn-6-fe74e8" class="footnote-ref">6</a></sup>工具在電腦上模擬智能合約所需的乙太坊區塊鏈測試環境。</p><p>testrpc 中也包含了 Javascript 版本的 Ethereum 虛擬機 (Ethereum Virtual Machine)<sup id="fnref-7-fe74e8"><a href="#fn-7-fe74e8" class="footnote-ref">7</a></sup>，因此可以完整地執行智能合約😇 。</p><p>此外，開發前還需準備一個合手的編輯器。我目前是使用<a href="https://code.visualstudio.com" target="_blank" rel="noopener noreferrer">Visual Studio Code</a>搭配<a href="https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity" target="_blank" rel="noopener noreferrer">solidity</a>插件來開發。solidity 插件除了支援語法高亮之外，也會透過 Solium<sup id="fnref-11-fe74e8"><a href="#fn-11-fe74e8" class="footnote-ref">11</a></sup>檢查並提示基本的語法錯誤，相當方便。其他編輯器應該也有類似的插件可選擇。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安裝所需工具">安裝所需工具<a href="#安裝所需工具" class="hash-link" aria-label="Direct link to 安裝所需工具" title="Direct link to 安裝所需工具">​</a></h3><p>首先開發機上必須裝好 Node.js，再使用以下命令安裝所需的工具：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install -g ethereumjs-testrpc truffle</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="啟動-testrpc">啟動 Testrpc<a href="#啟動-testrpc" class="hash-link" aria-label="Direct link to 啟動 Testrpc" title="Direct link to 啟動 Testrpc">​</a></h3><p>安裝好後隨時可以使用<code>testrpc</code>命令來啟動乙太坊測試環境。</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ testrpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Available Accounts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 0xa4d7ce9137e6f8de4fb1311595b33230be15be50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 0x26c231bdd7c8a7304983b04694c3437b30331019</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 0xe238ccca936dcdbd48f0cf3a1e6f147d04b55527</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 0x769ed341bf83cc86e5037cb78388012d6e2d9cc9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) 0x72a084c80195de79e5cd8dca59488e67982f65d7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) 0xcfda0765b0a82721d2f59581f53846a12e392999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 0x4b0349aea768b4e1ed4cec683f8f7dd112729fea</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) 0x643c305f0b3844984d7f1f7b9f3ab93a73dfdfcf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 0x2ee0a7974326604442dca127d02fac4957ab3e8a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) 0xe00e57db1772f6e81bcccc982e565a10ae26ab92</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private Keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 7de56fb677edc8d0c7a1f3a6d5bcb8f73ce257d44996e9b5fc8ad414af38a22a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 4401de20cf287d15d1c062005d866a35cd82e2a73f8cb43ec0cb90b117d1ec38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 8f51f9100a81218343d44a047ae3b0be5d80d262a13fbef24dc569b3e335e820</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 241a0ff98dfb6f290dbee909c9a7a4eea2de3a2174e7cddf834868ea03f80fa9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) ce1108cc6763bc74658068a55b080c6ccbfb1bd26e609588b81c07d13affc70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) f9614c1fd34224787e6c95bbe881fb28fd0fdc00808ef85d0430505f4a348690</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 4c1baad08f720f5c5754bb185e66490b45e3480aa3ec419e4b76f7a81118b296</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) af9af2c6b519d49605cc58b719240299e5e8b9a89a7e94a85625734fc30c46bd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 55ab79ae6de4fad5b98bc1dfd795b945ba8e7d92dcc88073f9e3fdfef471f69f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) e9299fb391c8830370991659780933e6b62269e32a8cbc55a29aa5f73df995a2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HD Wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">==================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mnemonic:      addict cherry medal cupboard bless reduce oven beauty egg gift pledge exact</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Base HD Path:  m/44&#x27;/60&#x27;/0&#x27;/0/{account_index}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看到 testrpc 啟動後自動建立了 10 個帳號 (Accounts)，與每個帳號對應的私鑰 (Private Key)🔑 。每個帳號中都有 100 個測試用的以太幣 (Ether)💵 。要注意 testrpc 僅運行在記憶體中，因此每次重開時都會回到全新的狀態。</p><p>一切準備就緒，我們可以開始建立第一份智能合約專案了。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="建立專案">建立專案<a href="#建立專案" class="hash-link" aria-label="Direct link to 建立專案" title="Direct link to 建立專案">​</a></h2><p>開啟另一個命令列視窗，輸入以下命令以建立專案：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如此一來，我們已建立好第一份智能合約專案了。</p><p>在<code>demo/</code>資料夾下，可以看到<code>contracts/</code>資料夾，裡面放的是這個專案所包含的所有 solidity 程式。我們在<code>contracts/</code>資料夾中額外建立一個<code>HelloWorld.sol</code>檔案。（或者也可以用<code>truffle create contract HelloWorld</code>命令來建立）</p><p><code>HelloWorld.sol</code>檔案內容如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sayHello() public returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (&quot;Hello World&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="講解">講解<a href="#講解" class="hash-link" aria-label="Direct link to 講解" title="Direct link to 講解">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.4.11;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>第一行指名目前使用的 solidity 版本，不同版本的 solidity 可能會編譯出不同的 bytecode。</p><p>想要知道當前的 solidity 版本，也可以用 <code>truffle version</code> 命令來查看當前使用的 truffle 與 solidity 版本：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Truffle v4.0.1 (core: 4.0.1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solidity v0.4.18 (solc-js)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>contract</code>關鍵字類似於其他語言中較常見的<code>class</code>。因為 solidity 是專為智能合約 (Contact) 設計的語言，宣告<code>contract</code>後即內建了開發智能合約所需的功能。也可以把這句理解為<code>class HelloWorld extends Contract</code>。</p><p>雖然一個.sol 檔案中可以定義多個 Contract，但建議一個.sol 檔案中只定義一個 Contract 以便於後續的維護。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function sayHello() public returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (&quot;Hello World&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>函式的結構與其他程式類似，但如果有傳入的參數或回傳值，需要指定參數或回傳值的型別 (type)。所有支援的型別可以查看參考資料<sup id="fnref-10-fe74e8"><a href="#fn-10-fe74e8" class="footnote-ref">10</a></sup>。</p><p>solidity 官方推薦的縮排風格為 4 個空格<sup id="fnref-13-fe74e8"><a href="#fn-13-fe74e8" class="footnote-ref">13</a></sup>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="編譯">編譯<a href="#編譯" class="hash-link" aria-label="Direct link to 編譯" title="Direct link to 編譯">​</a></h2><p>現在執行<code>truffle compile</code>命令，我們可以將<code>HelloWorld.sol</code>原始碼編譯成 Ethereum bytecode。</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>編譯成功的話，在<code>build/contracts/</code>目錄下會多出<code>HelloWorld.json</code>這個檔案。（在 Windows 平台上執行 truffle compile 若遇到問題，可以查看參考資料<sup id="fnref-9-fe74e8"><a href="#fn-9-fe74e8" class="footnote-ref">9</a></sup>來解決。）</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署">部署<a href="#部署" class="hash-link" aria-label="Direct link to 部署" title="Direct link to 部署">​</a></h2><p>為了將寫好的 solidity 程式碼部署到區塊鍊上，我們需要做一些相應的設定。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遷移">遷移<a href="#遷移" class="hash-link" aria-label="Direct link to 遷移" title="Direct link to 遷移">​</a></h3><p>truffle 框架中提供了方便部署合約的腳本。我們可以在<code>migrations/</code>目錄下維護這些腳本。這些腳本除了能部署合約，也可以用來遷移合約中的資料。建立<code>migrations/2_deploy_contracts.js</code>檔案 (這些腳本使用 Javascript 撰寫)，將內容修改如下</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">HelloWorld</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;HelloWorld&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">deployer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  deployer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deploy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>這些 migration 檔案會依照檔案的<code>編號</code>來執行。例如<code>2_</code>就會在<code>1_</code>之後執行。檔案後面的文字只為協助開發者理解之用。</p><p>在檔案中可使用<code>artifacts.require</code>語句來取得準備部署的合約。使用<code>deployer.deploy</code>語句將合約部署到區塊鏈上。這邊<code>HelloWorld</code>是<code>contract</code>的名稱而不是檔名。因此可以用此語法讀入任一<code>.sol</code>檔案中的任一合約。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="區塊網路設定">區塊網路設定<a href="#區塊網路設定" class="hash-link" aria-label="Direct link to 區塊網路設定" title="Direct link to 區塊網路設定">​</a></h3><p>為了與<code>testrpc</code>連線，需要打開<code>truffle.js</code>並加入以下設定：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// See &lt;http://truffleframework.com/docs/advanced/configuration&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// to customize your Truffle configuration!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">networks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">development</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">host</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">port</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8545</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">network_id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Match any network id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>truffle 使用 Javascript 的 Object 格式來定義設定。這邊定義了<code>development</code>網路為<code>localhost:8545</code>，即 testrpc 所提供的網路位址。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署-1">部署<a href="#部署-1" class="hash-link" aria-label="Direct link to 部署" title="Direct link to 部署">​</a></h3><p>現在執行<code>truffle migrate</code>命令</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 1_initial_migration.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 2_deploy_contracts.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving successful migration to network...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如此一來合約已經部署到 testrpc 中。切換到 testrpc 視窗，可以看到 testrpc 有反應了。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="與合約互動">與合約互動<a href="#與合約互動" class="hash-link" aria-label="Direct link to 與合約互動" title="Direct link to 與合約互動">​</a></h3><p>truffle 提供命令行工具，執行<code>truffle console</code>命令後，可用 Javascript 來和剛剛部署的合約互動。</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HelloWorld.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="講解-1">講解<a href="#講解-1" class="hash-link" aria-label="Direct link to 講解" title="Direct link to 講解">​</a></h4><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deployed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">instance</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> contract </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>truffle console</code>中預載了<code>truffle-contract</code><sup id="fnref-12-fe74e8"><a href="#fn-12-fe74e8" class="footnote-ref">12</a></sup>函式庫，以方便操作部署到區塊鏈上的合約。</p><p>這邊使用<code>HelloWorld.deployed().then</code>語句來取得 HelloWorld 合約的 Instance (實例)，並存到<code>contract</code>變數中，以方便後續的呼叫。</p><p>上面用的是 Javascript ES6 + 的語法，這句也可以寫成</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">HelloWorld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">deployed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">instance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hello </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>這邊直接呼叫<code>contract.sayHello()</code>也會得到一樣的結果。<code>truffle-contract</code>提供使用<code>call()</code>來讀取唯讀 (read only) 的資料，這樣就不需提供 gas。因此如果遇到的操作需要向區塊鏈寫入資料，我們就不能用<code>call</code>語句了。</p><p>如此一來，我們已寫好並部署完成了第一個智能合約，也驗證了合約確實可以運作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="加入新方法">加入新方法<a href="#加入新方法" class="hash-link" aria-label="Direct link to 加入新方法" title="Direct link to 加入新方法">​</a></h3><p>我們在<code>HelloWorld.sol</code>中再加入一個<code>echo</code>方法，<code>echo</code>方法接受輸入一個參數，並回傳傳送的參數。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function echo(string name) constant returns (string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>新的<code>echo</code>方法中傳入了一個<code>name</code>參數。我們也為<code>echo</code>方法加入一個<code>constant</code>宣告，表示呼叫這個方法並不會改變區塊鏈的狀態。如此一來，透過<code>truffle-contract</code>來呼叫此方法時，會自動選用<code>call</code>來呼叫，也不需要額外提供 gas。</p><p>由於更新了合約內容，我們需要先重新新編譯一次，將編譯結果部署到 testrpc 上，再透過<code>truffle console</code>執行看看結果。</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate --reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle console</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; HelloWorld.deployed().then(instance =&gt; contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; contract.echo(&quot;yo man&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;yo man&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>echo</code>方法確實將我們輸入的內容回傳了。同時因為宣告了<code>constant</code>，我們不需要直接呼叫<code>call()</code>方法，<code>truffle</code>會自動選用 call 來呼叫。</p><p>另一點需要注意的，是這次如果還是用<code>truffle migrate</code>命令，我們會得到如下訊息：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ truffle migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;development&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Network up to date.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Truffle 會告訴你現在網路上的合約都已是最新的，但事實上剛剛程式中新增的方法並沒有更新到區塊鏈上。要更新區塊鏈上已部署的程式，需要改寫<code>migrations</code>中的腳本，但現在還不到介紹 migration 的時候。還好我們開發用的區塊鏈是怎麼修改都沒關係的 testrpc，可以使用<code>truffle migrate --reset</code>命令直接重新在 testrpc 上部署一次🎉 。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用truffle-develop命令">使用 truffle develop 命令<a href="#使用truffle-develop命令" class="hash-link" aria-label="Direct link to 使用 truffle develop 命令" title="Direct link to 使用 truffle develop 命令">​</a></h2><p>truffle 4.0.0 版本之後加入了<code>truffle develop</code>命令。這個命令讓我們不需要另外安裝 testrpc 等環境，就能直接上手開發。</p><p>例如</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">truffle develop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Truffle Develop started at http://localhost:9545/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(0) 0x627306090abab3a6e1400e9345bc60c78a8bef57</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(1) 0xf17f52151ebef6c7334fad080c5704d77216b732</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(2) 0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(3) 0x821aea9a577a9b44299b9c15c88cf3087f3b5544</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(4) 0x0d1d4e623d10f9fba5db95830f7d3839406c6af2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(5) 0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(6) 0x2191ef87e392377ec08e7c08eb105ef5448eced5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(7) 0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(8) 0x6330a553fc93768f612722bb8c2ec78ac90b3bbc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(9) 0x5aeda56215b167893e80b4fe645ba6d5bab767de</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mnemonic: candy maple cake sugar pudding cream honey rich smooth crumble sweet treat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using network &#x27;develop&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 1_initial_migration.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying Migrations...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Running migration: 2_deploy_contracts.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Deploying HelloWorld...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saving artifacts...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; let contract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; HelloWorld.deployed().then(instance =&gt;contract = instance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">truffle(develop)&gt; contract.sayHello.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Hello World&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以看到，在命令行中輸入<code>truffle develop</code>命令，可以直接在裡面執行<code>compile</code>，<code>migrate</code>指令，還可以直接使用<code>console</code>命令所提供的與區塊鍊互動等功能。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結語">結語<a href="#結語" class="hash-link" aria-label="Direct link to 結語" title="Direct link to 結語">​</a></h2><p>本篇設計的範例<sup id="fnref-8-fe74e8"><a href="#fn-8-fe74e8" class="footnote-ref">8</a></sup>相當簡單，但已達到完整地帶大家快速⚡ 走一遍智能合約開發流程的目的。要透過智能合約實現各種功能，可以參考<a href="http://solidity.readthedocs.io/en/latest/solidity-by-example.html" target="_blank" rel="noopener noreferrer">Solidity by example</a> 和 <a href="http://truffleframework.com/docs/getting_started/" target="_blank" rel="noopener noreferrer">Truffle getting started</a> 網站學習更多的內容。也歡迎讀者留言，分享學習資源或提供建議。</p><p>下一篇會接著介紹如何建立一份簡單的加密代幣🔒💵合約。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="參考資料">參考資料<a href="#參考資料" class="hash-link" aria-label="Direct link to 參考資料" title="Direct link to 參考資料">​</a></h2><ul><li>[1]<!-- --> Solidity <a href="http://solidity.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer">http://solidity.readthedocs.io/en/latest/index.html</a></li><li>[2]<!-- --> Solidity 線上編輯器　<a href="https://ethereum.github.io/browser-solidity/" target="_blank" rel="noopener noreferrer">https://ethereum.github.io/browser-solidity/</a></li><li>[3]<!-- --> Truffle Framework <a href="http://truffleframework.com/" target="_blank" rel="noopener noreferrer">http://truffleframework.com/</a></li><li>[4]<!-- --> Embark Framework <a href="https://github.com/iurimatias/embark-framework" target="_blank" rel="noopener noreferrer">https://github.com/iurimatias/embark-framework</a></li><li>[5]<!-- --> ENS 也使用 Truffle 框架 <a href="https://github.com/ethereum/ens" target="_blank" rel="noopener noreferrer">https://github.com/ethereum/ens</a></li><li>[6]<!-- --> <a href="https://github.com/ethereumjs/testrpc" target="_blank" rel="noopener noreferrer">https://github.com/ethereumjs/testrpc</a></li><li>[7]<!-- --> <a href="https://github.com/ethereumjs/ethereumjs-vm" target="_blank" rel="noopener noreferrer">https://github.com/ethereumjs/ethereumjs-vm</a></li><li>[8]<!-- --> HelloWorld 範例修改自 <a href="https://app.pluralsight.com/library/courses/blockchain-fundamentals/" target="_blank" rel="noopener noreferrer">https://app.pluralsight.com/library/courses/blockchain-fundamentals/</a></li><li>[9]<!-- -->  Truffle issue on windows <a href="http://truffleframework.com/docs/advanced/configuration#resolving-naming-conflicts-on-windows" target="_blank" rel="noopener noreferrer">http://truffleframework.com/docs/advanced/configuration#resolving-naming-conflicts-on-windows</a></li><li>[10]<!-- --> Solidity 支援的型別 (Type) <a href="https://solidity.readthedocs.io/en/develop/types.html" target="_blank" rel="noopener noreferrer">https://solidity.readthedocs.io/en/develop/types.html</a></li><li>[11]<!-- --> Solium syntax check <a href="https://github.com/duaraghav8/Solium" target="_blank" rel="noopener noreferrer">https://github.com/duaraghav8/Solium</a></li><li>[12]<!-- --> <a href="http://truffleframework.com/docs/getting_started/contracts" target="_blank" rel="noopener noreferrer">http://truffleframework.com/docs/getting_started/contracts</a></li><li>[13]<!-- --> Coding Style <a href="http://solidity.readthedocs.io/en/develop/style-guide.html" target="_blank" rel="noopener noreferrer">http://solidity.readthedocs.io/en/develop/style-guide.html</a></li><li>[14]<!-- --> 本篇也已分享到 medium 上的 Taipei Ethereum Meetup 台灣以太坊社群專欄　<a href="https://medium.com/taipei-ethereum-meetup/%E5%A6%82%E4%BD%95%E6%92%B0%E5%AF%AB%E6%99%BA%E8%83%BD%E5%90%88%E7%B4%84-smart-contract-i-363d06b1965b" target="_blank" rel="noopener noreferrer">https://medium.com/taipei-ethereum-meetup/%E5%A6%82%E4%BD%95%E6%92%B0%E5%AF%AB%E6%99%BA%E8%83%BD%E5%90%88%E7%B4%84-smart-contract-i-363d06b1965b</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/javascript">javascript</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/solidity">solidity</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/crypto/what-is-smart-contract">什麼是智能合約(Smart Contract)?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-02T22:14:48.000Z" itemprop="datePublished">September 2, 2017</time> · <!-- -->9 min read</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">聲明：gasolin.eth 此 Domain 已過期，我並未繼續註冊</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="智能合約是什麼">智能合約是什麼？<a href="#智能合約是什麼" class="hash-link" aria-label="Direct link to 智能合約是什麼？" title="Direct link to 智能合約是什麼？">​</a></h2><p>在區塊鏈上運行的程式，通常稱為智能合約 (Smart Contract)📒 。所以通常會把 &quot;寫區塊鏈程式&quot; 改稱作 &quot;寫智能合約&quot;。雖然比特幣 (Bitcoin) 上也能寫智能合約，但是比特幣所支援的語法僅與交易有關，能做的事情比較有限。因此目前提到寫智能合約，通常指的是支援執行圖靈完備程式的以太坊 (Ethereum) 區塊鏈⛓️ 。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="智能合約可以做什麼">智能合約可以做什麼<a href="#智能合約可以做什麼" class="hash-link" aria-label="Direct link to 智能合約可以做什麼" title="Direct link to 智能合約可以做什麼">​</a></h2><p>目前最常見的智能合約是各種加密貨幣合約💷 ，開發者可以很容易地透過部署一個智能合約，來提供運行於以太坊上的新加密代幣。如果這份智能合約相容於 ERC20 標準<sup id="fnref-1-ae8ce2"><a href="#fn-1-ae8ce2" class="footnote-ref">1</a></sup>，開發者不需要重新開發從挖礦到交易的整個代幣生態系，你的新加密代幣就可以直接使用支援以太坊的電子錢包💰 來收送，大大降低了建立新加密代幣的門檻。</p><p>智能合約也讓募資💸 變得更透明。參與者投資資金或提供服務，也可獲得相應的權益。這份權益可以用代幣的形式返還給參與者。同樣地如果這代幣相容於 ERC20 標準<sup id="fnref-2-ae8ce2"><a href="#fn-2-ae8ce2" class="footnote-ref">2</a></sup>，投資者或贊助者還可以隨時交易這些代幣。讓資金的運用變得更加彈性，也降低了投資的門檻。</p><p>除此之外，智能合約也可以用來運作各式公開公正的自動服務機構 (DAO，Decentralized Autonomous Organization)🏦 。透過分散在全球各節點上運作的智能合約，所有運作與決策都是公開透明的，降低了交易的不確定性 (Uncertainty)。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="智能合約和一般程式的差異">智能合約和一般程式的差異<a href="#智能合約和一般程式的差異" class="hash-link" aria-label="Direct link to 智能合約和一般程式的差異" title="Direct link to 智能合約和一般程式的差異">​</a></h2><p>以太坊智能合約確實有些和一般程式不同的特性，以下整理了四個不同點。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="一整合金流容易">一，整合金流容易<a href="#一整合金流容易" class="hash-link" aria-label="Direct link to 一，整合金流容易" title="Direct link to 一，整合金流容易">​</a></h3><p>一般的應用程式要整合金流是件非常不容易的事情。而智能合約極容易整合金流系統 (使用以太幣或自行建立的新代幣合約)。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="二部署時與後續寫入時需費用">二，部署時與後續寫入時需費用<a href="#二部署時與後續寫入時需費用" class="hash-link" aria-label="Direct link to 二，部署時與後續寫入時需費用" title="Direct link to 二，部署時與後續寫入時需費用">​</a></h3><p>一般的應用程式需要提供網址讓使用者下載，一般的網頁應用程式也需要運行在伺服器上，開發者需要維持伺服器的運作以提供服務，這需要持續地花費（就算是免費的伺服器或網頁空間，也是廠商自行吸收了費用），程式開始運作後，除了維持費用外不需額外的花費。</p><p>智能合約在部署時需要一筆費用，這筆費用將分給參與交易驗證（挖礦）的人。而在合約部署成功後，合約會作為不可更改的區塊鏈的一部分，分散地儲存在全球各地以太坊的節點上。也因此，智能合約在部署後，並不需定期提供維持費用，同時查詢已寫入區塊鏈的靜態資料時也不需費用。只有在每次透過智能合約寫入或讀取計算結果時，需要提供一小筆交易費用。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="三儲存資料的成本更高">三，儲存資料的成本更高<a href="#三儲存資料的成本更高" class="hash-link" aria-label="Direct link to 三，儲存資料的成本更高" title="Direct link to 三，儲存資料的成本更高">​</a></h3><p>一般的應用程式將資料儲存在本機或伺服器上，需要資料時再從本機或伺服器上讀取，而智能合約將資料儲存在區塊鏈上，儲存資料所需的時間與成本相對昂貴。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="四部署後無法更改">四，部署後無法更改<a href="#四部署後無法更改" class="hash-link" aria-label="Direct link to 四，部署後無法更改" title="Direct link to 四，部署後無法更改">​</a></h3><p>一般的應用程式改版時可透過安裝新版程式，網頁應用程式也可透過部署新版程式達成，而智能合約一旦部署到區塊鏈上後，就無法更改這個智能合約。當然聰明的開發者透過加入額外的智能合約，也已有辦法繞過智能合約部署後無法再更改的限制。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何撰寫智能合約">如何撰寫智能合約？<a href="#如何撰寫智能合約" class="hash-link" aria-label="Direct link to 如何撰寫智能合約？" title="Direct link to 如何撰寫智能合約？">​</a></h2><p>Ethereum 上的智能合約需要使用 solidity<sup id="fnref-2-ae8ce2"><a href="#fn-2-ae8ce2" class="footnote-ref">2</a></sup>語言來撰寫。之前還有其他能用來撰寫智能合約的語言如 Serpent (類 Python)、lll (類 Fortran)，但目前看到所有公開的智能合約都是使用 solidity 撰寫。官方宣傳上說 solidity 是一種類似 Javascript 的語言，而且圍繞著 solidity 的各種開發工具鏈都是使用屬於 Javascript 生態系的 npm 來提供的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="將智能合約部署到區塊鏈的流程">將智能合約部署到區塊鏈的流程<a href="#將智能合約部署到區塊鏈的流程" class="hash-link" aria-label="Direct link to 將智能合約部署到區塊鏈的流程" title="Direct link to 將智能合約部署到區塊鏈的流程">​</a></h2><p>寫好 solidity 程式碼 (.sol) 後，需要先將程式碼編譯 (compile) 成 EVM (Ethereum Virtual Machine) 能讀懂的二進位 Contract ByteCode，才能部署到 Ethereum 的區塊鏈上執行。部署到區塊鏈上的合約會有一個和錢包地址（Address）一樣格式的合約地址（Contract Address）。</p><div class="mermaid" data-mermaid-src="graph LR
subgraph local
.sol -- compile --&gt; bytecode[Contract Bytecode]
end
subgraph ethereum
bytecode -- deploy --&gt; Contract
end">graph LR
subgraph local
.sol -- compile --&gt; bytecode[Contract Bytecode]
end
subgraph ethereum
bytecode -- deploy --&gt; Contract
end</div><p>部署後智能合約可自動執行。後續呼叫智能合約的時候，使用者可以使用部署合約的錢包地址 (Owner Account)，或依據撰寫的智能合約條件，讓其他錢包地址也能呼叫這個智能合約。
所謂的 &quot;呼叫智能合約&quot;，其實就是向這個合約地址發起交易，只是交易的不只是代幣，而可以是智能合約提供的呼叫方法。</p><div class="mermaid" data-mermaid-src="graph LR
subgraph local
Account
end
subgraph ethereum
Account -- call --&gt; Contract
Contract --&gt; EVM
end">graph LR
subgraph local
Account
end
subgraph ethereum
Account -- call --&gt; Contract
Contract --&gt; EVM
end</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="有點抽象來個例子--">有點抽象，來個例子？ 🌰 <a href="#有點抽象來個例子--" class="hash-link" aria-label="Direct link to 有點抽象，來個例子？ 🌰 " title="Direct link to 有點抽象，來個例子？ 🌰 ">​</a></h2><p>在<a href="/crypto/got-my-ens-domain">收到我的 ENS 網域啦 gasolin.eth</a>這篇文章中，我介紹了申請 Ethereum Name Service 的心得。其實 ENS 本身就是一堆智能合約的集合，透過這些智能合約，一起提供了 Ethereum Name Service 從申請，競價，到設定地址對應的服務。</p><p>要和智能合約互動，除了需要有合約地址外，還需要知道合約所提供的操作介面 (Application Binary Interface，ABI)，即知道如何呼叫程式提供的功能，和如何解釋程式回傳的資料。
ABI（JSON 格式）檔案在從原始碼編譯成 ByteCode 時會一併產生。</p><p>下圖即是 ENS Public Resolver 這個合約的地址和 ABI。
<img loading="lazy" src="https://i.imgur.com/y6jvpAUl.png" class="img_ev3q"></p><p>準備好合約地址和 ABI 後，我們才能呼叫對應功能來存取合約。
<img loading="lazy" src="https://i.imgur.com/5550HgNl.png" alt="Imgur" class="img_ev3q"></p><p>在<a href="/crypto/howto-write-a-smart-contract">下一篇</a>中，我將簡單介紹如何撰寫 Solidity 程式。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="參考資料">參考資料<a href="#參考資料" class="hash-link" aria-label="Direct link to 參考資料" title="Direct link to 參考資料">​</a></h2><ul><li>[1]<!-- --> ERC20 <a href="https://theethereum.wiki/w/index.php/ERC20_Token_Standard" target="_blank" rel="noopener noreferrer">https://theethereum.wiki/w/index.php/ERC20_Token_Standard</a></li><li>[2]<!-- --> Solidity <a href="http://solidity.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer">http://solidity.readthedocs.io/en/latest/index.html</a></li><li>[3]<!-- --> migration contracts <a href="http://truffleframework.com/docs/getting_started/migrations" target="_blank" rel="noopener noreferrer">http://truffleframework.com/docs/getting_started/migrations</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/tools/tooling-in-2017-sep">個人工具箱2017九月</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-09-01T00:01:00.000Z" itemprop="datePublished">September 1, 2017</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p><code>先記錄下來手邊使用的工具，才有機會從繁雜中歸納出簡單的使用規則。</code></p><p>2011<sup id="fnref-1-a4a739"><a href="#fn-1-a4a739" class="footnote-ref">1</a></sup>年時紀錄了一次當時的個人工具箱，去年開始再次紀錄<sup id="fnref-2-a4a739"><a href="#fn-2-a4a739" class="footnote-ref">2</a></sup>。
今年給自己定的一大目標是個人自動化。年初開始紀錄自己工具箱的改變<sup id="fnref-3-a4a739"><a href="#fn-3-a4a739" class="footnote-ref">3</a></sup>🤹，持續更新。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="主要裝備">主要裝備<a href="#主要裝備" class="hash-link" aria-label="Direct link to 主要裝備" title="Direct link to 主要裝備">​</a></h2><ul><li>💻 Macbook Air 13&quot;, 2012 年版</li><li>📱 <a href="https://oneplus.net/global/3" target="_blank" rel="noopener noreferrer">One Plus 3</a>, Android, 6GB RAM, 5.5&quot; AMOLED</li><li>💻 Dell XPS 13 (4943), Windows 10, i7 2.4GHz x2, 8GB RAM, 13&quot; LCD</li><li>📙 Kindle Voyage </li><li>🖥️ Desktop PC, <a href="https://elementary.io/" target="_blank" rel="noopener noreferrer">Elementary OS</a>, Intel i7 3770 3.40GHz x8, 16GB RAM, GeForce GT 630, 23&quot; LCD x2</li><li>📦 Synology NAS: 電影，影集，照片，資料備份</li></ul><p>和年初相比的改變：</p><p>主力用 Macbook Air，用回 Macbook Air 的主因，是因為目前工作中一定得用到的 mozreview 預期年底會淘汰，懶得為每台機器重新做設定。而且在 Windows 上編譯工作用的東西還是不太順手。
桌機多擺了一台螢幕，雙螢幕工作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-網站工具">🕸️ 網站工具<a href="#️-網站工具" class="hash-link" aria-label="Direct link to 🕸️ 網站工具" title="Direct link to 🕸️ 網站工具">​</a></h3><ul><li>🕸️ 主要瀏覽器：<a href="https://www.mozilla.org/en-US/firefox/products/" target="_blank" rel="noopener noreferrer">Firefox Nightly</a></li><li>👥 主要社交網站：<a href="http://www.facebook.com/" target="_blank" rel="noopener noreferrer">Facebook</a>、<a href="https://twitter.com/gasolin" target="_blank" rel="noopener noreferrer">Twitter</a></li><li>✅<a href="https://todoist.com/" target="_blank" rel="noopener noreferrer">Todoist</a> (付費)</li><li>✉️ <a href="http://mail.google.com/" target="_blank" rel="noopener noreferrer">GMail</a>, Inbox</li><li>📆 <a href="http://www.google.com/calendar" target="_blank" rel="noopener noreferrer">Google 日曆</a></li><li>📝 Google Doc, <a href="http://keep.google.com/" target="_blank" rel="noopener noreferrer">Google keep</a> 記事</li><li>💾 個人網路硬碟：<a href="http://www.dropbox.com/" target="_blank" rel="noopener noreferrer">Dropbox</a>, 主要用作同步照片，</li><li>🔑密碼管理：<a href="https://www.lastpass.com/" target="_blank" rel="noopener noreferrer">Lasspass</a></li><li>📒記帳: <a href="https://toshl.com" target="_blank" rel="noopener noreferrer">Toshl</a> (付費)</li><li>📰 新聞聚合：<a href="https://feedly.com/" target="_blank" rel="noopener noreferrer">Feedly</a></li><li></li><li><a href="http://www.douban.com/" target="_blank" rel="noopener noreferrer">豆瓣</a> 看電影記錄</li><li>🗂️ 個人網站：<a href="http://www.gasolin.idv.tw" target="_blank" rel="noopener noreferrer">個人網站</a>, <a href="https://github.com/gasolin/blog/" target="_blank" rel="noopener noreferrer">Github</a></li><li>🗂️ 個人履歷：<a href="https://www.linkedin.com/in/fredglin/" target="_blank" rel="noopener noreferrer">Linkedin</a></li><li>🔗 IFTTT <a href="/tools/tooling-in-2017">自動化生活紀錄 2017</a></li><li>📺 <a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer">Youtube</a></li><li>👛 電子錢包<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a></li></ul><p>和年初相比的改變：</p><p>使用多年的 Anobii 已經漸漸缺乏維護，嘗試使用<a href="https://share.readmoo.com/" target="_blank" rel="noopener noreferrer">Readmoo 分享書</a>替代，但就我繁，簡，英文書交換著看的情況，Readmoo 分享書能掃到的書實在有限，因此今年到目前已看的書漏記了不少😓 。</p><p>此外也付費訂閱<a href="https://todoist.com/" target="_blank" rel="noopener noreferrer">Todoist</a>和<a href="https://toshl.com" target="_blank" rel="noopener noreferrer">Toshl</a>兩種工具服務。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="設計">設計<a href="#設計" class="hash-link" aria-label="Direct link to 設計" title="Direct link to 設計">​</a></h3><ul><li>Mockup：<a href="http://www.balsamiq.com/products/mockups" target="_blank" rel="noopener noreferrer">Balsmiq Mockups</a></li><li>錄螢幕動畫：<a href="http://www.recordit.co/" target="_blank" rel="noopener noreferrer">Recordit</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="開發">開發<a href="#開發" class="hash-link" aria-label="Direct link to 開發" title="Direct link to 開發">​</a></h3><ul><li>編輯器：Visual Studio Code</li><li>版本控制：git, git-cinnabar</li><li>套件管理：apt, <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener noreferrer">nvm</a>, yarn, Chocolatey(windows)</li><li>Shell: zsh</li></ul><p>Ubuntu bash on windows 用起來還不夠穩定，目前在 Windows 上盡量能用 Chocolatey 處理的就用 Chocolatey 處理。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用插件">常用插件<a href="#常用插件" class="hash-link" aria-label="Direct link to 常用插件" title="Direct link to 常用插件">​</a></h3><p>Browser</p><ul><li>Emoji cheatsheet</li><li>A Weel translation</li><li>Context Plus</li><li>Grammarly (付費)</li></ul><p>Grammarly 可以自動找出英文語法錯誤，相當方便。</p><p>VSCode</p><ul><li>Git Blame</li><li>Document This</li><li>EditorConfig for VS Code</li><li>WakaTime</li><li>solidity</li></ul><p>JS</p><ul><li>Babel</li><li>ESlint</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="娛樂">娛樂<a href="#娛樂" class="hash-link" aria-label="Direct link to 娛樂" title="Direct link to 娛樂">​</a></h3><ul><li>🎮Nintendo Switch</li><li>🎮Steam / vlc</li></ul><p>因為攜帶便利，現在主要只玩 NS 上的遊戲。Steam 上看到喜歡的遊戲，也盡量等 NS 上出了再買。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-android-手機">📱 Android 手機<a href="#-android-手機" class="hash-link" aria-label="Direct link to 📱 Android 手機" title="Direct link to 📱 Android 手機">​</a></h2><ul><li>瀏覽器：Firefox for Android (Nightly)</li><li>網頁更新通知：Web Alert</li><li>閱讀：Palabre (feedly), Readmoo</li><li>稍候閱讀：Pocket</li><li>信箱：Gmail, Inbox</li><li>地圖：Google 地圖</li><li>記事：Keep</li><li>內建相機，內建時鐘</li><li>相簿：Dropbox, Google 相簿</li><li>社交：Facebook, LINE, Twitter, WeChat</li><li>待辦事項：<a href="https://play.google.com/store/apps/details?id=com.todoist" target="_blank" rel="noopener noreferrer">Todoist</a>* 密碼管理：<a href="https://play.google.com/store/apps/details?id=com.lastpass.lpandroid" target="_blank" rel="noopener noreferrer">LastPass</a></li><li>記帳: <a href="https://play.google.com/store/apps/details?id=com.thirdframestudios.android.expensoor" target="_blank" rel="noopener noreferrer">Toshl</a></li><li>線上影片：Youtube</li><li>有聲書：Audible</li><li>音樂：豆瓣 FM</li><li>健康：小米運動，Pokemon Go</li></ul><p>工具</p><ul><li>公事：Expensify, Duo Mobile</li><li>旅遊：Google 翻譯，TripAdvisor</li><li>影片播放：MX Player, DS video (少用)</li><li>記錄看書狀況：Readmoo 分享書</li><li>線上學習：Udemy, Pluralsight</li><li>IFTTT</li><li>💳街口支付</li><li>拼字訂正：Grammarly</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h2><ul><li><sup id="fnref-1-a4a739"><a href="#fn-1-a4a739" class="footnote-ref">1</a></sup> <a href="/tools/tooling-in-2011">個人工具箱 2011</a></li><li><sup id="fnref-2-a4a739"><a href="#fn-2-a4a739" class="footnote-ref">2</a></sup> <a href="/tools/tooling-in-2016">個人工具箱 2016</a></li><li><sup id="fnref-3-a4a739"><a href="#fn-3-a4a739" class="footnote-ref">3</a></sup> <a href="/tools/tooling-in-2017">個人工具箱 2017</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/life">life</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/tool">tool</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/crypto/what-is-ethereum">以太坊(Ethereum)是什麼？</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-08-18T23:21:31.000Z" itemprop="datePublished">August 18, 2017</time> · <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><p>以太坊 (Ethereum) 是近幾年才發展起來的一種新的底層<a href="/crypto/what-is-blockchain">區塊鏈</a>技術。以太幣 (Ether) 是以太坊公有鏈上產生的🔒💵加密貨幣 (Crypto　Currency)，除了可以拿來像比特幣 (Bitcoin) 一樣做交易外，還具有實際的用途。</p><p>以太坊和比特幣一樣是基於 P2P 網路與密碼學建立起的區塊鏈機制，不同之處是，以太坊在每個運作的節點上都運行著一個以太坊虛擬機 (Ethereum Virtual Machine, EVM)，可以用來執行完整的程式。這些程式在以太坊中被稱為⚖📒<strong>智能合約</strong>(Smart Contract)。智能合約除了可以處理資料，還內建轉帳功能，可以很容易地透過智能合約來交易加密貨幣。由於智能合約可在每個以太坊的節點上執行並進行驗證，所以計算結果被認為是可信任的。以太坊還開發出了<a href="https://github.com/ethereum/wiki/wiki/JavaScript-API" target="_blank" rel="noopener noreferrer">web3.js</a>讓開發者可以使用網頁技術撰寫智能合約的操作介面。這樣的網頁操作介面又稱為🕸🅰<strong>分散式應用程式</strong>(DAPP)。要使用 DAPP，必須在支援 DAPP 的瀏覽器中才能使用 (如<a href="https://github.com/ethereum/mist/releases" target="_blank" rel="noopener noreferrer">Mist</a>或<a href="https://parity.io/" target="_blank" rel="noopener noreferrer">Parity</a>)。</p><p>使用智能合約技術製作的服務，也構成了以太坊生態圈的一環。例如<a href="/crypto/got-my-ens-domain">Ethereum Name Service(ENS)</a>就提供了讓使用者更容易尋找到轉帳對象、智能合約，和 DAPP 的方式。</p><p>以太坊提供了便於交易的加密貨幣以太幣 (Ether)，可透過智能合約解決交易上的信任問題，同時也可撰寫 DAPP 來提供友善的資訊彙總與操作介面，讓以太坊成為一個目前最理想的區塊鏈底層技術。</p><div class="mermaid" data-mermaid-src="graph TD
DAPP -.- DAPP瀏覽器
DAPP瀏覽器 -.- 智能合約
錢包 -.- 智能合約
智能合約 --- 以太坊
錢包 -.- 以太幣
以太幣 --- 以太坊
以太幣 --- 激勵機制
以太坊 --- P2P
以太坊 --- 共識機制
共識機制 --- 密碼學
P2P --- 網際網路
分散式APP -.- ENS
智能合約 -.- ENS
以太幣 -.- ENS">graph TD
DAPP -.- DAPP瀏覽器
DAPP瀏覽器 -.- 智能合約
錢包 -.- 智能合約
智能合約 --- 以太坊
錢包 -.- 以太幣
以太幣 --- 以太坊
以太幣 --- 激勵機制
以太坊 --- P2P
以太坊 --- 共識機制
共識機制 --- 密碼學
P2P --- 網際網路
分散式APP -.- ENS
智能合約 -.- ENS
以太幣 -.- ENS</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="以太幣ether的實際用途">以太幣 (Ether) 的實際用途<a href="#以太幣ether的實際用途" class="hash-link" aria-label="Direct link to 以太幣 (Ether) 的實際用途" title="Direct link to 以太幣 (Ether) 的實際用途">​</a></h2><p>在電腦上執行的一般的程式碼，寫出來可能會有迴圈不斷執行 (死迴圈) 的情況，搬到區塊鏈上亦然。那麼以太坊怎麼解決這個問題呢？以太坊開發者想到的辦法是讓執行的程式碼變得有價。EVM 裡支援的所有的指令 (OPCODE) 都有<a href="https://github.com/ethereum/pyethereum/blob/develop/ethereum/opcodes.py" target="_blank" rel="noopener noreferrer">明碼標價</a>，執行智能合約需要消耗與執行的指令數量相當的以太幣。在智能合約的術語中，這些拿來消耗的以太幣被稱為 &quot;gas&quot;(燃料)。部署合約到區塊鏈上時，需要附加一定數量的燃料。當燃料消耗完而程式還沒執行完，就會出現 &quot;Out of Gas&quot;(燃料耗盡) 錯誤。智能合約透過這樣的方式來避免死迴圈等情況。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="智能合約能做什麼事">智能合約能做什麼事？<a href="#智能合約能做什麼事" class="hash-link" aria-label="Direct link to 智能合約能做什麼事？" title="Direct link to 智能合約能做什麼事？">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="創造新的加密代幣">創造新的加密代幣<a href="#創造新的加密代幣" class="hash-link" aria-label="Direct link to 創造新的加密代幣" title="Direct link to 創造新的加密代幣">​</a></h3><p>智能合約最基本的應用，就是做出新的加密代幣！只要<a href="https://theethereum.wiki/w/index.php/ERC20_Token_Standard" target="_blank" rel="noopener noreferrer">遵循一定的規範</a>(ERC20)，部署一份智能合約到以太坊區塊鏈上，任何人都可以可以很容易地創造出自己的加密代幣。</p><p>不用像比特幣的山寨幣一樣需要自行徵募礦工。你的加密代幣會以 &quot;以太坊的一個智能合約&quot; 的形式存在於以太坊的區塊鏈中。現有支援以太幣的錢包與交易所，也可以快速地接入你的加密代幣。只要你發行的加密代幣與代幣背後所代表的服務具有交易的價值，代幣也可能變貨幣。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="募資">募資<a href="#募資" class="hash-link" aria-label="Direct link to 募資" title="Direct link to 募資">​</a></h3><p>此外，在募資上，智能合約也有無與倫比的優勢。新創公司<a href="https://cointelegraph.com/news/the-ico-mania-and-its-consequences-on-ethereum" target="_blank" rel="noopener noreferrer">ICO</a>可透過以太坊的智能合約，在收到資助者的以太幣時，自動發出等值的加密代幣。</p><p>由於這些加密代幣可交易，如果公司的服務有價值，早期投資人在投資的前期，就可以透過交易加密代幣來調整持有量。</p><p>普通的投資人也第一次有機會直接支持自己感興趣的創業者，並可能從而獲得豐厚 (<a href="/crypto/things-to-know-before-join-ico">或歸零</a>) 的回報。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="程式能做的事">程式能做的事<a href="#程式能做的事" class="hash-link" aria-label="Direct link to 程式能做的事" title="Direct link to 程式能做的事">​</a></h3><p>當你需要公開，可被信任的紀錄時，都可以透過智能合約達成。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="以太坊的缺點">以太坊的缺點<a href="#以太坊的缺點" class="hash-link" aria-label="Direct link to 以太坊的缺點" title="Direct link to 以太坊的缺點">​</a></h2><p>目前以太坊區塊鏈的速度和電腦執行速度無法相比，不適合快速交易，或是需要儲存較大資料的情境。近期的<a href="http://www.investopedia.com/news/what-plasma-and-how-will-it-strengthen-ethereum-blockchain/" target="_blank" rel="noopener noreferrer">plasma</a>提案有望解決快速交易的問題。</p><p>因為缺乏即時調控區塊大小的手段，在一些很熱門的交易時段 (如某些熱門的 ICO 開放認購時)，整個網路的交易延遲會變地很長。</p><p>智能合約一經部署就永遠存在，除非擁有者啟動智能合約中的自毀 (selfdestruct) 功能。如何升級合約並保存其中的參數與代幣，是一個值得探討的課題。</p><p>以太坊網路節點上並不適合儲存較大的檔案。目前有<a href="https://github.com/ethersphere/swarm" target="_blank" rel="noopener noreferrer">Swarm</a>與<a href="https://ipfs.io/" target="_blank" rel="noopener noreferrer">IPFS</a>等分散式檔案儲存方式可供選擇。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="其他參考資料">其他參考資料<a href="#其他參考資料" class="hash-link" aria-label="Direct link to 其他參考資料" title="Direct link to 其他參考資料">​</a></h2><ul><li>以太坊設計原理 <a href="http://ethfans.org/posts/510" target="_blank" rel="noopener noreferrer">http://ethfans.org/posts/510</a></li><li>ethereum <a href="https://github.com/ethereum/wiki/wiki" target="_blank" rel="noopener noreferrer">https://github.com/ethereum/wiki/wiki</a></li><li>挖礦教學 <a href="https://www.ptt.cc/bbs/DigiCurrency/M.1495624721.A.6A8.html" target="_blank" rel="noopener noreferrer">https://www.ptt.cc/bbs/DigiCurrency/M.1495624721.A.6A8.html</a></li><li>以太坊、以太幣是什麼？ETH 電腦挖礦圖文教程<a href="http://www.gooread.com/article/20122396003/" target="_blank" rel="noopener noreferrer">http://www.gooread.com/article/20122396003/</a></li><li></li><li>Ethereum Overview <a href="http://truffleframework.com/tutorials/ethereum-overview" target="_blank" rel="noopener noreferrer">http://truffleframework.com/tutorials/ethereum-overview</a></li><li></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/blockchain">blockchain</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/crypto/got-my-ens-domain">收到我的ENS網域啦 gasolin.eth</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-08-13T15:07:30.000Z" itemprop="datePublished">August 13, 2017</time> · <!-- -->11 min read</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">聲明：gasolin.eth 此 Domain 已過期，我並未繼續註冊</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>前幾天剛拿到<a href="https://etherscan.io/enslookup?q=gasolin.eth" target="_blank" rel="noopener noreferrer">gasolin.eth</a>這個 ENS 網域。ENS (Ethereum Name Service)<sup id="fnref-1-79cf82"><a href="#fn-1-79cf82" class="footnote-ref">1</a></sup> 的功能類似我們較熟悉的 DNS (Domain Name Service) 網域名稱服務，但提供的不是 Internet 網址，而是將以太坊 (Ethereum) 錢包地址和智能合約地址以<code>xxxxxxx.eth</code>網址的方式表示，可以用於轉帳或存取智能合約等地方。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ens網域的應用情境">ENS 網域的應用情境<a href="#ens網域的應用情境" class="hash-link" aria-label="Direct link to ENS 網域的應用情境" title="Direct link to ENS 網域的應用情境">​</a></h2><p>例如有人想轉錢給我，就可以請他將以太幣轉到<code>gasolin.eth</code>這網址，<code>gasolin.eth</code>會自動轉址到我指定的錢包地址 (0x....)，轉帳的人不需要記憶一串根本像亂碼的以太幣錢包地址。</p><p></p><p>若我想要公開智能合約讓大眾使用，我可以公開諸如<code>service.gasolin.eth</code>這樣的網址，使用者只要連到<code>service.gasolin.eth</code>，就會自動轉到對應的智能合約地址。若這個智能合約所提供的是單次服務，我也可以透過修改<code>service.gasolin.eth</code>對應的智能合約地址，來 &quot;升級&quot; 這個智能合約服務。使用者依然是連到<code>service.gasolin.eth</code>使用這個服務，而不需要了解背後的機制。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="查詢可申請的網域">查詢可申請的網域<a href="#查詢可申請的網域" class="hash-link" aria-label="Direct link to 查詢可申請的網域" title="Direct link to 查詢可申請的網域">​</a></h2><p>因為<code>gasolin.eth</code>已經被我申請了，查詢可申請地址這部分將以搞笑的 NMB (嫩模幣) ICO<sup id="fnref-3-79cf82"><a href="#fn-3-79cf82" class="footnote-ref">3</a></sup>為例，我會以申請<code>nenmocoin.eth</code>當做例子，介紹整個申請 ENS 網域的流程。</p><p>嫩模幣的投資條件是<code>本次投資僅接受ETH，最少投資額0.0.1ETH,ETH錢包地址:0x74b7bafafd200a58e79b719f3565cbb43af7d6b7</code>。如果能將<code>0x74b7bafafd200a58e79b719f3565cbb43af7d6b7</code>換成<code>nenmocoin.eth</code>，投資者轉帳起來就更直覺了。</p><p>在寫作時<code>nenmocoin</code>(<a href="https://registrar.ens.domains/#nenmocoin)%E9%80%99%E5%80%8B%E7%B6%B2%E5%9F%9F%E6%98%AF%E5%8F%AF%E4%BB%A5%E7%94%B3%E8%AB%8B%E7%9A%84(%E7%9B%AE%E5%89%8DENS%E5%83%85%E6%8E%A5%E5%8F%97%E7%94%B3%E8%AB%8B7%E5%80%8B%E5%AD%97%E6%AF%8D%E4%BB%A5%E4%B8%8A%E7%9A%84%E7%B6%B2%E5%9F%9F)%E3%80%82" target="_blank" rel="noopener noreferrer">https://registrar.ens.domains/#nenmocoin) 這個網域是可以申請的 (目前 ENS 僅接受申請 7 個字母以上的網域)。</a></p><p>想查詢可用的網域，可以前往　<a href="http://registrar.ens.domains/" target="_blank" rel="noopener noreferrer">http://registrar.ens.domains/</a>　或連到<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a><sup id="fnref-2-79cf82"><a href="#fn-2-79cf82" class="footnote-ref">2</a></sup>並切換到<code>ENS</code>分頁，查詢可用的 ENS 網址。</p><p></p><p>如果在一般瀏覽器中查看，會看到黃色欄的警告提示。</p><p></p><p>這是因為 ENS 服務是跑在以太坊 Ethereum 區塊鏈上，要麼用專用的 browser（如 Mist），不然就是裝 Parity，或瀏覽器擴充套件 MetaMask (Chrome only)。還有個選擇就是用<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>網頁錢包，裡面內建註冊 ENS 需要的功能。</p><p>我是使用<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>網頁錢包來完成整個註冊 gasolin.eth 網域的流程。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="競標網域須知">競標網域須知<a href="#競標網域須知" class="hash-link" aria-label="Direct link to 競標網域須知" title="Direct link to 競標網域須知">​</a></h2><ul><li>註冊 ENS 網域並不需要實名或其他認證流程，只要有一個以太幣錢包地址即可。</li><li>請參考<a href="/crypto/things-to-know-before-join-ico">參與首次代幣發行 (ICO) 時要知道的事</a>，絕對不要用交易所提供的錢包競標網域，不然即使競標到網域也會變成交易所的 XD。</li><li>ENS 網域的最低起標價是 0.01ETH (當前匯率是美金 $2~3)</li></ul><p>要註冊 ENS 網域，需要遵循 ENS 網域競標流程 (bid)。</p><p>ENS 網域競標流程模擬現實的競標，首先是寫下標價，並將相應數量的以太幣傳入 ENS 票箱。兩天後就可以公告這個網域競標 (揭標)，其他人能看到這個網域已經開始競標了。如果他們有興趣，也可以加入這個網域的競標。最終價高者得，但出價最高的人只需要繳交第二高者的標價。ENS 會自動退回所有參與者的標金，也會返回得標者標金的差額。如果得標者一年後未續約，ENS 將釋出此網域並退回押金。</p><div class="mermaid" data-mermaid-src="graph LR
網域可註冊 --&gt; 提出標金
提出標金 -- 2 天 --&gt; 公告競標
公告競標 -- 2 天 --&gt; 取得網域
取得網域 -. 1 年後未續約 .-&gt; 釋出網域並退回押金">graph LR
網域可註冊 --&gt; 提出標金
提出標金 -- 2 天 --&gt; 公告競標
公告競標 -- 2 天 --&gt; 取得網域
取得網域 -. 1 年後未續約 .-&gt; 釋出網域並退回押金</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="提出標金">提出標金<a href="#提出標金" class="hash-link" aria-label="Direct link to 提出標金" title="Direct link to 提出標金">​</a></h2><p>確定 &quot;nenmocoin&quot; 網域可用，接下來就是打開錢包，開始競標吧。</p><p></p><p>打開錢包，輸入超過最低起標價 0.01ETH 的數字，勇敢按下<code>Start an Auction</code>按鈕，並照著指示完成競標手續。</p><p>記得將畫面上的資料複製留存，後面的手續中會用到。
完成競標手續後會進入 2 天的等待期。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="公告競標">公告競標<a href="#公告競標" class="hash-link" aria-label="Direct link to 公告競標" title="Direct link to 公告競標">​</a></h2><p></p><p>其實照著<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>上面的說明完成公告手續並不困難😤。最重要的事，就是在 2 天的等待期結束後，</p><p><strong>記得回來公告競標，</strong>
<strong>記得回來公告競標，</strong>
<strong>記得回來公告競標，</strong></p><p>如果沒做這個動作，前幾天提出的標金會被送到黑洞消失掉，沒辦法取回喔！我第一次試著註冊網域的時候就這樣被吃掉 0.01ETH😭。</p><p>公告後其他人可以看到網域開始競標的訊息。這時有兩天的時間讓其他感興趣的人一起競標，當前最高價會顯示在查詢頁面上。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="取得網域">取得網域<a href="#取得網域" class="hash-link" aria-label="Direct link to 取得網域" title="Direct link to 取得網域">​</a></h2><p>公告期結束後，如果順利取得網域，可以看到如下訊息</p><p></p><p>這時
<strong>記得回來宣告取得網域，</strong>
<strong>記得回來宣告取得網域，</strong>
<strong>記得回來宣告取得網域，</strong></p><p>照著<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>上面的說明完成宣告手續後，才能正式取得這個網域。</p><p>以後其他人查詢時，就會看到這個網域已經被註冊的訊息。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="取得網域之後">取得網域之後<a href="#取得網域之後" class="hash-link" aria-label="Direct link to 取得網域之後" title="Direct link to 取得網域之後">​</a></h2><p>取得網域之後，在<a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>上查看網域並打開錢包，就會看到如何設定網域的說明。</p><p>目前設定網域的方式比較複雜些，需要到<code>Contracts</code>(合約) 目錄下，在<code>Select Existing Contract</code>（選擇已經存在的合約）選擇<code>ENS - Public Resolver</code>，並在<code>Read/Write Contract</code>(讀取 / 寫入合約) 部分選擇<code>setAddr</code>(設定地址) 功能，照著設定網域說明將錢包地址輸入，這樣網域才能正確解析到我們想要的錢包地址。</p><p></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何節省交易手續費">如何節省交易手續費<a href="#如何節省交易手續費" class="hash-link" aria-label="Direct link to 如何節省交易手續費" title="Direct link to 如何節省交易手續費">​</a></h2><p>以上整套設定 ENS 的過程牽涉到 5~6 次交易。只有第一次需轉出標金，後面的各種動作都只收交易手續費。因此註冊一個 ENS 網域的成本其實是標金 + 多次手續費。標金在到期之後會返還，因此實際影響持有成本最大的是交易手續費。</p><p><a href="https://www.myetherwallet.com/" target="_blank" rel="noopener noreferrer">MyEtherWallet</a>右上角預設的交易手續費是 21GWei（1 Ether = 10^9 GWei）。手續費是給分礦工（提供計算力協助以太幣記帳的人）的，調低的話，交易確認的速度會變慢，調高則變快。我剛開始不懂，因此就使用了預設值。後來看 Youtube 上的教學，才知道可以參考<a href="http://ethgasstation.info/" target="_blank" rel="noopener noreferrer">Gas Station</a>網站即時的<code>SafeLow Cost</code>（最低安全交易手續費）來設置。只要我們提供的手續費高於這個數目，交易都會成功。</p><p></p><p>這陣子最低手續費大多是 3 ~ 5 GWei。我照這個手續費做設定（並斟酌提高 1 ~ 2 Gwei）交易都有成功。雖然不管用什麼標準來算，以太坊的手續費都已經很便宜，但多一步簡單的操作，就能感受到精打細算的樂趣。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結語">結語<a href="#結語" class="hash-link" aria-label="Direct link to 結語" title="Direct link to 結語">​</a></h2><p>上面舉了嫩模幣 ICO 的轉帳地址當做例子。<strong>我故意把引用的嫩模幣錢包地址，換成了我自己的錢包地址</strong>。如果不提，應該沒幾個人會注意到吧？
如果錢包地址改用本文提到的<code>nenmocoin.eth</code>，參與者是不是更容易發現收款地址已被修改了呢？
ENS 並沒有做身分認證，釣魚網站也可以申請相似的 ENS 域名來釣魚，要避免這樣的情況，也有賴服務提供者有在提供服務前，有優先註冊域名的保護意識。</p><p>ENS 本身其實就是一系列基於以太坊的智能合約<sup id="fnref-4-79cf82"><a href="#fn-4-79cf82" class="footnote-ref">4</a></sup>，內部的流程都是自動的，對於智能合約與 DAPP 開發者來說，也是很值得參考的架構。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="參考資料">參考資料<a href="#參考資料" class="hash-link" aria-label="Direct link to 參考資料" title="Direct link to 參考資料">​</a></h2><ul><li>[1]<!-- --> Ethereum Name Service <a href="https://ens.domains/" target="_blank" rel="noopener noreferrer">https://ens.domains/</a></li><li>[2][Myetherwallet介紹]<!-- -->(<a href="http://blockcast.it/2017/05/27/eth-and-eth-token-wallet-series-myetherwallet/" target="_blank" rel="noopener noreferrer">http://blockcast.it/2017/05/27/eth-and-eth-token-wallet-series-myetherwallet/</a>)</li><li>[3]<!-- --> 嫩模幣 <a href="http://nmb.fun/" target="_blank" rel="noopener noreferrer">http://nmb.fun/</a></li><li>[4]<!-- --> ENS 原始碼　<a href="https://github.com/ethereum/ens" target="_blank" rel="noopener noreferrer">https://github.com/ethereum/ens</a></li></ul><hr><p><a href="https://etherscan.io/enslookup?q=gasolin.eth" target="_blank" rel="noopener noreferrer">gasolin.eth</a>這個網址真的可以用喔！覺得這篇文章寫得蠻好想打賞一下，可以傳到我的錢包地址<code>gasolin.eth</code>。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ethereum">ethereum</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ens">ens</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/page/14"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/page/16"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Personal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.gasolin.idv.tw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://www.mytravelmap.tk/u/gg112695256249584453237" target="_blank" rel="noopener noreferrer" class="footer__link-item">Traveled<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Career</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/gasolin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 gasolin. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9f88827d.js"></script>
<script src="/assets/js/main.89406be5.js"></script>
</body>
</html>