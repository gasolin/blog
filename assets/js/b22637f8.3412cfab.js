"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[12384],{79526:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>b,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=a(87462),o=(a(67294),a(3905));a(8209);const s={title:"Setup a skype chatbot on Respberry pi with 4GB SD Card",tags:["javascript","fun"],date:new Date("2016-04-08T02:45:45.000Z")},r=void 0,l={permalink:"/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card.md",source:"@site/blog/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card.md",title:"Setup a skype chatbot on Respberry pi with 4GB SD Card",description:"It's a small challenge and fun to setup a chatbot on a small device with restrained resource.",date:"2016-04-08T02:45:45.000Z",formattedDate:"April 8, 2016",tags:[{label:"javascript",permalink:"/tags/javascript"},{label:"fun",permalink:"/tags/fun"}],readingTime:1.845,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Setup a skype chatbot on Respberry pi with 4GB SD Card",tags:["javascript","fun"],date:"2016-04-08T02:45:45.000Z"},prevItem:{title:"\u4f7f\u7528\u624b\u6a5f\u4e0a\u50b3 360 \u5716\u7247\u5230 Facebook",permalink:"/vr/upload-360photo-to-facebook"},nextItem:{title:"How we ported Hubot from Coffeescript to ES6",permalink:"/code/How-we-ported-Hubot-from-Coffeescript-to-ES6"}},i={authorsImageUrls:[]},p=[{value:"Download respbian lite",id:"download-respbian-lite",level:3},{value:"Flash image to sdcard",id:"flash-image-to-sdcard",level:3},{value:"Login to respbian",id:"login-to-respbian",level:3},{value:"Install node and redis",id:"install-node-and-redis",level:3},{value:"Install webbybot",id:"install-webbybot",level:3},{value:"Deploy on messengers",id:"deploy-on-messengers",level:3}],d={toc:p};function b(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"It's a small challenge and fun to setup a chatbot on a small device with restrained resource."),(0,o.kt)("p",null,"Here's the instruction to setup a chatbot on Respberry pi with 4GB SD Card."),(0,o.kt)("h3",{id:"download-respbian-lite"},"Download respbian lite"),(0,o.kt)("p",null,"We need respbian lite because normal Respbian took more than 4GB space. If you have 8GB or larger SD Card, normal Respbian works fine for you."),(0,o.kt)("p",null,"You can download them from ",(0,o.kt)("a",{parentName:"p",href:"https://www.raspberrypi.org/downloads/raspbian/"},"https://www.raspberrypi.org/downloads/raspbian/")),(0,o.kt)("h3",{id:"flash-image-to-sdcard"},"Flash image to sdcard"),(0,o.kt)("p",null,"I did it in Mac with diskutil. You can check the install guide from ",(0,o.kt)("a",{parentName:"p",href:"https://www.raspberrypi.org/documentation/installation/installing-images/README.md"},"https://www.raspberrypi.org/documentation/installation/installing-images/README.md")," for other platforms."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ diskutil list\n/dev/disk0 (internal, physical):\n...\n/dev/disk1 (internal, virtual):\n...\n/dev/disk2 (internal, virtual):\n... 2: Linux 3.8 GB disk2s2\n\n$ diskutil unmountDisk disk2\n$ sudo dd bs=1m if=2016-03-18-raspbian-jessie-lite.img of=/dev/rdisk2\n")),(0,o.kt)("h3",{id:"login-to-respbian"},"Login to respbian"),(0,o.kt)("p",null,"Respbian lite does not provide desktop environment, so we'll do everything with command line."),(0,o.kt)("p",null,"Insert SDCard, bootup and login into respbian with"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"name: pi\npassword: raspberry\n")),(0,o.kt)("p",null,"Refer from ",(0,o.kt)("a",{parentName:"p",href:"http://elinux.org/RPi_Distributions#Raspbian"},"http://elinux.org/RPi_Distributions#Raspbian")),(0,o.kt)("h3",{id:"install-node-and-redis"},"Install node and redis"),(0,o.kt)("p",null,"Refer from ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/package-manager/"},"https://nodejs.org/en/download/package-manager/")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ `curl -sL https://deb.nodesource.com/setup_5.x > script\n$ chmod 755 script\n$ sudo -E ./script\n$ sudo apt-get install -y nodejs build-essential redis-server\n$ node -v\nv5.10.1\n")),(0,o.kt)("h3",{id:"install-webbybot"},"Install webbybot"),(0,o.kt)("p",null,"Webbybot is the rewrite of hubot from coffeescript to ES6, its will be more maintainable in the future."),(0,o.kt)("p",null,"In respbian lite, the git is not pre-installed, so we need install ",(0,o.kt)("strong",{parentName:"p"},"git-core")," from ",(0,o.kt)("strong",{parentName:"p"},"apt-get")," as well."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ sudo apt-get install git-core\n$ git clone https://github.com/gasolin/webby-template pibot\n$ cd pibot\n$ npm install\n$ ./bin/webby\nwebby> webby test\nwebby> **pong**\n")),(0,o.kt)("h3",{id:"deploy-on-messengers"},"Deploy on messengers"),(0,o.kt)("p",null,"Check Workable adapters section to install your bot onto telegram, facebook messenger, or skype ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/gasolin/webby-template#workable-adapters"},"https://github.com/gasolin/webby-template#workable-adapters")),(0,o.kt)("p",null,"Let's take skype for example. First you need sign up an skype account, then put the username/password on to ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"vi .env\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"HUBOT_SKYPE_USERNAME=name\nHUBOT_SKYPE_PASSWORD=password\n")),(0,o.kt)("p",null,"Then install hubot-skyweb adapter and switch the core to webbybot"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install hubot-skyweb\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"vi node_module/hubot-skyweb/src/skyweb.coffee\n")),(0,o.kt)("p",null,"replace require 'hubot' to 'webbybot'. Then run"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"./bin/webby -a skyweb\n")),(0,o.kt)("p",null,"You are good to go! You can add new skills on your pibot by following ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/gasolin/webbybot/#add-plugins"},"https://github.com/gasolin/webbybot/#add-plugins")," which is same as hubot, and create your own plugin to control the respberry pi ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/gasolin/webbybot#write-your-own-plugin"},"https://github.com/gasolin/webbybot#write-your-own-plugin"),"."),(0,o.kt)("p",null,"Have fun!"))}b.isMDXComponent=!0}}]);