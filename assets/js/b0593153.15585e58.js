"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[9247],{20004(e){e.exports=JSON.parse('{"permalink":"/python/TurboGears-with-SqlSoup","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/python/TurboGears-with-SqlSoup.md","source":"@site/blog/python/TurboGears-with-SqlSoup.md","title":"TurboGears with SqlSoup","description":"Purpose","date":"2006-11-22T06:19:11.000Z","tags":[{"inline":true,"label":"python","permalink":"/tags/python"},{"inline":true,"label":"TurboGears","permalink":"/tags/turbo-gears"}],"readingTime":1.54,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"TurboGears with SqlSoup","tags":["python","TurboGears"],"date":"2006-11-22T06:19:11.000Z"},"unlisted":false,"prevItem":{"title":"TurboGears \u7c21\u55ae\u5b58\u53d6\u8cc7\u6599\u5eab\u7684\u65b9\u6cd5","permalink":"/python/TurboGears-access-db"},"nextItem":{"title":"Python FAQ Zone","permalink":"/python/Python-FAQ-Zone"}}')},28453(e,n,t){t.d(n,{R:()=>r,x:()=>i});var s=t(96540);const o={},l=s.createContext(o);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},91092(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var s=t(20004),o=t(74848),l=t(28453);const r={title:"TurboGears with SqlSoup",tags:["python","TurboGears"],date:new Date("2006-11-22T06:19:11.000Z")},i=void 0,a={authorsImageUrls:[]},c=[{value:"Reference",id:"reference",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",h2:"h2",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Purpose"}),"\n",(0,o.jsxs)(n.p,{children:["Have an exist database and want migrate to TurboGears?\nOr you've been using TurboGears SQLObject model and want to migrate to ",(0,o.jsx)(n.a,{href:"http://www.sqlalchemy.org/",children:"SQLAlchemy"}),"?"]}),"\n",(0,o.jsx)(n.p,{children:"Solution"}),"\n",(0,o.jsx)(n.p,{children:"TurboGears newly support SQLAlchemy 0.2 module(>0.9a6), it provide  a slick solution: SqlSoup !"}),"\n",(0,o.jsx)(n.p,{children:"What SqlSoup does?"}),"\n",(0,o.jsx)(n.p,{children:"SqlSoup inspects your database and reflects its contents to class, no model definitions are necessary!"}),"\n",(0,o.jsx)(n.p,{children:"What does that mean?"}),"\n",(0,o.jsx)(n.p,{children:"It means you only need to specify a uri for database,\nand call SqlSoup to do the rest."}),"\n",(0,o.jsx)(n.p,{children:"What's the Benifits?"}),"\n",(0,o.jsx)(n.p,{children:"SqlSoup maps database tables to classes automatically. I'm not sure how efficient it is, but at least you can use SqlSoup by following ways:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"To use existing Database design tools to design my database"}),"\n",(0,o.jsx)(n.li,{children:"To use SqlSoup in design phase, and code to SQLAlchemy class when the databse is settled down."}),"\n",(0,o.jsx)(n.li,{children:"To painless migrate SQLObject generated database to SQLAlchemyTest Code"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Try the test code, it is thin."}),"\n",(0,o.jsx)(n.p,{children:"in model.py"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"1 from sqlalchemy.ext.sqlsoup import SqlSoup"}),"\n",(0,o.jsx)(n.p,{children:'2 uri = "sqlite://%(current_dir_uri)s/devdata.sqlite"\n3 soup = SqlSoup(uri)'}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Explain"}),"\n",(0,o.jsx)(n.p,{children:"line 1 import SqlSoup from sqlalchemy module,"}),"\n",(0,o.jsx)(n.p,{children:"line 2 specify the uri link to the database (I believe it can be improved)"}),"\n",(0,o.jsx)(n.p,{children:"line 3 the real code calling SqlSoup connect to uri"}),"\n",(0,o.jsx)(n.p,{children:'line 4 and line 5 shows I call the table "poll" from database'}),"\n",(0,o.jsx)(n.p,{children:"if you can't execute is , maybe you should install sqlalchemy first"}),"\n",(0,o.jsx)(n.p,{children:"$ easy_install sqlalchemy"}),"\n",(0,o.jsx)(n.p,{children:"or try the TurboGears way:"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"1 from turbogears import config\n2 from sqlalchemy.ext.sqlsoup import SqlSoup"}),"\n",(0,o.jsx)(n.p,{children:"3 uri = config.get('sqlalchemy.dburi')\n4 soup = SqlSoup(uri)\nAll you need to do is specify the dburi for sqlsoup."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Let's test what we got"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"poll = soup.poll.select()\nprint poll"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,o.jsxs)(n.p,{children:["That's all you need in TurboGears.\nTo get further usage , you can refer to ",(0,o.jsx)(n.a,{href:"http://spyced.blogspot.com/2006/04/introducing-sqlsoup.html",children:"Introducing SqlSoup"})]}),"\n",(0,o.jsx)(n.p,{children:"ps: Actually TurboGears has done nothing particularly to support SqlSoup, I just use it as other modules."})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}}}]);