"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[29737],{28453(t,e,n){n.d(e,{R:()=>a,x:()=>s});var o=n(96540);const l={},r=o.createContext(l);function a(t){const e=o.useContext(r);return o.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function s(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(l):t.components||l:a(t.components),o.createElement(r.Provider,{value:e},t.children)}},52263(t){t.exports=JSON.parse('{"permalink":"/python/TurboEntity-SimpleBlog-2","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/python/TurboEntity-SimpleBlog-2.md","source":"@site/blog/python/TurboEntity-SimpleBlog-2.md","title":"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c","description":"\u7528 TurboEntity \u7167\u8457 \'SimpleBlog Part II\' \u4e2d\u7684\u7bc4\u4f8b\u6539\u5beb\u5f8c, \u7372\u5f97\u4ee5\u4e0b\u7a0b\u5f0f\u78bc (model.py):","date":"2006-11-16T02:43:13.000Z","tags":[{"inline":true,"label":"python","permalink":"/tags/python"},{"inline":true,"label":"TurboGears","permalink":"/tags/turbo-gears"}],"readingTime":1.22,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c","tags":["python","TurboGears"],"date":"2006-11-16T02:43:13.000Z"},"unlisted":false,"prevItem":{"title":"Python FAQ Zone","permalink":"/python/Python-FAQ-Zone"},"nextItem":{"title":"\u5982\u4f55\u5728  Blogger (Blogspot) \u4e0a\u4f7f\u7528 UrMap API","permalink":"/service/UrMap-API-on-Blogger-Blogspot"}}')},75738(t,e,n){n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var o=n(52263),l=n(74848),r=n(28453);const a={title:"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c",tags:["python","TurboGears"],date:new Date("2006-11-16T02:43:13.000Z")},s=void 0,i={authorsImageUrls:[]},c=[];function m(t){const e={a:"a",blockquote:"blockquote",code:"code",p:"p",pre:"pre",...(0,r.R)(),...t.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:["\u7528 ",(0,l.jsx)(e.a,{href:"http://turboentity.ematia.de/",children:"TurboEntity"})," \u7167\u8457 '",(0,l.jsx)(e.a,{href:"http://www.splee.co.uk/2006/10/20/simpleblog-part-2/",children:"SimpleBlog Part II"}),"' \u4e2d\u7684\u7bc4\u4f8b\u6539\u5beb\u5f8c\uff0c\u7372\u5f97\u4ee5\u4e0b\u7a0b\u5f0f\u78bc (model.py):"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'>\n> from turboentity import *\n> from docutils.core import publish_parts\n> \n> class Post(Entity): \n>     class turboentity:\n>         tablename = "posts"\n> \n>     title = Column(Unicode(50))\n>     content = Column(Unicode)\n>     post_date = Column(DateTime, default=datetime.now())\n>     is_published = Column(Boolean, default=False)\n>     comments = OneToMany(\'Comment\',backref=\'posts\')\n> \n>     @property\n>     def html_content(self):\n>         return publish_parts(self.content,writer_name="html")["html_body"]\n> \n> class Comment(Entity):\n>     class turboentity:\n>         tablename = "comments"\n> \n>     author_name = Column(Unicode(255), nullable=False)\n>     author_email = Column(Unicode(255), nullable=False)\n>     author_url = Column(String(255))\n>     comment_date = Column(DateTime, default=datetime.now())\n>     content = Column(Unicode)\n>     post = ManyToOne("Post",backref=\'comments\') \n>\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u8981\u8868\u793a post-comments \u95dc\u4fc2\u53ea\u9700\u5206\u5225\u5728\u5169\u500b\u985e\u5225\u4e2d\u5ba3\u544a OneToMany - ManyToOne \u5373\u53ef\uff0c\u771f\u662f\u65b9\u4fbf\u5440."}),"\n",(0,l.jsxs)(e.p,{children:["\u53e6\u5916\u7576\u5b9a\u7fa9\u597d ",(0,l.jsx)(e.a,{href:"http://turboentity.ematia.de/",children:"TurboEntity"})," \u985e\u5225\u5f8c\uff0c\u7269\u4ef6\u81ea\u52d5\u53ef\u4ee5\u7528\u50b3\u503c\u7684\u65b9\u5f0f\u8f38\u5165\u5167\u5bb9\uff0c\u4e0d\u9700\u4e00\u500b\u500b\u5404\u5225\u6307\u5b9a\u5594."]}),"\n",(0,l.jsx)(e.p,{children:"\u4f8b\u5982\u4e00\u822c\u7684\u5beb\u6cd5\u662f\u9019\u6a23\u5b50:"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:['p = Post.get (1) # \u53d6\u5f97\u689d\u76ee\nc = Comment () # \u65b0\u5efa\u4e00\u689d\u8a55\u8ad6\nc.post = p # \u9019\u689d\u8a55\u8ad6\u5c6c\u65bc p \u689d\u76ee\nc.author_name = "CommentDude1" # \u9019\u689d\u76ee\u7684\u4f5c\u8005\u662f\nc.author_email = "',(0,l.jsx)(e.a,{href:"mailto:cd1@example.com",children:"cd1@example.com"}),'" # \u9019\u689d\u76ee\u4f5c\u8005\u7684\u90f5\u4ef6\u4fe1\u7bb1\u662f\nc.content = "Great post!  Keep them coming!" # \u9019\u689d\u76ee\u7684\u5167\u5bb9\nc.flush ()\n\u53ef\u4ee5\u76f4\u63a5\u6539\u6210\np = Post.get (1)\nc = Comment (post=post, author_name="Bob", author_email="',(0,l.jsx)(e.a,{href:"mailto:bob@example.com",children:"bob@example.com"}),'", content="Bob loves this site.", author_url="',(0,l.jsx)(e.a,{href:"http://bob.example.com/",children:"http://bob.example.com/"}),'")\nc.flush()']}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u7528",(0,l.jsx)(e.a,{href:"http://turboentity.ematia.de/",children:"TurboEntity"}),"\u6539\u5beb\u7684\u7a0b\u5f0f\u548c\u539f\u672c Tutorial \u76f8\u6bd4\uff0c\u53ef\u4ee5\u770b\u51fa\u5b83\u597d\u7528\u7684\u5730\u65b9."]})]})}function p(t={}){const{wrapper:e}={...(0,r.R)(),...t.components};return e?(0,l.jsx)(e,{...t,children:(0,l.jsx)(m,{...t})}):m(t)}}}]);