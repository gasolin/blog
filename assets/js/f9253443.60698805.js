"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[27173],{14397(e){e.exports=JSON.parse('{"permalink":"/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card.md","source":"@site/blog/iot/Setup-a-skype-chatbot-on-Respberry-pi-with-4GB-SD-Card.md","title":"Setup a skype chatbot on Respberry pi with 4GB SD Card","description":"It\'s a small challenge and fun to setup a chatbot on a small device with restrained resource.","date":"2016-04-08T02:45:45.000Z","tags":[{"inline":true,"label":"javascript","permalink":"/tags/javascript"},{"inline":true,"label":"fun","permalink":"/tags/fun"}],"readingTime":2.24,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Setup a skype chatbot on Respberry pi with 4GB SD Card","tags":["javascript","fun"],"date":"2016-04-08T02:45:45.000Z"},"unlisted":false,"prevItem":{"title":"\u4f7f\u7528\u624b\u6a5f\u4e0a\u50b3 360 \u5716\u7247\u5230 Facebook","permalink":"/vr/upload-360photo-to-facebook"},"nextItem":{"title":"How we ported Hubot from Coffeescript to ES6","permalink":"/code/How-we-ported-Hubot-from-Coffeescript-to-ES6"}}')},21676(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var s=t(14397),i=t(74848),o=t(28453);const r={title:"Setup a skype chatbot on Respberry pi with 4GB SD Card",tags:["javascript","fun"],date:new Date("2016-04-08T02:45:45.000Z")},a=void 0,l={authorsImageUrls:[]},d=[{value:"Download respbian lite",id:"download-respbian-lite",level:3},{value:"Flash image to sdcard",id:"flash-image-to-sdcard",level:3},{value:"Login to respbian",id:"login-to-respbian",level:3},{value:"Install node and redis",id:"install-node-and-redis",level:3},{value:"Install webbybot",id:"install-webbybot",level:3},{value:"Deploy on messengers",id:"deploy-on-messengers",level:3}];function p(e){const n={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"It's a small challenge and fun to setup a chatbot on a small device with restrained resource."}),"\n",(0,i.jsx)(n.p,{children:"Here's the instruction to setup a chatbot on Respberry pi with 4GB SD Card."}),"\n",(0,i.jsx)(n.h3,{id:"download-respbian-lite",children:"Download respbian lite"}),"\n",(0,i.jsx)(n.p,{children:"We need respbian lite because normal Respbian took more than 4GB space. If you have 8GB or larger SD Card, normal Respbian works fine for you."}),"\n",(0,i.jsxs)(n.p,{children:["You can download them from ",(0,i.jsx)(n.a,{href:"https://www.raspberrypi.org/downloads/raspbian/",children:"https://www.raspberrypi.org/downloads/raspbian/"})]}),"\n",(0,i.jsx)(n.h3,{id:"flash-image-to-sdcard",children:"Flash image to sdcard"}),"\n",(0,i.jsxs)(n.p,{children:["I did it in Mac with diskutil. You can check the install guide from ",(0,i.jsx)(n.a,{href:"https://www.raspberrypi.org/documentation/installation/installing-images/README.md",children:"https://www.raspberrypi.org/documentation/installation/installing-images/README.md"})," for other platforms."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"$ diskutil list\n/dev/disk0 (internal, physical):\n...\n/dev/disk1 (internal, virtual):\n...\n/dev/disk2 (internal, virtual):\n... 2: Linux 3.8 GB disk2s2\n\n$ diskutil unmountDisk disk2\n$ sudo dd bs=1m if=2016-03-18-raspbian-jessie-lite.img of=/dev/rdisk2\n"})}),"\n",(0,i.jsx)(n.h3,{id:"login-to-respbian",children:"Login to respbian"}),"\n",(0,i.jsx)(n.p,{children:"Respbian lite does not provide desktop environment, so we'll do everything with command line."}),"\n",(0,i.jsx)(n.p,{children:"Insert SDCard, bootup and login into respbian with"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"name: pi\npassword: raspberry\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Refer from ",(0,i.jsx)(n.a,{href:"http://elinux.org/RPi_Distributions#Raspbian",children:"http://elinux.org/RPi_Distributions#Raspbian"})]}),"\n",(0,i.jsx)(n.h3,{id:"install-node-and-redis",children:"Install node and redis"}),"\n",(0,i.jsxs)(n.p,{children:["Refer from ",(0,i.jsx)(n.a,{href:"https://nodejs.org/en/download/package-manager/",children:"https://nodejs.org/en/download/package-manager/"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ `curl -sL https://deb.nodesource.com/setup_5.x > script\n$ chmod 755 script\n$ sudo -E ./script\n$ sudo apt-get install -y nodejs build-essential redis-server\n$ node -v\nv5.10.1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"install-webbybot",children:"Install webbybot"}),"\n",(0,i.jsx)(n.p,{children:"Webbybot is the rewrite of hubot from coffeescript to ES6, its will be more maintainable in the future."}),"\n",(0,i.jsxs)(n.p,{children:["In respbian lite, the git is not pre-installed, so we need install ",(0,i.jsx)(n.strong,{children:"git-core"})," from ",(0,i.jsx)(n.strong,{children:"apt-get"})," as well."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"$ sudo apt-get install git-core\n$ git clone https://github.com/gasolin/webby-template pibot\n$ cd pibot\n$ npm install\n$ ./bin/webby\nwebby> webby test\nwebby> **pong**\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deploy-on-messengers",children:"Deploy on messengers"}),"\n",(0,i.jsxs)(n.p,{children:["Check Workable adapters section to install your bot onto telegram, facebook messenger, or skype ",(0,i.jsx)(n.a,{href:"https://github.com/gasolin/webby-template#workable-adapters",children:"https://github.com/gasolin/webby-template#workable-adapters"})]}),"\n",(0,i.jsxs)(n.p,{children:["Let's take skype for example. First you need sign up an skype account, then put the username/password on to ",(0,i.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi .env\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"HUBOT_SKYPE_USERNAME=name\nHUBOT_SKYPE_PASSWORD=password\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then install hubot-skyweb adapter and switch the core to webbybot"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npm install hubot-skyweb\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"vi node_module/hubot-skyweb/src/skyweb.coffee\n"})}),"\n",(0,i.jsx)(n.p,{children:"replace require 'hubot' to 'webbybot'. Then run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"./bin/webby -a skyweb\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You are good to go! You can add new skills on your pibot by following ",(0,i.jsx)(n.a,{href:"https://github.com/gasolin/webbybot/#add-plugins",children:"https://github.com/gasolin/webbybot/#add-plugins"})," which is same as hubot, and create your own plugin to control the respberry pi ",(0,i.jsx)(n.a,{href:"https://github.com/gasolin/webbybot#write-your-own-plugin",children:"https://github.com/gasolin/webbybot#write-your-own-plugin"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Have fun!"})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);