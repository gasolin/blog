"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[2397],{16526(e){e.exports=JSON.parse('{"permalink":"/devtools/current-progress-of-netmonitor-html","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/devtools/current-progress-of-netmonitor-html.md","source":"@site/blog/devtools/current-progress-of-netmonitor-html.md","title":"Current Progress of Netmonitor.html","description":"Update: Full instructions are avaiable on Netmonitor Readme to run the Network Monitor in the browser tab.","date":"2017-03-29T00:33:37.000Z","tags":[{"inline":true,"label":"web","permalink":"/tags/web"},{"inline":true,"label":"devtools","permalink":"/tags/devtools"}],"readingTime":4.24,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Current Progress of Netmonitor.html","tags":["web","devtools"],"date":"2017-03-29T00:33:37.000Z"},"unlisted":false,"prevItem":{"title":"Node.js \u7684\u767c\u5c55","permalink":"/service/how-node-works"},"nextItem":{"title":"\u5982\u4f55\u4fee\u6539 git commits","permalink":"/devtools/git-merge-commits"}}')},28453(e,t,o){o.d(t,{R:()=>s,x:()=>a});var n=o(96540);const r={},i=n.createContext(r);function s(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(i.Provider,{value:t},e.children)}},50076(e,t,o){o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>n,toc:()=>d});var n=o(16526),r=o(74848),i=o(28453);const s={title:"Current Progress of Netmonitor.html",tags:["web","devtools"],date:new Date("2017-03-29T00:33:37.000Z")},a=void 0,l={authorsImageUrls:[]},d=[{value:"What Firefox Devtools team did last year",id:"what-firefox-devtools-team-did-last-year",level:2},{value:"What <code>Run on the Browser tab</code> means?",id:"what-run-on-the-browser-tab-means",level:2},{value:"Current Status",id:"current-status",level:2},{value:"What we have done in Netmonitor.html",id:"what-we-have-done-in-netmonitorhtml",level:2},{value:"What we plan to do next",id:"what-we-plan-to-do-next",level:2},{value:"What could expect in the future",id:"what-could-expect-in-the-future",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Update: Full instructions are avaiable on ",(0,r.jsx)(t.a,{href:"https://github.com/mozilla/gecko-dev/blob/master/devtools/client/netmonitor/README.md",children:"Netmonitor Readme"})," to run the Network Monitor in the browser tab."]}),"\n",(0,r.jsxs)(t.p,{children:["Firefox Devtools is in progress of modernizing its infrastructure to use the same toolset that modern web developers are familiar with. When talking about ",(0,r.jsx)(t.code,{children:"modern"})," web developers toolset, I mean ",(0,r.jsx)(t.code,{children:"React"}),", ",(0,r.jsx)(t.code,{children:"Redux"}),", ",(0,r.jsx)(t.code,{children:"Immutablejs"}),", and ",(0,r.jsx)(t.code,{children:"npm"})," modules.\ud83d\ude0e"]}),"\n",(0,r.jsx)(t.h2,{id:"what-firefox-devtools-team-did-last-year",children:"What Firefox Devtools team did last year"}),"\n",(0,r.jsxs)(t.p,{children:["Firefox Devtools was no different from Firefox itself. The Devtools panels are written in ",(0,r.jsx)(t.code,{children:"XUL"}),", an HTML-like syntax language, and use several Firefox internal API called ",(0,r.jsx)(t.code,{children:"XPCOM"})," or ",(0,r.jsx)(t.code,{children:"Chrome privileged API"}),"(Nothing related to Chrome Browser) to make the browser works.\ud83d\udc7d"]}),"\n",(0,r.jsxs)(t.p,{children:["In last year(2016), Firefox Devtools team's main goal is to convert the code base from XUL to pure HTML. The second goal is convert each tool with React/Redux structure for maintenance. Debugger, Inspector, Web Console are the first batch in the conversion progress.\n",(0,r.jsx)(t.a,{href:"https://hacks.mozilla.org/2016/09/introducing-debugger-html/",children:"Debugger.html"})," is the very first attempt from Firefox Devtools team to embrace the modern web developers' toolset. Now new Debugger and Web Console are available in Firefox ",(0,r.jsx)(t.a,{href:"https://www.mozilla.org/en-US/firefox/channel/desktop/",children:"Nightly"}),"\ud83c\udf78"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"https://github.com/devtools-html/debugger.html",children:"Debugger.html"}),", Perf.html(Performance) has their standalone repository hosted on Github. A developer could use ",(0,r.jsx)(t.code,{children:"git clone"})," to get the repository, and then do ",(0,r.jsx)(t.code,{children:"yarn install"}),", ",(0,r.jsx)(t.code,{children:"yarn start"}),"(similar to npm command) to debug the debugger.html/perf.html with any browser's devtools!\ud83d\ude85"]}),"\n",(0,r.jsx)(t.mermaid,{value:"graph LR\nclone[git clone] --\x3e install[yarn install]\ninstall --\x3e start[yarn start]"}),"\n",(0,r.jsxs)(t.h2,{id:"what-run-on-the-browser-tab-means",children:["What ",(0,r.jsx)(t.code,{children:"Run on the Browser tab"})," means?"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Run on the Browser tab"})," is a term versus ",(0,r.jsx)(t.code,{children:"Run inside of the developer panel"}),". Traditionally Devtools are running inside of the browser's developer panel. But some of new Firefox Devtools support run as normal web pages. Those pages can be opened in a browser tab by any modern browser such as Chrome, Safari, or Edge. The benefit is we can improve Firefox Devtools with any Browser's Devtools, its an unfair advantage.\ud83d\ude80"]}),"\n",(0,r.jsx)(t.mermaid,{value:"graph LR\nFirefox -- debugging --\x3e netmonitor(Netmonitor.html)\nnetmonitor -- mozilla-rdp --\x3e Firefox\nChrome -- debugging --\x3e netmonitor\nEdge -- debugging --\x3e netmonitor\nSafari -- debugging --\x3e netmonitor"}),"\n",(0,r.jsx)(t.p,{children:"We are going to make more Devtools easy to debug and can be used for cross-browser debugging."}),"\n",(0,r.jsx)(t.h2,{id:"current-status",children:"Current Status"}),"\n",(0,r.jsx)(t.p,{children:"To replacing the jet engine while still flying is a challenging engineering work. To make it happen, we take several engineering experiments around Devtools."}),"\n",(0,r.jsx)(t.p,{children:"Here are the projects in progress and where they are hosted from:"}),"\n",(0,r.jsx)(t.mermaid,{value:"graph LR\ndebugger(Debugger.html) --\x3e Nightly\nperf(Perf.html) --\x3e Nightly\nwebconsole(WebConsole.html) --\x3e Nightly\nstandalone[Github] --\x3e debugger\nstandalone --\x3e perf\nrefactor[mozilla-central] --\x3e webconsole\ninspector(Inspector.html) --\x3e Release\nnetmonitor(Netmonitor.html) --\x3e Release\nrefactor --\x3e inspector\nrefactor --\x3e netmonitor"}),"\n",(0,r.jsx)(t.h2,{id:"what-we-have-done-in-netmonitorhtml",children:"What we have done in Netmonitor.html"}),"\n",(0,r.jsxs)(t.p,{children:["Ricky Chien and I joined the effort of convert Object Inspector from XUL to HTML. Object Inspector is a more complicated tool to convert, so Object Inspector is still half ",(0,r.jsx)(t.code,{children:"React"})," and without ",(0,r.jsx)(t.code,{children:"Redux"})," in the playground."]}),"\n",(0,r.jsxs)(t.p,{children:["When the Object Inspector is fully converted to HTML, we shift our focus on convert the next important Devtool: ",(0,r.jsx)(t.code,{children:"Netmonitor"}),". With Honza, Janda, Steve Chung, and other contributors' help, at the end of Feb we have reached our first phase tangible goal: Converted the whole Netmonitor panel from XUL to HTML, with ",(0,r.jsx)(t.code,{children:"React"}),", ",(0,r.jsx)(t.code,{children:"Redux"}),", and ",(0,r.jsx)(t.code,{children:"Immutablejs"}),". Now we have confidence that the code base is easy to read and contribute.\ud83e\udd17"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{src:"http://i.imgur.com/aiqBXV5.png",alt:"Imgur"}),"\nPicture: How current Netmonitor looks like"]}),"\n",(0,r.jsx)(t.h2,{id:"what-we-plan-to-do-next",children:"What we plan to do next"}),"\n",(0,r.jsx)(t.p,{children:"We just finished the Netmonitor workweek (Fred, Honza, Ricky) in Taiwan, plenty of discussions have occurred, and we have good progress for what should be going on for the Netmonitor."}),"\n",(0,r.jsx)(t.p,{children:"Here they are:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["We\u2019ve triaged all new Netmonitor bugs and identify ",(0,r.jsx)(t.a,{href:"http://firefox-dev.tools/?easy&tool=network",children:"good-first-bugs"})]}),"\n",(0,r.jsx)(t.li,{children:"We have Prove-Of-Concept branches to prove we can run netmonitor on the browser tab"}),"\n",(0,r.jsxs)(t.li,{children:["We decide to keep using ",(0,r.jsx)(t.code,{children:"mozilla-central"}),"(The gecko) repo. Beside the current workflow, a developer would able to run ",(0,r.jsx)(t.code,{children:"yarn start"})," command to debugging Netmonitor on the browser tab with any browser's devtool."]}),"\n",(0,r.jsx)(t.li,{children:"We stop Netmonitor.html phase I work immediately (convert XUL to HTML, MVP 100% completed)"}),"\n",(0,r.jsxs)(t.li,{children:["We'll start Netmonitor.html phase II (To run Netmonitor on a browser tab so that we can debug Netmonitor with any browser's devtool)\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["All phase II bugs are filed in the ",(0,r.jsx)(t.a,{href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1348737",children:"Meta-bug"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"what-could-expect-in-the-future",children:"What could expect in the future"}),"\n",(0,r.jsx)(t.p,{children:"Currently, Debugger.html have supported both Firefox and Chrome remote debugging protocols, so Debugger.html could be used to debug Firefox, Chrome, or even Node.js!\ud83d\ude2e"}),"\n",(0,r.jsx)(t.mermaid,{value:"graph LR\nFirefox -- debugging --\x3e netmonitor(Netmonitor.html)\nnetmonitor -- mozilla-rdp --\x3e Firefox\nChrome -- debugging --\x3e netmonitor\nnetmonitor -- chrome-rdp --\x3e Chrome\nnetmonitor -- chrome-rdp --\x3e Node[Node.js]\nSafari -- debugging --\x3e netmonitor\nEdge -- debugging --\x3e netmonitor"}),"\n",(0,r.jsx)(t.p,{children:"Since Debugger.html's pure web stack nature, you can imagine one day the debugger.html can be embedded into some editors(Atom, Visual Studio Code) as plugins, or even in other browsers!\ud83d\ude07"}),"\n",(0,r.jsx)(t.mermaid,{value:"graph LR\ndebugger(Debugger.html) --\x3e Firefox\ndebugger --\x3e browsertab[Browser Tab]\ndebugger --\x3e Editor\ndebugger --\x3e other[Other Browser]"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Run with different remote debugging protocols"})," is the next step once we make Netmonitor.html run on the browser tab."]})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);