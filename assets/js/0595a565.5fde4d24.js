"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6166],{92943:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>s});var i=o(87462),n=(o(67294),o(3905));o(8209);const a={title:"Debugging Firefox Devtools in 2016",tags:["devtools","web"],date:new Date("2016-12-22T11:12:05.000Z")},l=void 0,r={permalink:"/ipv6/debugging-firefox-devtools-in-2016",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/ipv6/debugging-firefox-devtools-in-2016.md",source:"@site/blog/ipv6/debugging-firefox-devtools-in-2016.md",title:"Debugging Firefox Devtools in 2016",description:"Not like previous article about general workflow on Mozilla Gecko project,",date:"2016-12-22T11:12:05.000Z",formattedDate:"December 22, 2016",tags:[{label:"devtools",permalink:"/tags/devtools"},{label:"web",permalink:"/tags/web"}],readingTime:2.65,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Debugging Firefox Devtools in 2016",tags:["devtools","web"],date:"2016-12-22T11:12:05.000Z"},prevItem:{title:"Automatically deploy new commit to github pages via Travis CI",permalink:"/devtools/ghpage-auto-deploy"},nextItem:{title:"\u500b\u4eba\u5de5\u5177\u7bb12016",permalink:"/tools/tooling-in-2016"}},d={authorsImageUrls:[]},s=[{value:"Remote debugging",id:"remote-debugging",level:2},{value:"Disable autohide in popup",id:"disable-autohide-in-popup",level:3},{value:"Boost build time via set mozconfig artifact",id:"boost-build-time-via-set-mozconfig-artifact",level:3},{value:"Enable React and other JS debugging message",id:"enable-react-and-other-js-debugging-message",level:3},{value:"Open devtools and chrome debugger with website",id:"open-devtools-and-chrome-debugger-with-website",level:3},{value:"Test on Try server",id:"test-on-try-server",level:3},{value:"Tracing Code",id:"tracing-code",level:2},{value:"Via global search in editor",id:"via-global-search-in-editor",level:3},{value:"Via DXR or searchfox",id:"via-dxr-or-searchfox",level:3},{value:"ES6 nits",id:"es6-nits",level:2},{value:"Do not use forEach with yield",id:"do-not-use-foreach-with-yield",level:3},{value:"Try to be functional",id:"try-to-be-functional",level:3},{value:"Misc",id:"misc",level:2}],u={toc:s};function p(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,i.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Not like ",(0,n.kt)("a",{parentName:"p",href:"/mozilla/The-newbies-workflow-on-Mozilla-Gecko-project"},"previous article about general workflow on Mozilla Gecko project"),",\nThis article is like a cookbook that I encountered during debugging Firefox devtools (mostly around inspector and network monitor)."),(0,n.kt)("h2",{id:"remote-debugging"},"Remote debugging"),(0,n.kt)("p",null,"According to ",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Debugging"},"MDN"),", first of all you need to go through ",(0,n.kt)("inlineCode",{parentName:"p"},"Developer > Toggle Tools > Toolbox Options > Advance settings")," to check 2 options:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Enable browser chrome and add-on debugging toolboxes"),(0,n.kt)("li",{parentName:"ul"},"Enable remote debugging")),(0,n.kt)("p",null,"Then use ",(0,n.kt)("inlineCode",{parentName:"p"},"Shift+Option+Command+i")," on Mac or ",(0,n.kt)("inlineCode",{parentName:"p"},"Ctrl+Shift+i")," on linux to open the remote debugger."),(0,n.kt)("h3",{id:"disable-autohide-in-popup"},"Disable autohide in popup"),(0,n.kt)("p",null,"Once I'm developing toolbar web extensions or any popup windows, I feel very appreciate this feature. "),(0,n.kt)("p",null),(0,n.kt)("h3",{id:"boost-build-time-via-set-mozconfig-artifact"},"Boost build time via set mozconfig artifact"),(0,n.kt)("p",null,"Add these settings in ",(0,n.kt)("inlineCode",{parentName:"p"},"mozconfig")," file"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# Enable debug version of the pre-build binary artifact\nexport MOZ_DEBUG="1"\n\n# Automatically download and use compiled C++ components:\nac_add_options --enable-artifact-builds\n\n# Write build artifacts to:\nmk_add_options MOZ_OBJDIR=./objdir-frontend-debug-artifact\n')),(0,n.kt)("p",null,"If you just develop frontend UI(JS, CSS, XUL, HTML), the ",(0,n.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Build_Instructions/Artifact_builds"},"artifact build")," prebuild the C++ and the static part of the code so you can download and link it automatically during ",(0,n.kt)("inlineCode",{parentName:"p"},"mach build"),", it saves you tremendous build time and helps you move quicker."),(0,n.kt)("p",null,"You can use the command"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"./mach build faster\n")),(0,n.kt)("p",null,"to further boost the build time."),(0,n.kt)("h3",{id:"enable-react-and-other-js-debugging-message"},"Enable React and other JS debugging message"),(0,n.kt)("p",null,"Add these settings in ",(0,n.kt)("inlineCode",{parentName:"p"},"mozconfig")," file"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"ac_add_options --enable-debug-js-modules")),(0,n.kt)("p",null,"It will turn on React and other JS debugging message. Note that will influence performance while running."),(0,n.kt)("h3",{id:"open-devtools-and-chrome-debugger-with-website"},"Open devtools and chrome debugger with website"),(0,n.kt)("p",null,"You may not know its possible to open a website with opened devtool with the command:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"./mach run --devtools --jsdebugger www.yahoo.com.tw")),(0,n.kt)("h3",{id:"test-on-try-server"},"Test on Try server"),(0,n.kt)("p",null,"Mozilla Try Server let you run tests on all supported platforms. You can pick which test set and which platform to run by providing command arguments. Here's what I used for test devtools related bugs on Windows, Mac, and Linux."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"try: -b do -p linux64,macosx64,win64 -u mochitest-dt,mochitest-e10s-devtools-chrome -t none --artifact\n")),(0,n.kt)("p",null,"Add ",(0,n.kt)("inlineCode",{parentName:"p"},"--artifact")," argument will both save total running time and computing resources."),(0,n.kt)("h2",{id:"tracing-code"},"Tracing Code"),(0,n.kt)("h3",{id:"via-global-search-in-editor"},"Via global search in editor"),(0,n.kt)("p",null,"Many modern editor ex sublime, visual studio code provide great support of global search. ",(0,n.kt)("inlineCode",{parentName:"p"},"Ctrl + Shift + f")," is your good friend."),(0,n.kt)("h3",{id:"via-dxr-or-searchfox"},"Via DXR or searchfox"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"http://dxr.mozilla.org/"},"DXR")," and ",(0,n.kt)("a",{parentName:"p",href:"http://searchfox.org"},"searchfox")," is a code search and navigation tool for large projects like Mozilla-center.\nIt supports full-text and regex searches as well as structural queries."),(0,n.kt)("p",null),(0,n.kt)("h2",{id:"es6-nits"},"ES6 nits"),(0,n.kt)("h3",{id:"do-not-use-foreach-with-yield"},"Do not use forEach with yield"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"forEach")," is a good way to loop array, but is not compatible with the generator(because the need of implement iterator interface), so if you use ",(0,n.kt)("inlineCode",{parentName:"p"},"yield")," inside of ",(0,n.kt)("inlineCode",{parentName:"p"},"forEach")," loop, it will not behave as you expect.\nThe better choice is use ",(0,n.kt)("inlineCode",{parentName:"p"},"for..of")," loop or ",(0,n.kt)("inlineCode",{parentName:"p"},"map")," instead."),(0,n.kt)("h3",{id:"try-to-be-functional"},"Try to be functional"),(0,n.kt)("p",null,"The powerful ",(0,n.kt)("inlineCode",{parentName:"p"},"=>")," arrow syntax sugar is not just for replacing ",(0,n.kt)("inlineCode",{parentName:"p"},"bind(this)"),", it gives the developer a clear way to write more compact code."),(0,n.kt)("p",null,"For example "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"promise.then(function(a , b) {\n  return a + b;\n});\n")),(0,n.kt)("p",null,"can be written as "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"promise.then((a, b) => a + b);\n")),(0,n.kt)("h2",{id:"misc"},"Misc"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"}),(0,n.kt)("li",{parentName:"ul"}),(0,n.kt)("li",{parentName:"ul"})))}p.isMDXComponent=!0}}]);