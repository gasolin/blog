"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[26224],{18406:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>r,contentTitle:()=>n,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var o=a(87462),l=(a(67294),a(3905));a(8209);const i={title:"JSDoc generator in Gaia",tags:["FirefoxOS","webframework"],date:new Date("2015-06-08T02:47:26.000Z")},n=void 0,s={permalink:"/mozilla/JSDoc-generator-in-Gaia",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/mozilla/JSDoc-generator-in-Gaia.md",source:"@site/blog/mozilla/JSDoc-generator-in-Gaia.md",title:"JSDoc generator in Gaia",description:"Last week I've post on dev-gaia to notice the change of JSDoc generator.",date:"2015-06-08T02:47:26.000Z",formattedDate:"June 8, 2015",tags:[{label:"FirefoxOS",permalink:"/tags/firefox-os"},{label:"webframework",permalink:"/tags/webframework"}],readingTime:1.18,hasTruncateMarker:!1,authors:[],frontMatter:{title:"JSDoc generator in Gaia",tags:["FirefoxOS","webframework"],date:"2015-06-08T02:47:26.000Z"},prevItem:{title:"FoxBox 1.0, \u8b93\u4f60\u5728\u4e00\u500b\u5c0f\u6642\u5167\u4e0d\u75db\u5b89\u88dd Firefox OS \u958b\u767c\u74b0\u5883\u7684\u8a2d\u5b9a\u5de5\u5177",permalink:"/mozilla/FoxBox-1-0-install-Firefox-OS-devtool-within-1hr"},nextItem:{title:"Javascript\uff0c\u5f81\u670d\u4e16\u754c\u662f\u53ef\u80fd\u7684\u55ce\uff1f",permalink:"/code/Javascript-conquer-the-world"}},r={authorsImageUrls:[]},p=[],g={toc:p};function u(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,o.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("iframe",{allowfullscreen:"",frameborder:"0",height:"333",mozallowfullscreen:"",msallowfullscreen:"",oallowfullscreen:"",src:"https://www.flickr.com/photos/martino_/9737982315/in/photolist-fQvGSP-amDaFg-amG2rb-59b4Yy-5vWMzf-f8qaks-hxt2tZ-9vy7L8-hD4KYt-edj5U8-4GZkRV-edj3BF-oKVYK7-edpEGS-edjc8T-f8brp4-dm5RTi-7SGqv8-8cxsHY-991Tu5-hAXRh8-fgMMhj-jjR181-4EySgF-fwa9zL-cAtxiU-7HKgV-9VMUi1-h4tqKg-ej3JDk-azMMwP-8p6YBM-akKnga-91AQhf-2j7XBh-pGxPMD-bTBf44-mSJdMU-ixg1hh-jd1NvW-fvUZYz-fvUXbP-7kpHpC-91xGz8-91AQ7b-hD3SUB-tf8mBc-gYsCxY-j7WsYW-ixg9AZ/player/",webkitallowfullscreen:"",width:"500"}),(0,l.kt)("p",null,"Last week I've ",(0,l.kt)("a",{parentName:"p",href:"https://groups.google.com/forum/#!topic/mozilla.dev.gaia/UI1uL7ukedo"},"post")," on dev-gaia to notice the change of JSDoc generator."),(0,l.kt)("p",null,"Now gaia's jsdoc generator takes standard  jsdoc config format from each app's jsdoc.json file. And app owner could  customize its look and feel if they prefer to do so.\n",(0,l.kt)("a",{parentName:"p",href:"http://usejsdoc.org/about-configuring-jsdoc.html"},"http://usejsdoc.org/about-",(0,l.kt)("wbr",null),"configuring-jsdoc.html")),(0,l.kt)("p",null,"Here's the working jsdoc for Firefox OS settings app ",(0,l.kt)("a",{parentName:"p",href:"http://gasolin.github.io/gaia/settings/"},"http://gasolin.github.io/gaia/settings/ .")),(0,l.kt)("p",null),(0,l.kt)("p",null,"The trick is done by ",(0,l.kt)("a",{parentName:"p",href:"http://gulpjs.com/"},"gulp")," and shell commands, which can be apply on any other projects. Here's how I did it."),(0,l.kt)("p",null,"First of all is install required packages"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"$ npm install gulp gulp-shell jsdoc --save-dev\nThen open ",(0,l.kt)("inlineCode",{parentName:"p"},"gulpfile.js")," and add following scripts:")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"var gulp = require('gulp');\nvar shell = require('gulp-shell');"),(0,l.kt)("p",{parentName:"blockquote"},"gulp.task('jsdoc', shell.task(","[\n","\xa0"," './node_modules/jsdoc/jsdoc.js -c jsdoc.json'\n]","));\n(It's an simplified version because gaia contains 20+ web apps in it, so I add some tree-walking code to create bunch of gulp tasks. But basically its the same)\nThe simplified version is now available for reuse in ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/webapplate/webapplate/blob/master/gulpfile.js"},"webapplate"),".")),(0,l.kt)("p",null,"Bonus section:"),(0,l.kt)("p",null,"Here's how I upload jsdoc (",(0,l.kt)("a",{parentName:"p",href:"http://gasolin.github.io/gaia/settings/"},"http://gasolin.github.io/gaia/settings/")," , ",(0,l.kt)("a",{parentName:"p",href:"http://gasolin.github.io/gaia/system/"},"http://gasolin.github.io/gaia/system/"),") to github gh pages."),(0,l.kt)("p",null,"Add another section in gulpfile.js with following script"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"var gulp = require('gulp');\nvar ghPages = require('gulp-gh-pages');"),(0,l.kt)("p",{parentName:"blockquote"},"..."),(0,l.kt)("p",{parentName:"blockquote"},"gulp.task('github', ","['jsdoc']",", function() {\n","\xa0"," return gulp.src('./docs/*",(0,l.kt)("em",{parentName:"p"},"/"),"')\n","\xa0","\xa0","\xa0"," .pipe(ghPages());\n});\nRun ",(0,l.kt)("inlineCode",{parentName:"p"},"gulp github")," command and the build tool will generate jsdoc and upload to github page automatically.")))}u.isMDXComponent=!0}}]);