"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[755],{28453(e,n,i){i.d(n,{R:()=>d,x:()=>o});var t=i(96540);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}},29100(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>d,metadata:()=>t,toc:()=>a});var t=i(92298),s=i(74848),r=i(28453);const d={title:"2nd day of tracing INET6: Application/PingAPP",tags:["IPv6","OMNET++"],date:new Date("2005-05-08T09:42:38.000Z")},o=void 0,l={authorsImageUrls:[]},a=[];function p(e){const n={code:"code",em:"em",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Define_Module (PingApp);\n\u6a21\u7d44\u540d\u7a31\u662f PingApp"}),"\n",(0,s.jsx)(n.p,{children:"PingApp::initialize()"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u8b80\u5165 omnetpp.ini \u4e2d\u8a2d\u5b9a\u7684\u53c3\u6578."}),"\n",(0,s.jsx)(n.li,{children:"\u5728 TKenv \u4e2d\u76e3\u8996"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"sendSeqNo"}),"\n",(0,s.jsx)(n.li,{children:"expectedReplySeqNo"}),"\n",(0,s.jsx)(n.li,{children:"dropCount"}),"\n",(0,s.jsx)(n.li,{children:"outOfOrderArrivalCount\n\u9019\u5e7e\u500b\u7d50\u679c PingApp::handleMessage (cMessage *msg)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"if (msg->isSelfMessage ())\n\u82e5\u8a0a\u606f\u4f86\u81ea\u672c\u8eab\u7bc0\u9ede"}),"\n",(0,s.jsx)(n.p,{children:'destAddr = IPAddressResolver ().resolve (par ("destAddr"));\n\u89e3\u6790\u76ee\u7684\u4f4d\u5740\u8a2d\u5b9a'}),"\n",(0,s.jsx)(n.p,{children:"\u4f86\u81ea\u5176\u4ed6\u7bc0\u9ede\u5247\u555f\u52d5\u56de\u8986\u6a5f\u5236"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"processPingResponse(check_and_cast<pingpayload>(msg));"})}),"\n",(0,s.jsx)(n.p,{children:"void PingApp::sendPing()"}),"\n",(0,s.jsxs)(n.p,{children:["PingPayload ",(0,s.jsx)(n.em,{children:"msg = new PingPayload (name);\n\u65b0\u589e\u5c01\u5305\uff0c\u63a5\u8457\u4e0b\u9762\u7167\u8457\u5ba3\u544a\u7684\u683c\u5f0f\u586b\u5165\u5c0d\u61c9\u7684\u503c\nmsg->setLength (8"}),"packetSize); //? \u5c01\u5305\u88e1\u6c92\u5ba3\u544a"]}),"\n",(0,s.jsx)(n.p,{children:"sendToICMP (msg, destAddr, srcAddr, hopLimit);\n\u628a\u8a0a\u606f\u9001\u5230 ICMP \u88e1"}),"\n",(0,s.jsx)(n.p,{children:"PingApp::scheduleNextPing(cMessage *timer)"}),"\n",(0,s.jsx)(n.p,{children:"simtime_t nextPing = simTime () + intervalp->doubleValue ();\n\u6a21\u64ec\u6642\u9593\u52a0\u4e0a\u9593\u9694\u6642\u9593"}),"\n",(0,s.jsx)(n.p,{children:"void PingApp::sendToICMP (cMessage *msg, const IPvXAddress& destAddr, const IPvXAddress& srcAddr, int hopLimit)\n\u5224\u65b7\u9001\u51fa v4/v6 icmp \u683c\u5f0f\u5c01\u5305"}),"\n",(0,s.jsxs)(n.p,{children:["void PingApp::processPingResponse (PingPayload *msg)\n\u6536\u5230 ICMP \u5c01\u5305\uff0c\u5224\u65b7",(0,s.jsx)(n.code,{children:"</pingpayload>"})," v4/v6 \u4e26",(0,s.jsx)(n.code,{children:"<pingpayload>"}),"\u8655\u7406\n",(0,s.jsx)(n.code,{children:"</pingpayload>"})]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},92298(e){e.exports=JSON.parse('{"permalink":"/ipv6/2nd-day-of-tracing-INET6-Application-PingAPP","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/ipv6/2nd-day-of-tracing-INET6-Application-PingAPP.md","source":"@site/blog/ipv6/2nd-day-of-tracing-INET6-Application-PingAPP.md","title":"2nd day of tracing INET6: Application/PingAPP","description":"Define_Module(PingApp);","date":"2005-05-08T09:42:38.000Z","tags":[{"inline":true,"label":"IPv6","permalink":"/tags/i-pv-6"},{"inline":true,"label":"OMNET++","permalink":"/tags/omnet"}],"readingTime":0.74,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"2nd day of tracing INET6: Application/PingAPP","tags":["IPv6","OMNET++"],"date":"2005-05-08T09:42:38.000Z"},"unlisted":false,"prevItem":{"title":"FreeBSD TCP/IP-Stack to OMNeT++","permalink":"/ipv6/FreeBSD-TCP-IP-Stack-to-OMNeT"},"nextItem":{"title":"Tracegraph for NS2","permalink":"/ipv6/Tracegraph-for-NS2"}}')}}]);