"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[82418],{13212(e){e.exports=JSON.parse('{"permalink":"/devtools/trac-subversion-Ubuntu-installation","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/devtools/trac-subversion-Ubuntu-installation.md","source":"@site/blog/devtools/trac-subversion-Ubuntu-installation.md","title":"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)","description":"\u56e0\u70ba\u96fb\u6e90\u4e0d\u7a69\u7684\u95dc\u4fc2, \u82e6\u541e \\"svn: No such revision 425 \\" \u8a0a\u606f. svnadmin recover \u90fd\u4e0d\u7ba1\u7528, \u53ea\u597d\u91cd\u65b0 import \u4e00\u6b21 Source \u5566... \u4e0b\u6b21\u4e00\u5b9a\u7814\u7a76\u600e\u9ebc\u81ea\u52d5\u5099\u4efd Orz.","date":"2007-06-27T09:01:17.000Z","tags":[{"inline":true,"label":"trac","permalink":"/tags/trac"},{"inline":true,"label":"subversion","permalink":"/tags/subversion"}],"readingTime":2.16,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)","tags":["trac","subversion"],"date":"2007-06-27T09:01:17.000Z"},"unlisted":false,"prevItem":{"title":"XML templates \u6bd4 Plain-text templates \u9084\u5feb?","permalink":"/python/XML-templates-faster-than-Plain-text-templates"},"nextItem":{"title":"\u8207 NS3 \u7684\u7b2c\u4e00\u6b21\u63a5\u89f8-2","permalink":"/devtools/2nd-contact-with-NS3"}}')},28453(e,n,t){t.d(n,{R:()=>a,x:()=>i});var s=t(96540);const r={},o=s.createContext(r);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:n},e.children)}},34473(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var s=t(13212),r=t(74848),o=t(28453);const a={title:"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)",tags:["trac","subversion"],date:new Date("2007-06-27T09:01:17.000Z")},i="\u5b89\u88dd install apache",c={authorsImageUrls:[]},l=[{value:"\u8a2d\u5b9a Confiigure subversion",id:"\u8a2d\u5b9a-confiigure-subversion",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:'\u56e0\u70ba\u96fb\u6e90\u4e0d\u7a69\u7684\u95dc\u4fc2\uff0c\u82e6\u541e "svn: No such revision 425" \u8a0a\u606f. svnadmin recover \u90fd\u4e0d\u7ba1\u7528\uff0c\u53ea\u597d\u91cd\u65b0 import \u4e00\u6b21 Source \u5566... \u4e0b\u6b21\u4e00\u5b9a\u7814\u7a76\u600e\u9ebc\u81ea\u52d5\u5099\u4efd Orz.'}),"\n",(0,r.jsx)(n.p,{children:"$ sudo apt-get install apache2"}),"\n",(0,r.jsx)(n.h1,{id:"\u5b89\u88dd-install-subversion",children:"\u5b89\u88dd install subversion"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo apt-get install subversion"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo apt-get install libapache2-svn"}),"\n",(0,r.jsx)(n.h2,{id:"\u8a2d\u5b9a-confiigure-subversion",children:"\u8a2d\u5b9a Confiigure subversion"}),"\n",(0,r.jsx)(n.p,{children:"Enter menu system/management/user_and_group"}),"\n",(0,r.jsx)(n.p,{children:'change to group tab, add atwo new group named "www-data"(apache) and "subversion"\nthen add user [your account] and "www-data" to "subversion"\'s group members.'}),"\n",(0,r.jsx)(n.p,{children:"or use command instead::"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo adduser www-data subversion\n$ sudo adduser [your account] subversion"}),"\n",(0,r.jsx)(n.p,{children:"Then we could create svn repository::"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo svnadmin create /home/svn  (or $ sudo svnadmin /usr/local/svn)"}),"\n",(0,r.jsx)(n.p,{children:"Then Change the folder owner"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo chown -R www-data:www-data /home/svn\n$ sudo chmod -R g+ws /home/svn"}),"\n",(0,r.jsx)(n.p,{children:"Setup apache host site\n$ sudo gedit /etc/apache2/mods-enabled/dav_svn.conf"}),"\n",(0,r.jsx)(n.p,{children:"uncomment following lines:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'[Location /svn]\nDAV svn\nSVNPath /home/svn\nAuthType Basic\nAuthName "Subversion Repository"\nAuthUserFile /etc/subversion/passwd\n[/Location]\n'})}),"\n",(0,r.jsx)(n.p,{children:"or add following just above the /location:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[LimitExcept GET PROPFIND OPTIONS REPORT]\n    Require valid-user\n    [/LimitExcept]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u70ba subversion \u5b58\u53d6\u52a0\u4e0a\u5bc6\u78bc:"}),"\n",(0,r.jsx)(n.p,{children:"sudo htpasswd -c /etc/subversion/passwd user_name"}),"\n",(0,r.jsx)(n.p,{children:"\u91cd\u958b apache:"}),"\n",(0,r.jsx)(n.p,{children:"sudo /etc/init.d/apache2 restart"}),"\n",(0,r.jsx)(n.p,{children:"\u9a57\u8b49\u80fd\u53d6\u5f97 svn \u6a94\u6848:"}),"\n",(0,r.jsxs)(n.p,{children:["$ svn co ",(0,r.jsx)(n.a,{href:"http://hostname/svn/myproject",children:"http://hostname/svn/myproject"})," myproject --username user_name"]}),"\n",(0,r.jsx)(n.h1,{id:"\u5b89\u88dd-install-trac",children:"\u5b89\u88dd Install Trac"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo apt-get install trac"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo mkdir /home/trac\n$ sudo chown www-data:www-data /home/trac"}),"\n",(0,r.jsx)(n.p,{children:"To add a virtual host to host trac:"}),"\n",(0,r.jsx)(n.p,{children:"$ sudo gedit /etc/apache2/sites-available/trac"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'[VirtualHost *]\n     ServerAdmin webmaster@localhost\n     ServerName trac.example.com\n     DocumentRoot /usr/share/trac/cgi-bin/\n     [Directory /usr/share/trac/cgi-bin/]\n             Options Indexes FollowSymLinks MultiViews ExecCGI\n             AllowOverride All\n             Order allow,deny\n             allow from all\n     [/Directory]\n     Alias /trac "/usr/share/trac/htdocs"\n\n     [Location /]\n             SetHandler mod_python \n             PythonHandler trac.web.modpython_frontend \n             PythonOption TracEnvParentDir /home/trac\n             #PythonOption TracEnv /home/trac/singletrac\n             PythonOption TracUriRoot /\n     [/Location]\n\n     DirectoryIndex trac.cgi\n     ErrorLog /var/log/apache2/error.trac.log\n     CustomLog /var/log/apache2/access.trac.log combined\n\n[/VirtualHost]\n'})}),"\n",(0,r.jsx)(n.p,{children:"Uncomment the AddHandler line in /etc/apache2/apache2.conf so that the Trac CGI program will be executed:"}),"\n",(0,r.jsx)(n.h1,{id:"to-use-cgi-scripts-outside-cgi-bin",children:"To use CGI scripts outside /cgi-bin/:"}),"\n",(0,r.jsx)(n.h1,{id:""}),"\n",(0,r.jsx)(n.p,{children:"AddHandler cgi-script .cgi"}),"\n",(0,r.jsx)(n.p,{children:"Disable the default virtualhost, enable the Trac virtualhost, and restart Apache2:"}),"\n",(0,r.jsx)(n.p,{children:"sudo a2dissite default\nsudo a2ensite trac\nsudo  /etc/init.d/apache2 reload"}),"\n",(0,r.jsx)(n.h1,{id:"make-new-trac-project-expose-to-web",children:"Make New Trac Project expose to web"}),"\n",(0,r.jsx)(n.p,{children:"sudo trac-admin /home/trac/YourProjectNameHere initenv"}),"\n",(0,r.jsx)(n.p,{children:"Then the interactive interface was prompt:\n[specify the repository to /home/svn/YourProjectNameHere]"}),"\n",(0,r.jsx)(n.p,{children:"sudo chown -R www-data /home/trac/YourProjectNameHere"}),"\n",(0,r.jsxs)(n.p,{children:["Refer to\n",(0,r.jsx)(n.a,{href:"http://trac.edgewall.org/wiki/TracOnUbuntu",children:"http://trac.edgewall.org/wiki/TracOnUbuntu"}),"\n",(0,r.jsx)(n.a,{href:"http://trac.edgewall.org/wiki/TracModPython",children:"http://trac.edgewall.org/wiki/TracModPython"}),"\n",(0,r.jsx)(n.a,{href:"http://www.blendedtechnologies.com/setting-up-subversion-on-ubuntu/11",children:"http://www.blendedtechnologies.com/setting-up-subversion-on-ubuntu/11"}),"\n",(0,r.jsx)(n.a,{href:"http://philipatswarchy.wordpress.com/2006/11/27/apachesslsubversionpam/",children:"http://philipatswarchy.wordpress.com/2006/11/27/apachesslsubversionpam/"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);