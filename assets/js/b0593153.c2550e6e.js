"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[92126],{94388:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>c,frontMatter:()=>n,metadata:()=>u,toc:()=>p});var o=l(87462),a=(l(67294),l(3905));l(8209);const n={title:"TurboGears with SqlSoup",tags:["python","TurboGears"],date:new Date("2006-11-22T06:19:11.000Z")},s=void 0,u={permalink:"/python/TurboGears-with-SqlSoup",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/python/TurboGears-with-SqlSoup.md",source:"@site/blog/python/TurboGears-with-SqlSoup.md",title:"TurboGears with SqlSoup",description:"Purpose",date:"2006-11-22T06:19:11.000Z",formattedDate:"November 22, 2006",tags:[{label:"python",permalink:"/tags/python"},{label:"TurboGears",permalink:"/tags/turbo-gears"}],readingTime:1.585,hasTruncateMarker:!1,authors:[],frontMatter:{title:"TurboGears with SqlSoup",tags:["python","TurboGears"],date:"2006-11-22T06:19:11.000Z"},prevItem:{title:"TurboGears \u7c21\u55ae\u5b58\u53d6\u8cc7\u6599\u5eab\u7684\u65b9\u6cd5",permalink:"/python/TurboGears-access-db"},nextItem:{title:"Python FAQ Zone",permalink:"/python/Python-FAQ-Zone"}},r={authorsImageUrls:[]},p=[{value:"Reference",id:"reference",level:2}],i={toc:p};function c(e){let{components:t,...l}=e;return(0,a.kt)("wrapper",(0,o.Z)({},i,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Purpose"),(0,a.kt)("p",null,"Have an exist database and want migrate to TurboGears?\nOr you've been using TurboGears SQLObject model and want to migrate to ",(0,a.kt)("a",{parentName:"p",href:"http://www.sqlalchemy.org/"},"SQLAlchemy"),"?"),(0,a.kt)("p",null,"Solution"),(0,a.kt)("p",null,"TurboGears newly support SQLAlchemy 0.2 module(>0.9a6), it provide  a slick solution: SqlSoup !"),(0,a.kt)("p",null,"What SqlSoup does?"),(0,a.kt)("p",null,"SqlSoup inspects your database and reflects its contents to class, no model definitions are necessary!"),(0,a.kt)("p",null,"What does that mean?"),(0,a.kt)("p",null,"It means you only need to specify a uri for database,\nand call SqlSoup to do the rest."),(0,a.kt)("p",null,"What's the Benifits?"),(0,a.kt)("p",null,"SqlSoup maps database tables to classes automatically. I'm not sure how efficient it is, but at least you can use SqlSoup by following ways:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"To use existing Database design tools to design my database"),(0,a.kt)("li",{parentName:"ul"},"To use SqlSoup in design phase, and code to SQLAlchemy class when the databse is settled down."),(0,a.kt)("li",{parentName:"ul"},"To painless migrate SQLObject generated database to SQLAlchemyTest Code")),(0,a.kt)("p",null,"Try the test code, it is thin."),(0,a.kt)("p",null,"in model.py"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"1 from sqlalchemy.ext.sqlsoup import SqlSoup"),(0,a.kt)("p",{parentName:"blockquote"},'2 uri = "sqlite://%(current_dir_uri)s/devdata.sqlite"\n3 soup = SqlSoup(uri)')),(0,a.kt)("p",null,"Explain"),(0,a.kt)("p",null,"line 1 import SqlSoup from sqlalchemy module,"),(0,a.kt)("p",null,"line 2 specify the uri link to the database (I believe it can be improved)"),(0,a.kt)("p",null,"line 3 the real code calling SqlSoup connect to uri"),(0,a.kt)("p",null,'line 4 and line 5 shows I call the table "poll" from database'),(0,a.kt)("p",null,"if you can't execute is , maybe you should install sqlalchemy first"),(0,a.kt)("p",null,"$ easy_install sqlalchemy"),(0,a.kt)("p",null,"or try the TurboGears way:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"1 from turbogears import config\n2 from sqlalchemy.ext.sqlsoup import SqlSoup"),(0,a.kt)("p",{parentName:"blockquote"},"3 uri = config.get('sqlalchemy.dburi')\n4 soup = SqlSoup(uri)\nAll you need to do is specify the dburi for sqlsoup.")),(0,a.kt)("p",null,"Let's test what we got"),(0,a.kt)("blockquote",null,(0,a.kt)("blockquote",{parentName:"blockquote"},(0,a.kt)("blockquote",{parentName:"blockquote"},(0,a.kt)("p",{parentName:"blockquote"},"poll = soup.poll.select()\nprint poll")))),(0,a.kt)("h2",{id:"reference"},"Reference"),(0,a.kt)("p",null,"That's all you need in TurboGears.\nTo get further usage , you can refer to ",(0,a.kt)("a",{parentName:"p",href:"http://spyced.blogspot.com/2006/04/introducing-sqlsoup.html"},"Introducing SqlSoup")),(0,a.kt)("p",null,"ps: Actually TurboGears has done nothing particularly to support SqlSoup, I just use it as other modules."))}c.isMDXComponent=!0}}]);