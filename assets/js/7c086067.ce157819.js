"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[33738],{9081:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var a=n(87462),o=(n(67294),n(3905));n(8209);const r={title:"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)",tags:["trac","subversion"],date:new Date("2007-06-27T09:01:17.000Z")},s=void 0,l={permalink:"/devtools/trac-subversion-Ubuntu-installation",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/devtools/trac-subversion-Ubuntu-installation.md",source:"@site/blog/devtools/trac-subversion-Ubuntu-installation.md",title:"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)",description:'\u56e0\u70ba\u96fb\u6e90\u4e0d\u7a69\u7684\u95dc\u4fc2, \u82e6\u541e "svn: No such revision 425 " \u8a0a\u606f. svnadmin recover \u90fd\u4e0d\u7ba1\u7528, \u53ea\u597d\u91cd\u65b0 import \u4e00\u6b21 Source \u5566... \u4e0b\u6b21\u4e00\u5b9a\u7814\u7a76\u600e\u9ebc\u81ea\u52d5\u5099\u4efd Orz.',date:"2007-06-27T09:01:17.000Z",formattedDate:"June 27, 2007",tags:[{label:"trac",permalink:"/tags/trac"},{label:"subversion",permalink:"/tags/subversion"}],readingTime:1.955,hasTruncateMarker:!1,authors:[],frontMatter:{title:"trac-subversion \u5b89\u88dd\u914d\u7f6e\u8a2d\u5b9a\u4e09\u5408\u4e00 (Ubuntu)",tags:["trac","subversion"],date:"2007-06-27T09:01:17.000Z"},prevItem:{title:"XML templates \u6bd4 Plain-text templates \u9084\u5feb?",permalink:"/python/XML-templates-faster-than-Plain-text-templates"},nextItem:{title:"\u8207 NS3 \u7684\u7b2c\u4e00\u6b21\u63a5\u89f8-2",permalink:"/devtools/2nd-contact-with-NS3"}},i={authorsImageUrls:[]},u=[{value:"\u8a2d\u5b9a Confiigure subversion",id:"\u8a2d\u5b9a-confiigure-subversion",level:2}],c={toc:u};function p(t){let{components:e,...n}=t;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,'\u56e0\u70ba\u96fb\u6e90\u4e0d\u7a69\u7684\u95dc\u4fc2\uff0c\u82e6\u541e "svn: No such revision 425" \u8a0a\u606f. svnadmin recover \u90fd\u4e0d\u7ba1\u7528\uff0c\u53ea\u597d\u91cd\u65b0 import \u4e00\u6b21 Source \u5566... \u4e0b\u6b21\u4e00\u5b9a\u7814\u7a76\u600e\u9ebc\u81ea\u52d5\u5099\u4efd Orz.'),(0,o.kt)("h1",{id:"\u5b89\u88dd-install-apache"},"\u5b89\u88dd install apache"),(0,o.kt)("p",null,"$ sudo apt-get install apache2"),(0,o.kt)("h1",{id:"\u5b89\u88dd-install-subversion"},"\u5b89\u88dd install subversion"),(0,o.kt)("p",null,"$ sudo apt-get install subversion"),(0,o.kt)("p",null,"$ sudo apt-get install libapache2-svn"),(0,o.kt)("h2",{id:"\u8a2d\u5b9a-confiigure-subversion"},"\u8a2d\u5b9a Confiigure subversion"),(0,o.kt)("p",null,"Enter menu system/management/user_and_group"),(0,o.kt)("p",null,'change to group tab, add atwo new group named "www-data"(apache) and "subversion"\nthen add user ',"[your account]",' and "www-data" to "subversion"\'s group members.'),(0,o.kt)("p",null,"or use command instead::"),(0,o.kt)("p",null," $ sudo adduser www-data subversion\n$ sudo adduser ","[your account]"," subversion"),(0,o.kt)("p",null,"Then we could create svn repository::"),(0,o.kt)("p",null," $ sudo svnadmin create /home/svn  (or $ sudo svnadmin /usr/local/svn)"),(0,o.kt)("p",null,"Then Change the folder owner"),(0,o.kt)("p",null," $ sudo chown -R www-data:www-data /home/svn\n$ sudo chmod -R g+ws /home/svn"),(0,o.kt)("p",null,"Setup apache host site\n$ sudo gedit /etc/apache2/mods-enabled/dav_svn.conf"),(0,o.kt)("p",null,"uncomment following lines:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'[Location /svn]\nDAV svn\nSVNPath /home/svn\nAuthType Basic\nAuthName "Subversion Repository"\nAuthUserFile /etc/subversion/passwd\n[/Location]\n')),(0,o.kt)("p",null,"or add following just above the /location:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"[LimitExcept GET PROPFIND OPTIONS REPORT]\n    Require valid-user\n    [/LimitExcept]\n")),(0,o.kt)("p",null,"\u70ba subversion \u5b58\u53d6\u52a0\u4e0a\u5bc6\u78bc:"),(0,o.kt)("p",null,"sudo htpasswd -c /etc/subversion/passwd user_name"),(0,o.kt)("p",null,"\u91cd\u958b apache:"),(0,o.kt)("p",null,"sudo /etc/init.d/apache2 restart"),(0,o.kt)("p",null,"\u9a57\u8b49\u80fd\u53d6\u5f97 svn \u6a94\u6848:"),(0,o.kt)("p",null,"$ svn co http://hostname/svn/myproject myproject --username user_name"),(0,o.kt)("h1",{id:"\u5b89\u88dd-install-trac"},"\u5b89\u88dd Install Trac"),(0,o.kt)("p",null,"$ sudo apt-get install trac"),(0,o.kt)("p",null,"$ sudo mkdir /home/trac\n$ sudo chown www-data:www-data /home/trac"),(0,o.kt)("p",null,"To add a virtual host to host trac:"),(0,o.kt)("p",null,"$ sudo gedit /etc/apache2/sites-available/trac"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'[VirtualHost *]\n     ServerAdmin webmaster@localhost\n     ServerName trac.example.com\n     DocumentRoot /usr/share/trac/cgi-bin/\n     [Directory /usr/share/trac/cgi-bin/]\n             Options Indexes FollowSymLinks MultiViews ExecCGI\n             AllowOverride All\n             Order allow,deny\n             allow from all\n     [/Directory]\n     Alias /trac "/usr/share/trac/htdocs"\n\n     [Location /]\n             SetHandler mod_python \n             PythonHandler trac.web.modpython_frontend \n             PythonOption TracEnvParentDir /home/trac\n             #PythonOption TracEnv /home/trac/singletrac\n             PythonOption TracUriRoot /\n     [/Location]\n\n     DirectoryIndex trac.cgi\n     ErrorLog /var/log/apache2/error.trac.log\n     CustomLog /var/log/apache2/access.trac.log combined\n\n[/VirtualHost]\n')),(0,o.kt)("p",null,"Uncomment the AddHandler line in /etc/apache2/apache2.conf so that the Trac CGI program will be executed:"),(0,o.kt)("h1",{id:"to-use-cgi-scripts-outside-cgi-bin"},"To use CGI scripts outside /cgi-bin/:"),(0,o.kt)("h1",{id:""}),(0,o.kt)("p",null,"AddHandler cgi-script .cgi"),(0,o.kt)("p",null,"Disable the default virtualhost, enable the Trac virtualhost, and restart Apache2:"),(0,o.kt)("p",null,"sudo a2dissite default\nsudo a2ensite trac\nsudo  /etc/init.d/apache2 reload"),(0,o.kt)("h1",{id:"make-new-trac-project-expose-to-web"},"Make New Trac Project expose to web"),(0,o.kt)("p",null,"sudo trac-admin /home/trac/YourProjectNameHere initenv"),(0,o.kt)("p",null,"Then the interactive interface was prompt:\n","[specify the repository to /home/svn/YourProjectNameHere]"),(0,o.kt)("p",null,"sudo chown -R www-data /home/trac/YourProjectNameHere"),(0,o.kt)("p",null,"Refer to\n",(0,o.kt)("a",{parentName:"p",href:"http://trac.edgewall.org/wiki/TracOnUbuntu"},"http://trac.edgewall.org/wiki/TracOnUbuntu"),"\n",(0,o.kt)("a",{parentName:"p",href:"http://trac.edgewall.org/wiki/TracModPython"},"http://trac.edgewall.org/wiki/TracModPython"),"\n",(0,o.kt)("a",{parentName:"p",href:"http://www.blendedtechnologies.com/setting-up-subversion-on-ubuntu/11"},"http://www.blendedtechnologies.com/setting-up-subversion-on-ubuntu/11"),"\n",(0,o.kt)("a",{parentName:"p",href:"http://philipatswarchy.wordpress.com/2006/11/27/apachesslsubversionpam/"},"http://philipatswarchy.wordpress.com/2006/11/27/apachesslsubversionpam/")))}p.isMDXComponent=!0}}]);