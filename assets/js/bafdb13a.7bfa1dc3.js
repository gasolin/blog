"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[85168],{53467:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>m,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=o(87462),r=(o(67294),o(3905)),a=o(8209);const i={title:"Current Progress of Netmonitor.html",tags:["web","devtools"],date:new Date("2017-03-29T00:33:37.000Z")},l=void 0,s={permalink:"/devtools/current-progress-of-netmonitor-html",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/devtools/current-progress-of-netmonitor-html.md",source:"@site/blog/devtools/current-progress-of-netmonitor-html.md",title:"Current Progress of Netmonitor.html",description:"Update: Full instructions are avaiable on Netmonitor Readme to run the Network Monitor in the browser tab.",date:"2017-03-29T00:33:37.000Z",formattedDate:"March 29, 2017",tags:[{label:"web",permalink:"/tags/web"},{label:"devtools",permalink:"/tags/devtools"}],readingTime:4.115,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Current Progress of Netmonitor.html",tags:["web","devtools"],date:"2017-03-29T00:33:37.000Z"},prevItem:{title:"Node.js \u7684\u767c\u5c55",permalink:"/service/how-node-works"},nextItem:{title:"\u5982\u4f55\u4fee\u6539 git commits",permalink:"/devtools/git-merge-commits"}},m={authorsImageUrls:[]},d=[{value:"What Firefox Devtools team did last year",id:"what-firefox-devtools-team-did-last-year",level:2},{value:"What <code>Run on the Browser tab</code> means?",id:"what-run-on-the-browser-tab-means",level:2},{value:"Current Status",id:"current-status",level:2},{value:"What we have done in Netmonitor.html",id:"what-we-have-done-in-netmonitorhtml",level:2},{value:"What we plan to do next",id:"what-we-plan-to-do-next",level:2},{value:"What could expect in the future",id:"what-could-expect-in-the-future",level:2}],h={toc:d};function p(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Update: Full instructions are avaiable on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/mozilla/gecko-dev/blob/master/devtools/client/netmonitor/README.md"},"Netmonitor Readme")," to run the Network Monitor in the browser tab."),(0,r.kt)("p",null,"Firefox Devtools is in progress of modernizing its infrastructure to use the same toolset that modern web developers are familiar with. When talking about ",(0,r.kt)("inlineCode",{parentName:"p"},"modern")," web developers toolset, I mean ",(0,r.kt)("inlineCode",{parentName:"p"},"React"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Redux"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Immutablejs"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," modules.\ud83d\ude0e"),(0,r.kt)("h2",{id:"what-firefox-devtools-team-did-last-year"},"What Firefox Devtools team did last year"),(0,r.kt)("p",null,"Firefox Devtools was no different from Firefox itself. The Devtools panels are written in ",(0,r.kt)("inlineCode",{parentName:"p"},"XUL"),", an HTML-like syntax language, and use several Firefox internal API called ",(0,r.kt)("inlineCode",{parentName:"p"},"XPCOM")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Chrome privileged API"),"(Nothing related to Chrome Browser) to make the browser works.\ud83d\udc7d"),(0,r.kt)("p",null,"In last year(2016), Firefox Devtools team's main goal is to convert the code base from XUL to pure HTML. The second goal is convert each tool with React/Redux structure for maintenance. Debugger, Inspector, Web Console are the first batch in the conversion progress.\n",(0,r.kt)("a",{parentName:"p",href:"https://hacks.mozilla.org/2016/09/introducing-debugger-html/"},"Debugger.html")," is the very first attempt from Firefox Devtools team to embrace the modern web developers' toolset. Now new Debugger and Web Console are available in Firefox ",(0,r.kt)("a",{parentName:"p",href:"https://www.mozilla.org/en-US/firefox/channel/desktop/"},"Nightly"),"\ud83c\udf78"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/devtools-html/debugger.html"},"Debugger.html"),", Perf.html(Performance) has their standalone repository hosted on Github. A developer could use ",(0,r.kt)("inlineCode",{parentName:"p"},"git clone")," to get the repository, and then do ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn install"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn start"),"(similar to npm command) to debug the debugger.html/perf.html with any browser's devtools!\ud83d\ude85"),(0,r.kt)(a.G,{chart:"graph LR\nclone[git clone] --\x3e install[yarn install]\ninstall --\x3e start[yarn start]",mdxType:"Mermaid"}),(0,r.kt)("h2",{id:"what-run-on-the-browser-tab-means"},"What ",(0,r.kt)("inlineCode",{parentName:"h2"},"Run on the Browser tab")," means?"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Run on the Browser tab")," is a term versus ",(0,r.kt)("inlineCode",{parentName:"p"},"Run inside of the developer panel"),". Traditionally Devtools are running inside of the browser's developer panel. But some of new Firefox Devtools support run as normal web pages. Those pages can be opened in a browser tab by any modern browser such as Chrome, Safari, or Edge. The benefit is we can improve Firefox Devtools with any Browser's Devtools, its an unfair advantage.\ud83d\ude80"),(0,r.kt)(a.G,{chart:"graph LR\nFirefox -- debugging --\x3e netmonitor(Netmonitor.html)\nnetmonitor -- mozilla-rdp --\x3e Firefox\nChrome -- debugging --\x3e netmonitor\nEdge -- debugging --\x3e netmonitor\nSafari -- debugging --\x3e netmonitor",mdxType:"Mermaid"}),(0,r.kt)("p",null,"We are going to make more Devtools easy to debug and can be used for cross-browser debugging."),(0,r.kt)("h2",{id:"current-status"},"Current Status"),(0,r.kt)("p",null,"To replacing the jet engine while still flying is a challenging engineering work. To make it happen, we take several engineering experiments around Devtools."),(0,r.kt)("p",null,"Here are the projects in progress and where they are hosted from:"),(0,r.kt)(a.G,{chart:"graph LR\ndebugger(Debugger.html) --\x3e Nightly\nperf(Perf.html) --\x3e Nightly\nwebconsole(WebConsole.html) --\x3e Nightly\nstandalone[Github] --\x3e debugger\nstandalone --\x3e perf\nrefactor[mozilla-central] --\x3e webconsole\ninspector(Inspector.html) --\x3e Release\nnetmonitor(Netmonitor.html) --\x3e Release\nrefactor --\x3e inspector\nrefactor --\x3e netmonitor",mdxType:"Mermaid"}),(0,r.kt)("h2",{id:"what-we-have-done-in-netmonitorhtml"},"What we have done in Netmonitor.html"),(0,r.kt)("p",null,"Ricky Chien and I joined the effort of convert Object Inspector from XUL to HTML. Object Inspector is a more complicated tool to convert, so Object Inspector is still half ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," and without ",(0,r.kt)("inlineCode",{parentName:"p"},"Redux")," in the playground."),(0,r.kt)("p",null,"When the Object Inspector is fully converted to HTML, we shift our focus on convert the next important Devtool: ",(0,r.kt)("inlineCode",{parentName:"p"},"Netmonitor"),". With Honza, Janda, Steve Chung, and other contributors' help, at the end of Feb we have reached our first phase tangible goal: Converted the whole Netmonitor panel from XUL to HTML, with ",(0,r.kt)("inlineCode",{parentName:"p"},"React"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Redux"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"Immutablejs"),". Now we have confidence that the code base is easy to read and contribute.\ud83e\udd17"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"http://i.imgur.com/aiqBXV5.png",alt:"Imgur"}),"\nPicture: How current Netmonitor looks like"),(0,r.kt)("h2",{id:"what-we-plan-to-do-next"},"What we plan to do next"),(0,r.kt)("p",null,"We just finished the Netmonitor workweek (Fred, Honza, Ricky) in Taiwan, plenty of discussions have occurred, and we have good progress for what should be going on for the Netmonitor."),(0,r.kt)("p",null,"Here they are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"We\u2019ve triaged all new Netmonitor bugs and identify ",(0,r.kt)("a",{parentName:"li",href:"http://firefox-dev.tools/?easy&tool=network"},"good-first-bugs")),(0,r.kt)("li",{parentName:"ul"},"We have Prove-Of-Concept branches to prove we can run netmonitor on the browser tab"),(0,r.kt)("li",{parentName:"ul"},"We decide to keep using ",(0,r.kt)("inlineCode",{parentName:"li"},"mozilla-central"),"(The gecko) repo. Beside the current workflow, a developer would able to run ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn start")," command to debugging Netmonitor on the browser tab with any browser's devtool."),(0,r.kt)("li",{parentName:"ul"},"We stop Netmonitor.html phase I work immediately (convert XUL to HTML, MVP 100% completed)"),(0,r.kt)("li",{parentName:"ul"},"We'll start Netmonitor.html phase II (To run Netmonitor on a browser tab so that we can debug Netmonitor with any browser's devtool)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"All phase II bugs are filed in the ",(0,r.kt)("a",{parentName:"li",href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1348737"},"Meta-bug"))))),(0,r.kt)("h2",{id:"what-could-expect-in-the-future"},"What could expect in the future"),(0,r.kt)("p",null,"Currently, Debugger.html have supported both Firefox and Chrome remote debugging protocols, so Debugger.html could be used to debug Firefox, Chrome, or even Node.js!\ud83d\ude2e"),(0,r.kt)(a.G,{chart:"graph LR\nFirefox -- debugging --\x3e netmonitor(Netmonitor.html)\nnetmonitor -- mozilla-rdp --\x3e Firefox\nChrome -- debugging --\x3e netmonitor\nnetmonitor -- chrome-rdp --\x3e Chrome\nnetmonitor -- chrome-rdp --\x3e Node[Node.js]\nSafari -- debugging --\x3e netmonitor\nEdge -- debugging --\x3e netmonitor",mdxType:"Mermaid"}),(0,r.kt)("p",null,"Since Debugger.html's pure web stack nature, you can imagine one day the debugger.html can be embedded into some editors(Atom, Visual Studio Code) as plugins, or even in other browsers!\ud83d\ude07"),(0,r.kt)(a.G,{chart:"graph LR\ndebugger(Debugger.html) --\x3e Firefox\ndebugger --\x3e browsertab[Browser Tab]\ndebugger --\x3e Editor\ndebugger --\x3e other[Other Browser]",mdxType:"Mermaid"}),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Run with different remote debugging protocols")," is the next step once we make Netmonitor.html run on the browser tab."))}p.isMDXComponent=!0}}]);