"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[28983],{28453(e,t,o){o.d(t,{R:()=>r,x:()=>l});var i=o(96540);const n={},s=i.createContext(n);function r(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(s.Provider,{value:t},e.children)}},61763(e,t,o){o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var i=o(96849),n=o(74848),s=o(28453);const r={title:"Single line of style to bring (keypart of) f.lux on FirefoxOS",tags:["FirefoxOS"],date:new Date("2015-02-24T07:34:23.000Z")},l=void 0,a={authorsImageUrls:[]},c=[{value:"What&#39;s Next",id:"whats-next",level:3}];function d(e){const t={a:"a",code:"code",h3:"h3",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Claim: this exercise is for experiment, not for product."}),"\n",(0,n.jsx)(t.p,{}),"\n",(0,n.jsxs)(t.p,{children:["According to ",(0,n.jsx)(t.a,{href:"http://en.wikipedia.org/wiki/F.lux",children:"wikipedia"}),", ",(0,n.jsx)(t.strong,{children:"f.lux"})," adjusts a computer display's ",(0,n.jsx)(t.a,{href:"http://en.wikipedia.org/wiki/Color_temperature",title:"Color temperature",children:"color temperature"})," according to its location and time of day. I always use it on my Mac to make my eyes more comfortable at night."]}),"\n",(0,n.jsxs)(t.p,{children:["So, the topic is about if we can bring that experience on Firefox OS.\nAdjust display's color temperature generally is a system specific issue. But actually it can be categorized as an CSS trick if we like to ",(0,n.jsx)(t.a,{href:"https://gist.github.com/contra/254e1a5a07da830d6051",children:"make it on web"})," (a gist to mimic the f.lux effect)."]}),"\n",(0,n.jsx)(t.p,{children:"To quick experiment if it doable or not, the validation steps are:"}),"\n",(0,n.jsxs)(t.p,{children:["1. open the ",(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Tools/WebIDE",children:"WebIDE"})," on ",(0,n.jsx)(t.a,{href:"https://www.mozilla.org/en-US/firefox/developer/",children:"Firefox Developer Edition"}),"\n2. download and open emulator (I choose v2.2) on WebIDE.\n3. To debug system app, choose ",(0,n.jsx)(t.code,{children:"System"})," from top left selector in WebIDE.\n4. once connected,\xa0 select the ",(0,n.jsx)(t.code,{children:"html"})," tag and add style\n",(0,n.jsx)(t.code,{children:"**filter: brightness(0.8) sepia(0.9);**"})," into the element."]}),"\n",(0,n.jsx)(t.p,{}),"\n",(0,n.jsx)(t.p,{children:"The live view changed to f.lux like color temperature."}),"\n",(0,n.jsx)(t.p,{}),"\n",(0,n.jsx)(t.p,{children:"So it works!"}),"\n",(0,n.jsxs)(t.p,{children:["To make it persistent on real device, edit ",(0,n.jsx)(t.code,{children:"[gaia/apps/system/style/system/system.css](https://github.com/mozilla-b2g/gaia/blob/master/apps/system/style/system/system.css#L5)"}),", add above style into ",(0,n.jsx)(t.code,{children:"html"})," tag. Run ",(0,n.jsx)(t.code,{children:"make reset-gaia"})," then you have the style applied on device."]}),"\n",(0,n.jsx)(t.h3,{id:"whats-next",children:"What's Next"}),"\n",(0,n.jsx)(t.p,{children:"The above experiment will change your device's color temperature permanently, which is not what f.lux do. To make it as option, you can add an option in settings > developer panel and add a observer in system to dynamically add such style into system html tag."}),"\n",(0,n.jsxs)(t.p,{children:["If you feel the strong desire to have such feature happen on Firefox OS device, fire a bug on ",(0,n.jsx)(t.a,{href:"http://bugzilla.mozilla.org/",children:"bugzilla"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},96849(e){e.exports=JSON.parse('{"permalink":"/mozilla/Single-line-of-style-to-bring-keypart-of-f-lux-on-FirefoxOS","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/mozilla/Single-line-of-style-to-bring-keypart-of-f-lux-on-FirefoxOS.md","source":"@site/blog/mozilla/Single-line-of-style-to-bring-keypart-of-f-lux-on-FirefoxOS.md","title":"Single line of style to bring (keypart of) f.lux on FirefoxOS","description":"Claim: this exercise is for experiment, not for product.","date":"2015-02-24T07:34:23.000Z","tags":[{"inline":true,"label":"FirefoxOS","permalink":"/tags/firefox-os"}],"readingTime":2.47,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Single line of style to bring (keypart of) f.lux on FirefoxOS","tags":["FirefoxOS"],"date":"2015-02-24T07:34:23.000Z"},"unlisted":false,"prevItem":{"title":"\u7528 IFTTT \u505a\u81ea\u52d5\u751f\u6d3b\u7d00\u9304 (LifeLog)","permalink":"/life/LifeLog-via-IFTTT"},"nextItem":{"title":"\u96b1\u79c1\u8207 Hololens","permalink":"/vr/privacy-Hololens"}}')}}]);