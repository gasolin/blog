"use strict";(globalThis.webpackChunkblog=globalThis.webpackChunkblog||[]).push([[61589],{28453(e,o,t){t.d(o,{R:()=>a,x:()=>r});var n=t(96540);const s={},i=n.createContext(s);function a(e){const o=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:o},e.children)}},64836(e){e.exports=JSON.parse('{"permalink":"/mozilla/JSDoc-generator-in-Gaia","editUrl":"https://github.com/gasolin/blog/edit/main/website/blog/blog/mozilla/JSDoc-generator-in-Gaia.md","source":"@site/blog/mozilla/JSDoc-generator-in-Gaia.md","title":"JSDoc generator in Gaia","description":"Last week I\'ve post on dev-gaia to notice the change of JSDoc generator.","date":"2015-06-08T02:47:26.000Z","tags":[{"inline":true,"label":"FirefoxOS","permalink":"/tags/firefox-os"},{"inline":true,"label":"webframework","permalink":"/tags/webframework"}],"readingTime":1.99,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"JSDoc generator in Gaia","tags":["FirefoxOS","webframework"],"date":"2015-06-08T02:47:26.000Z"},"unlisted":false,"prevItem":{"title":"FoxBox 1.0, \u8b93\u4f60\u5728\u4e00\u500b\u5c0f\u6642\u5167\u4e0d\u75db\u5b89\u88dd Firefox OS \u958b\u767c\u74b0\u5883\u7684\u8a2d\u5b9a\u5de5\u5177","permalink":"/mozilla/FoxBox-1-0-install-Firefox-OS-devtool-within-1hr"},"nextItem":{"title":"Javascript\uff0c\u5f81\u670d\u4e16\u754c\u662f\u53ef\u80fd\u7684\u55ce\uff1f","permalink":"/code/Javascript-conquer-the-world"}}')},81597(e,o,t){t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>n,toc:()=>c});var n=t(64836),s=t(74848),i=t(28453);const a={title:"JSDoc generator in Gaia",tags:["FirefoxOS","webframework"],date:new Date("2015-06-08T02:47:26.000Z")},r=void 0,l={authorsImageUrls:[]},c=[];function h(e){const o={a:"a",blockquote:"blockquote",code:"code",iframe:"iframe",p:"p",wbr:"wbr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.iframe,{allowFullScreen:!0,frameBorder:"0",height:"333",mozallowfullscreen:"",msallowfullscreen:"",oallowfullscreen:"",src:"https://www.flickr.com/photos/martino_/9737982315/in/photolist-fQvGSP-amDaFg-amG2rb-59b4Yy-5vWMzf-f8qaks-hxt2tZ-9vy7L8-hD4KYt-edj5U8-4GZkRV-edj3BF-oKVYK7-edpEGS-edjc8T-f8brp4-dm5RTi-7SGqv8-8cxsHY-991Tu5-hAXRh8-fgMMhj-jjR181-4EySgF-fwa9zL-cAtxiU-7HKgV-9VMUi1-h4tqKg-ej3JDk-azMMwP-8p6YBM-akKnga-91AQhf-2j7XBh-pGxPMD-bTBf44-mSJdMU-ixg1hh-jd1NvW-fvUZYz-fvUXbP-7kpHpC-91xGz8-91AQ7b-hD3SUB-tf8mBc-gYsCxY-j7WsYW-ixg9AZ/player/",webkitallowfullscreen:"",width:"500"}),"\n",(0,s.jsxs)(o.p,{children:["Last week I've ",(0,s.jsx)(o.a,{href:"https://groups.google.com/forum/#!topic/mozilla.dev.gaia/UI1uL7ukedo",children:"post"})," on dev-gaia to notice the change of JSDoc generator."]}),"\n",(0,s.jsxs)(o.p,{children:["Now gaia's jsdoc generator takes standard  jsdoc config format from each app's jsdoc.json file. And app owner could  customize its look and feel if they prefer to do so.\n",(0,s.jsxs)(o.a,{href:"http://usejsdoc.org/about-configuring-jsdoc.html",children:["http://usejsdoc.org/about-",(0,s.jsx)(o.wbr,{}),"configuring-jsdoc.html"]})]}),"\n",(0,s.jsxs)(o.p,{children:["Here's the working jsdoc for Firefox OS settings app ",(0,s.jsx)(o.a,{href:"http://gasolin.github.io/gaia/settings/",children:"http://gasolin.github.io/gaia/settings/ ."})]}),"\n",(0,s.jsx)(o.p,{}),"\n",(0,s.jsxs)(o.p,{children:["The trick is done by ",(0,s.jsx)(o.a,{href:"http://gulpjs.com/",children:"gulp"})," and shell commands, which can be apply on any other projects. Here's how I did it."]}),"\n",(0,s.jsx)(o.p,{children:"First of all is install required packages"}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["$ npm install gulp gulp-shell jsdoc --save-dev\nThen open ",(0,s.jsx)(o.code,{children:"gulpfile.js"})," and add following scripts:"]}),"\n"]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"var gulp = require('gulp');\nvar shell = require('gulp-shell');"}),"\n",(0,s.jsxs)(o.p,{children:["gulp.task('jsdoc', shell.task([\n\xa0 './node_modules/jsdoc/jsdoc.js -c jsdoc.json'\n]));\n(It's an simplified version because gaia contains 20+ web apps in it, so I add some tree-walking code to create bunch of gulp tasks. But basically its the same)\nThe simplified version is now available for reuse in ",(0,s.jsx)(o.a,{href:"https://github.com/webapplate/webapplate/blob/master/gulpfile.js",children:"webapplate"}),"."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Bonus section:"}),"\n",(0,s.jsxs)(o.p,{children:["Here's how I upload jsdoc (",(0,s.jsx)(o.a,{href:"http://gasolin.github.io/gaia/settings/",children:"http://gasolin.github.io/gaia/settings/"})," , ",(0,s.jsx)(o.a,{href:"http://gasolin.github.io/gaia/system/",children:"http://gasolin.github.io/gaia/system/"}),") to github gh pages."]}),"\n",(0,s.jsx)(o.p,{children:"Add another section in gulpfile.js with following script"}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"var gulp = require('gulp');\nvar ghPages = require('gulp-gh-pages');"}),"\n",(0,s.jsx)(o.p,{children:"..."}),"\n",(0,s.jsxs)(o.p,{children:["gulp.task('github', ['jsdoc'], function() {\n\xa0 return gulp.src('./docs/**/*')\n\xa0\xa0\xa0 .pipe(ghPages());\n});\nRun ",(0,s.jsx)(o.code,{children:"gulp github"})," command and the build tool will generate jsdoc and upload to github page automatically."]}),"\n"]})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);