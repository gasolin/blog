"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[69921],{50822:(t,e,o)=>{o.r(e),o.d(e,{assets:()=>p,contentTitle:()=>m,default:()=>s,frontMatter:()=>l,metadata:()=>r,toc:()=>i});var n=o(87462),a=(o(67294),o(3905));o(8209);const l={title:"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c",tags:["python","TurboGears"],date:new Date("2006-11-16T02:43:13.000Z")},m=void 0,r={permalink:"/python/TurboEntity-SimpleBlog-2",editUrl:"https://github.com/gasolin/blog/edit/main/website/blog/blog/python/TurboEntity-SimpleBlog-2.md",source:"@site/blog/python/TurboEntity-SimpleBlog-2.md",title:"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c",description:"\u7528 TurboEntity \u7167\u8457 'SimpleBlog Part II' \u4e2d\u7684\u7bc4\u4f8b\u6539\u5beb\u5f8c, \u7372\u5f97\u4ee5\u4e0b\u7a0b\u5f0f\u78bc (model.py):",date:"2006-11-16T02:43:13.000Z",formattedDate:"November 16, 2006",tags:[{label:"python",permalink:"/tags/python"},{label:"TurboGears",permalink:"/tags/turbo-gears"}],readingTime:1.56,hasTruncateMarker:!1,authors:[],frontMatter:{title:"TurboEntity \u7248 SimpleBlog \u4e4b\u4e8c",tags:["python","TurboGears"],date:"2006-11-16T02:43:13.000Z"},prevItem:{title:"Python FAQ Zone",permalink:"/python/Python-FAQ-Zone"},nextItem:{title:"\u5982\u4f55\u5728  Blogger (Blogspot) \u4e0a\u4f7f\u7528 UrMap API",permalink:"/service/UrMap-API-on-Blogger-Blogspot"}},p={authorsImageUrls:[]},i=[],u={toc:i};function s(t){let{components:e,...o}=t;return(0,a.kt)("wrapper",(0,n.Z)({},u,o,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\u7528 ",(0,a.kt)("a",{parentName:"p",href:"http://turboentity.ematia.de/"},"TurboEntity")," \u7167\u8457 '",(0,a.kt)("a",{parentName:"p",href:"http://www.splee.co.uk/2006/10/20/simpleblog-part-2/"},"SimpleBlog Part II"),"' \u4e2d\u7684\u7bc4\u4f8b\u6539\u5beb\u5f8c\uff0c\u7372\u5f97\u4ee5\u4e0b\u7a0b\u5f0f\u78bc (model.py):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'>\n> from turboentity import *\n> from docutils.core import publish_parts\n> \n> class Post(Entity): \n>     class turboentity:\n>         tablename = "posts"\n> \n>     title = Column(Unicode(50))\n>     content = Column(Unicode)\n>     post_date = Column(DateTime, default=datetime.now())\n>     is_published = Column(Boolean, default=False)\n>     comments = OneToMany(\'Comment\',backref=\'posts\')\n> \n>     @property\n>     def html_content(self):\n>         return publish_parts(self.content,writer_name="html")["html_body"]\n> \n> class Comment(Entity):\n>     class turboentity:\n>         tablename = "comments"\n> \n>     author_name = Column(Unicode(255), nullable=False)\n>     author_email = Column(Unicode(255), nullable=False)\n>     author_url = Column(String(255))\n>     comment_date = Column(DateTime, default=datetime.now())\n>     content = Column(Unicode)\n>     post = ManyToOne("Post",backref=\'comments\') \n>\n')),(0,a.kt)("p",null,"\u8981\u8868\u793a post-comments \u95dc\u4fc2\u53ea\u9700\u5206\u5225\u5728\u5169\u500b\u985e\u5225\u4e2d\u5ba3\u544a OneToMany - ManyToOne \u5373\u53ef\uff0c\u771f\u662f\u65b9\u4fbf\u5440."),(0,a.kt)("p",null,"\u53e6\u5916\u7576\u5b9a\u7fa9\u597d ",(0,a.kt)("a",{parentName:"p",href:"http://turboentity.ematia.de/"},"TurboEntity")," \u985e\u5225\u5f8c\uff0c\u7269\u4ef6\u81ea\u52d5\u53ef\u4ee5\u7528\u50b3\u503c\u7684\u65b9\u5f0f\u8f38\u5165\u5167\u5bb9\uff0c\u4e0d\u9700\u4e00\u500b\u500b\u5404\u5225\u6307\u5b9a\u5594."),(0,a.kt)("p",null,"\u4f8b\u5982\u4e00\u822c\u7684\u5beb\u6cd5\u662f\u9019\u6a23\u5b50:"),(0,a.kt)("blockquote",null,(0,a.kt)("blockquote",{parentName:"blockquote"},(0,a.kt)("blockquote",{parentName:"blockquote"},(0,a.kt)("blockquote",{parentName:"blockquote"},(0,a.kt)("p",{parentName:"blockquote"},'p = Post.get (1) # \u53d6\u5f97\u689d\u76ee\nc = Comment () # \u65b0\u5efa\u4e00\u689d\u8a55\u8ad6\nc.post = p # \u9019\u689d\u8a55\u8ad6\u5c6c\u65bc p \u689d\u76ee\nc.author_name = "CommentDude1" # \u9019\u689d\u76ee\u7684\u4f5c\u8005\u662f\nc.author_email = "',(0,a.kt)("a",{parentName:"p",href:"mailto:cd1@example.com"},"cd1@example.com"),'" # \u9019\u689d\u76ee\u4f5c\u8005\u7684\u90f5\u4ef6\u4fe1\u7bb1\u662f\nc.content = "Great post!  Keep them coming!" # \u9019\u689d\u76ee\u7684\u5167\u5bb9\nc.flush ()\n\u53ef\u4ee5\u76f4\u63a5\u6539\u6210\np = Post.get (1)\nc = Comment (post=post, author_name="Bob", author_email="',(0,a.kt)("a",{parentName:"p",href:"mailto:bob@example.com"},"bob@example.com"),'", content="Bob loves this site.", author_url="',(0,a.kt)("a",{parentName:"p",href:"http://bob.example.com/%22"},'http://bob.example.com/"'),")\nc.flush()"))))),(0,a.kt)("p",null,"\u7528",(0,a.kt)("a",{parentName:"p",href:"http://turboentity.ematia.de/"},"TurboEntity"),"\u6539\u5beb\u7684\u7a0b\u5f0f\u548c\u539f\u672c Tutorial \u76f8\u6bd4\uff0c\u53ef\u4ee5\u770b\u51fa\u5b83\u597d\u7528\u7684\u5730\u65b9."))}s.isMDXComponent=!0}}]);